{"version":3,"file":"static/js/336.6d9cf0b9.chunk.js","mappings":"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","sources":["pages/CEO_Dashboard/CEODashboardComponents/PartnerDashboard/AINarration.js","pages/CEO_Dashboard/CEODashboardComponents/PartnerDashboard/index.js","pages/CEO_Dashboard/CEODashboardComponents/PartnerDashboard/useLiveUpdates.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { FaCommentDots, FaBrain, FaSpinner, FaExclamationTriangle, FaCheckCircle, FaLightbulb, FaCalendarCheck, FaTimes, FaRobot } from 'react-icons/fa';\r\nimport { useIntelligence } from '../../../../contexts/IntelligenceContext';\r\n\r\nexport default function AINarration({ onClose, darkMode }) {\r\n  const [analysis, setAnalysis] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\r\n  const [followUpDate, setFollowUpDate] = useState(null);\r\n  \r\n  // X-ULTRA Intelligence Integration\r\n  const intelligence = useIntelligence();\r\n\r\n  // Get enhanced organizational data with X-ULTRA intelligence\r\n  const getOrganizationalData = () => {\r\n    try {\r\n      const uploads = localStorage.getItem('conseqx_uploads_v1');\r\n      const assessmentData = uploads ? JSON.parse(uploads) : [];\r\n      \r\n      // Integrate X-ULTRA intelligence into analysis\r\n      const baseData = {\r\n        systems: {\r\n          interdependency: { score: 72, trend: 'improving' },\r\n          iteration: { score: 68, trend: 'stable' },\r\n          investigation: { score: 45, trend: 'declining' },\r\n          integration: { score: 78, trend: 'improving' },\r\n          implementation: { score: 63, trend: 'stable' },\r\n          interpretation: { score: 52, trend: 'declining' }\r\n        },\r\n        overallHealth: 63,\r\n        criticalIssues: assessmentData.length === 0 ? ['No recent data uploads'] : [],\r\n        dataPoints: assessmentData.length,\r\n        lastUpdated: new Date().toISOString()\r\n      };\r\n\r\n      // Enhance with X-ULTRA intelligence if available\r\n      if (intelligence.sharedMetrics) {\r\n        baseData.xulatraEnhanced = {\r\n          conversationInsights: intelligence.conversationInsights ? intelligence.conversationInsights.length : 0,\r\n          revenueScore: intelligence.sharedMetrics.financialHealth?.score || 'baseline',\r\n          riskLevel: intelligence.sharedMetrics.riskLevel?.level || 'moderate',\r\n          systemsHealth: intelligence.sharedMetrics.overallHealth?.score || 'N/A',\r\n          smartRecommendations: intelligence.generateRecommendations ? intelligence.generateRecommendations() : [],\r\n          contextualData: intelligence.getContextualPrompt ? intelligence.getContextualPrompt('Partner Dashboard Analysis') : ''\r\n        };\r\n      }\r\n\r\n      return baseData;\r\n    } catch {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Generate AI Analysis\r\n  const generateAnalysis = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const orgData = getOrganizationalData();\r\n      \r\n      if (!orgData) {\r\n        throw new Error('No organizational data available for analysis');\r\n      }\r\n\r\n      // Mock AI analysis for demo purposes (replace with actual API call)\r\n      await new Promise(resolve => setTimeout(resolve, 2000)); // Simulate API delay\r\n\r\n      const lowSystems = Object.entries(orgData.systems)\r\n        .filter(([_, data]) => data.score < 60)\r\n        .map(([system, data]) => ({ system, ...data }));\r\n\r\n      const highSystems = Object.entries(orgData.systems)\r\n        .filter(([_, data]) => data.score >= 75)\r\n        .map(([system, data]) => ({ system, ...data }));\r\n\r\n      // X-ULTRA Enhanced Analysis\r\n      const mockAnalysis = {\r\n        executiveSummary: orgData.xulatraEnhanced \r\n          ? `X-ULTRA Enhanced Analysis: Your organization shows ${orgData.overallHealth}% health with ${orgData.xulatraEnhanced.conversationInsights} active intelligence insights. Revenue scoring at ${orgData.xulatraEnhanced.revenueScore || 'baseline'} with ${orgData.xulatraEnhanced.riskLevel || 'moderate'} risk profile.`\r\n          : (orgData.overallHealth >= 70 \r\n            ? `Your organization shows strong health with an overall score of ${orgData.overallHealth}%. Key strengths in ${highSystems.map(s => s.system).join(' and ')}.`\r\n            : `Organizational health at ${orgData.overallHealth}% indicates areas for improvement. Priority focus needed on ${lowSystems.map(s => s.system).join(', ')}.`),\r\n        \r\n        criticalInsights: [\r\n          ...lowSystems.map(s => `${s.system}: Score of ${s.score}% suggests immediate attention needed`),\r\n          ...orgData.criticalIssues,\r\n          ...(orgData.xulatraEnhanced?.smartRecommendations?.map(rec => `X-ULTRA Alert: ${rec.title} - ${rec.description}`) || [])\r\n        ],\r\n        \r\n        recommendations: orgData.xulatraEnhanced?.smartRecommendations?.length > 0 ? [\r\n          ...orgData.xulatraEnhanced.smartRecommendations.map(rec => `${rec.title}: ${rec.description}`),\r\n          'Leverage X-ULTRA conversation insights for strategic planning',\r\n          'Monitor real-time intelligence metrics for proactive management'\r\n        ] : (lowSystems.length > 0 ? [\r\n          'Implement weekly check-ins for underperforming systems',\r\n          'Establish clear ownership and accountability metrics',\r\n          'Consider cross-functional collaboration initiatives'\r\n        ] : [\r\n          'Maintain current performance levels',\r\n          'Explore growth and innovation opportunities',\r\n          'Consider expanding successful practices to other areas'\r\n        ]),\r\n        \r\n        nextSteps: [\r\n          'Continue X-ULTRA conversation intelligence capture',\r\n          'Monitor Partner Dashboard integration metrics',\r\n          'Schedule follow-up assessment in 30 days',\r\n          'Implement recommended action items',\r\n          'Leverage X-ULTRA contextual insights for decision making'\r\n        ],\r\n\r\n        xulatraEnhanced: orgData.xulatraEnhanced || null\r\n      };\r\n\r\n      setAnalysis(mockAnalysis);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    generateAnalysis();\r\n  }, []);\r\n\r\n  // Export report functionality\r\n  const exportReport = () => {\r\n    try {\r\n      if (!analysis) return;\r\n      \r\n      const reportContent = `X-ULTRA POWERED ORGANIZATIONAL ANALYSIS REPORT\r\nGenerated: ${new Date().toLocaleString()}\r\nIntelligence Level: ${analysis.xulatraEnhanced ? 'Enhanced with Real-Time Insights' : 'Standard Analysis'}\r\n\r\nEXECUTIVE SUMMARY\r\n${analysis.executiveSummary}\r\n\r\nCRITICAL INSIGHTS\r\n${analysis.criticalInsights.map(insight => `• ${insight}`).join('\\n')}\r\n\r\nSTRATEGIC RECOMMENDATIONS\r\n${analysis.recommendations.map(rec => `• ${rec}`).join('\\n')}\r\n\r\nNEXT STEPS\r\n${analysis.nextSteps.map(step => `• ${step}`).join('\\n')}\r\n\r\n${analysis.xulatraEnhanced ? `\r\nX-ULTRA INTELLIGENCE SUMMARY\r\n• Conversation Insights Captured: ${analysis.xulatraEnhanced.conversationInsights}\r\n• Revenue Score: ${analysis.xulatraEnhanced.revenueScore || 'Not Available'}\r\n• Risk Assessment: ${analysis.xulatraEnhanced.riskLevel || 'Not Available'}\r\n• Systems Health: ${analysis.xulatraEnhanced.systemsHealth || 'Not Available'}\r\n` : ''}\r\n\r\n---\r\nGenerated by ConseQ-X X-ULTRA Analysis Engine\r\nPowered by Real-Time Intelligence Integration\r\n`;\r\n\r\n      const blob = new Blob([reportContent], { type: 'text/plain' });\r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = `ConseQ-X-ULTRA-Analysis-${new Date().toISOString().split('T')[0]}.txt`;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      document.body.removeChild(a);\r\n      URL.revokeObjectURL(url);\r\n    } catch (error) {\r\n      console.error('Export failed:', error);\r\n      alert('Export failed. Please try again.');\r\n    }\r\n  };\r\n\r\n  // Schedule follow-up functionality\r\n  const scheduleFollowUp = () => {\r\n    try {\r\n      const newFollowUpDate = new Date();\r\n      newFollowUpDate.setDate(newFollowUpDate.getDate() + 30);\r\n      \r\n      const followUpData = {\r\n        id: `followup_${Date.now()}`,\r\n        title: 'ULTRA Analysis Follow-up',\r\n        date: newFollowUpDate.toISOString(),\r\n        type: 'ultra-analysis',\r\n        orgId: 'current-org',\r\n        createdAt: new Date().toISOString()\r\n      };\r\n\r\n      // Save to localStorage\r\n      const existingFollowUps = JSON.parse(localStorage.getItem('conseqx_followups_v1') || '[]');\r\n      existingFollowUps.push(followUpData);\r\n      localStorage.setItem('conseqx_followups_v1', JSON.stringify(existingFollowUps));\r\n\r\n      setFollowUpDate(newFollowUpDate);\r\n      setShowSuccessModal(true);\r\n    } catch (error) {\r\n      console.error('Scheduling failed:', error);\r\n      setError('Failed to schedule follow-up. Please try again.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <style>{`\r\n        .ultra-scrollable::-webkit-scrollbar {\r\n          display: none;\r\n        }\r\n        .ultra-scrollable {\r\n          -ms-overflow-style: none;\r\n          scrollbar-width: none;\r\n        }\r\n      `}</style>\r\n      <div \r\n        className=\"ultra-scrollable max-h-[80vh] overflow-y-auto p-6\" \r\n      >\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className={`p-2 rounded-lg bg-gradient-to-r from-emerald-500 to-blue-500`}>\r\n              <FaRobot className=\"text-white\" size={20} />\r\n            </div>\r\n            <div>\r\n              <h2 className=\"text-lg font-semibold flex items-center gap-2\">\r\n                X-ULTRA Organizational Analysis\r\n                {intelligence.sharedMetrics && (\r\n                  <span className=\"px-2 py-0.5 rounded-full text-xs bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300\">\r\n                    Enhanced\r\n                  </span>\r\n                )}\r\n              </h2>\r\n              <p className=\"text-sm text-gray-500\">\r\n                {intelligence.sharedMetrics \r\n                  ? 'Real-time intelligence with conversation insights'\r\n                  : 'Premium AI insights and strategic recommendations'\r\n                }\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <button \r\n            onClick={onClose}\r\n            className={`p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}\r\n          >\r\n            <FaTimes size={16} />\r\n          </button>\r\n        </div>\r\n\r\n      {loading && (\r\n        <div className=\"flex items-center justify-center py-12\">\r\n          <div className=\"text-center\">\r\n            <div className=\"relative mb-4\">\r\n              <FaSpinner className=\"animate-spin text-emerald-500 mx-auto mb-3\" size={24} />\r\n              <div className=\"absolute inset-0 bg-gradient-to-r from-emerald-500 to-blue-500 rounded-full blur-lg opacity-20 animate-pulse\"></div>\r\n            </div>\r\n            <p className=\"text-sm text-gray-500\">X-ULTRA analyzing organizational intelligence...</p>\r\n            <p className=\"text-xs text-gray-400 mt-1\">\r\n              {intelligence.sharedMetrics \r\n                ? `Processing ${intelligence.conversationInsights ? intelligence.conversationInsights.length : 0} conversation insights with real-time metrics`\r\n                : 'Processing 6 systems and cross-dependencies with premium AI precision'\r\n              }\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {error && (\r\n        <div className={`p-4 rounded-lg border ${darkMode ? 'bg-red-900/20 border-red-700' : 'bg-red-50 border-red-200'}`}>\r\n          <div className=\"flex items-center gap-3\">\r\n            <FaExclamationTriangle className=\"text-red-600\" />\r\n            <div>\r\n              <div className=\"font-medium text-red-900 dark:text-red-100\">ULTRA-Analysis Failed</div>\r\n              <div className=\"text-sm text-red-800 dark:text-red-200\">{error}</div>\r\n            </div>\r\n          </div>\r\n          <button \r\n            onClick={generateAnalysis}\r\n            className=\"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700\"\r\n          >\r\n            Retry ULTRA-Analysis\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {analysis && (\r\n        <div className=\"space-y-6\">\r\n          {/* Executive Summary */}\r\n          <div className={`p-4 rounded-lg border ${darkMode ? 'bg-blue-900/20 border-blue-700' : 'bg-blue-50 border-blue-200'}`}>\r\n            <div className=\"flex items-center gap-3 mb-3\">\r\n              <FaCheckCircle className=\"text-blue-600\" />\r\n              <h3 className=\"font-medium\">Executive Summary</h3>\r\n            </div>\r\n            <p className=\"text-sm leading-relaxed\">{analysis.executiveSummary}</p>\r\n          </div>\r\n\r\n          {/* Critical Insights */}\r\n          {analysis.criticalInsights.length > 0 && (\r\n            <div className={`p-4 rounded-lg border ${darkMode ? 'bg-yellow-900/20 border-yellow-700' : 'bg-yellow-50 border-yellow-200'}`}>\r\n              <div className=\"flex items-center gap-3 mb-3\">\r\n                <FaExclamationTriangle className=\"text-yellow-600\" />\r\n                <h3 className=\"font-medium\">Critical Insights</h3>\r\n              </div>\r\n              <ul className=\"space-y-2\">\r\n                {analysis.criticalInsights.map((insight, idx) => (\r\n                  <li key={idx} className=\"text-sm flex items-start gap-2\">\r\n                    <span className=\"text-yellow-600 mt-1\">•</span>\r\n                    <span>{insight}</span>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n\r\n          {/* Recommendations */}\r\n          <div className={`p-4 rounded-lg border ${darkMode ? 'bg-green-900/20 border-green-700' : 'bg-green-50 border-green-200'}`}>\r\n            <div className=\"flex items-center gap-3 mb-3\">\r\n              <FaLightbulb className=\"text-green-600\" />\r\n              <h3 className=\"font-medium\">Strategic Recommendations</h3>\r\n            </div>\r\n            <ul className=\"space-y-2\">\r\n              {analysis.recommendations.map((rec, idx) => (\r\n                <li key={idx} className=\"text-sm flex items-start gap-2\">\r\n                  <span className=\"text-green-600 mt-1\">•</span>\r\n                  <span>{rec}</span>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n\r\n          {/* Action Items */}\r\n          <div className={`p-4 rounded-lg border ${darkMode ? 'bg-purple-900/20 border-purple-700' : 'bg-purple-50 border-purple-200'}`}>\r\n            <div className=\"flex items-center gap-3 mb-3\">\r\n              <FaCommentDots className=\"text-purple-600\" />\r\n              <h3 className=\"font-medium\">Next Steps</h3>\r\n            </div>\r\n            <ul className=\"space-y-2\">\r\n              {analysis.nextSteps.map((step, idx) => (\r\n                <li key={idx} className=\"text-sm flex items-start gap-2\">\r\n                  <span className=\"text-purple-600 mt-1\">•</span>\r\n                  <span>{step}</span>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"flex gap-3 pt-4 border-t border-gray-200 dark:border-gray-700\">\r\n            <button \r\n              onClick={generateAnalysis}\r\n              className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm hover:bg-indigo-700 flex items-center gap-2\"\r\n            >\r\n              <FaBrain size={14} />\r\n              Regenerate ULTRA-Analysis\r\n            </button>\r\n            <button \r\n              onClick={exportReport}\r\n              className=\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm hover:bg-gray-50 dark:hover:bg-gray-800\"\r\n            >\r\n              Export Report\r\n            </button>\r\n            <button \r\n              onClick={scheduleFollowUp}\r\n              className=\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm hover:bg-gray-50 dark:hover:bg-gray-800\"\r\n            >\r\n              Schedule Follow-up\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      </div>\r\n\r\n      {/* Success Modal for Follow-up Scheduling */}\r\n      {showSuccessModal && (\r\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\r\n          <div className={`max-w-md w-full rounded-2xl shadow-2xl ${darkMode ? 'bg-gray-800 border border-gray-600' : 'bg-white border border-gray-100'} transform transition-all duration-300 scale-100`}>\r\n            {/* Success Header */}\r\n            <div className={`p-6 text-center border-b ${darkMode ? 'border-gray-700' : 'border-gray-100'}`}>\r\n              <div className=\"mx-auto w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/20 flex items-center justify-center mb-4\">\r\n                <FaCalendarCheck className=\"text-green-600 text-2xl\" />\r\n              </div>\r\n              <h3 className=\"text-xl font-semibold text-green-600 mb-2\">\r\n                Follow-up Scheduled Successfully!\r\n              </h3>\r\n              <p className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                Your next ULTRA Analysis has been scheduled\r\n              </p>\r\n            </div>\r\n\r\n            {/* Success Content */}\r\n            <div className=\"p-6\">\r\n              <div className={`p-4 rounded-lg ${darkMode ? 'bg-green-900/10 border border-green-700' : 'bg-green-50 border border-green-200'} mb-6`}>\r\n                <div className=\"flex items-center gap-3 mb-3\">\r\n                  <FaCheckCircle className=\"text-green-600 flex-shrink-0\" />\r\n                  <div className=\"text-sm font-medium text-green-900 dark:text-green-100\">\r\n                    Reminder Set for {followUpDate?.toLocaleDateString('en-US', {\r\n                      weekday: 'long',\r\n                      year: 'numeric',\r\n                      month: 'long',\r\n                      day: 'numeric'\r\n                    })}\r\n                  </div>\r\n                </div>\r\n                <div className={`text-xs ${darkMode ? 'text-green-300' : 'text-green-700'}`}>\r\n                  • Automated reminder will be sent 3 days before\r\n                  <br />\r\n                  • Full organizational health reassessment scheduled\r\n                  <br />\r\n                  • ULTRA Analysis report will be generated automatically\r\n                </div>\r\n              </div>\r\n\r\n              <div className={`p-4 rounded-lg ${darkMode ? 'bg-blue-900/10 border border-blue-700' : 'bg-blue-50 border border-blue-200'} mb-6`}>\r\n                <div className=\"flex items-center gap-3 mb-2\">\r\n                  <FaLightbulb className=\"text-blue-600 flex-shrink-0\" />\r\n                  <div className=\"text-sm font-medium text-blue-900 dark:text-blue-100\">\r\n                    What happens next?\r\n                  </div>\r\n                </div>\r\n                <div className={`text-xs ${darkMode ? 'text-blue-300' : 'text-blue-700'}`}>\r\n                  Continue implementing the current recommendations. We'll track progress and provide updated insights during your next analysis.\r\n                </div>\r\n              </div>\r\n\r\n              {/* Action Buttons */}\r\n              <div className=\"flex gap-3\">\r\n                <button\r\n                  onClick={() => setShowSuccessModal(false)}\r\n                  className=\"flex-1 px-4 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center justify-center gap-2\"\r\n                >\r\n                  <FaCheckCircle size={14} />\r\n                  Perfect, Got It!\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowSuccessModal(false);\r\n                    exportReport();\r\n                  }}\r\n                  className={`px-4 py-3 rounded-lg font-medium border transition-colors ${darkMode ? 'border-gray-600 text-gray-300 hover:bg-gray-700' : 'border-gray-300 text-gray-700 hover:bg-gray-50'}`}\r\n                >\r\n                  Export Current Report\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Close Button */}\r\n            <button\r\n              onClick={() => setShowSuccessModal(false)}\r\n              className={`absolute top-4 right-4 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}\r\n            >\r\n              <FaTimes size={16} />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { NavLink, Outlet, useOutletContext, useNavigate } from 'react-router-dom';\r\nimport { FaBrain, FaRobot, FaComments, FaLightbulb, FaChartPie, FaExclamationTriangle } from 'react-icons/fa';\r\nimport CustomizationPanel from './components/CustomizationPanel';\r\nimport useLiveUpdates from './useLiveUpdates';\r\nimport AINarration from './AINarration';\r\nimport { exportToCSV, exportToPDF, shareToEmail } from './exportUtils';\r\nimport { useIntelligence } from '../../../../contexts/IntelligenceContext';\r\n\r\n// Partner Dashboard shell: provides internal navigation for CEO-level views.\r\nexport default function PartnerDashboard() {\r\n  const outlet = useOutletContext();\r\n  const darkMode = outlet?.darkMode ?? false;\r\n  const orgId = outlet?.org?.id || outlet?.org?.orgId || \"anon\";\r\n  const navigate = useNavigate();\r\n  \r\n  // X-ULTRA Intelligence Integration\r\n  const intelligence = useIntelligence();\r\n  \r\n  // Live updates hook - must be declared before using 'connected' variable\r\n  const { connected } = useLiveUpdates('ws://localhost:4002');\r\n\r\n  const KEY = 'conseqx_partner_dashboard_widgets_v1';\r\n\r\n  const savedOrder = React.useMemo(() => {\r\n    try { \r\n      const raw = localStorage.getItem(KEY); \r\n      const saved = raw ? JSON.parse(raw) : null;\r\n      return saved;\r\n    } catch { \r\n      return null; \r\n    }\r\n  }, []);\r\n\r\n\r\n\r\n\r\n  // Force update localStorage with correct tab order\r\n  React.useEffect(() => {\r\n    const defaultOrder = ['overview','deep-dive','forecast','recommendations','benchmarking'];\r\n    try {\r\n      localStorage.setItem(KEY, JSON.stringify(defaultOrder));\r\n    } catch (e) {\r\n      console.warn('Could not update navigation order:', e);\r\n    }\r\n  }, []);\r\n\r\n\r\n\r\n \r\n  const navItem = (to, label) => {\r\n    const full = `/ceo/partner-dashboard/${to}`;\r\n    return (\r\n      <NavLink \r\n        key={to}\r\n        to={full} \r\n        className={({isActive}) => `px-3 py-2 rounded-md text-sm transition-colors ${isActive ? 'bg-blue-600 text-white' : (darkMode ? 'text-gray-200 hover:bg-gray-800/30' : 'text-gray-700 hover:bg-gray-100')}`}\r\n      >\r\n        {label}\r\n      </NavLink>\r\n    );\r\n  };\r\n\r\n  const [aiOpen, setAiOpen] = React.useState(false);\r\n  const [lastUpload, setLastUpload] = React.useState(() => {\r\n    try { const raw = localStorage.getItem('conseqx_uploads_v1'); const arr = raw ? JSON.parse(raw) : []; return arr && arr.length ? arr[0] : null; } catch { return null; }\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    function onStorage(e) {\r\n      if (!e.key || e.key === 'conseqx_uploads_v1') {\r\n        try { const raw = localStorage.getItem('conseqx_uploads_v1'); const arr = raw ? JSON.parse(raw) : []; setLastUpload(arr && arr.length ? arr[0] : null); } catch {}\r\n      }\r\n    }\r\n    window.addEventListener('storage', onStorage);\r\n    let bc = null;\r\n    try {\r\n      bc = new BroadcastChannel('conseqx_assessments');\r\n      bc.addEventListener('message', (ev) => { if (ev?.data?.type === 'assessments:update') onStorage({ key: 'conseqx_uploads_v1' }); });\r\n    } catch (e) {\r\n      bc = null;\r\n    }\r\n\r\n    return () => {\r\n      window.removeEventListener('storage', onStorage);\r\n      if (bc) {\r\n        try { bc.close(); } catch (e) {}\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"min-h-[60vh]\">\r\n      <div className=\"flex items-start gap-4 mb-6\">\r\n        <div className=\"flex-1\">\r\n          <div className=\"flex items-center gap-3 mb-2\">\r\n            {intelligence.sharedMetrics && (\r\n              <div className=\"flex items-center gap-2\">\r\n                <FaRobot className=\"text-emerald-500\" size={16} />\r\n                <h2 className={`text-2xl font-bold ${darkMode ? 'text-gray-100' : 'text-gray-900'}`}>C-Suite X-ULTRA</h2>\r\n                {/* <span className=\"text-xs text-emerald-600 font-medium\">X-ULTRA Enhanced</span> */}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <p className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>\r\n            Comprehensive organizational health monitoring and analysis\r\n          </p>\r\n        </div>\r\n        \r\n        {/* Dashboard Controls - Right Side */}\r\n        <div className=\"flex flex-col gap-3\">\r\n          {/* Connection Status */}\r\n          <div className={`flex items-center gap-2 px-3 py-2 rounded-lg text-xs ${connected ? 'bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400 border border-green-200 dark:border-green-700' : 'bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-400 border border-red-200 dark:border-red-700'}`}>\r\n            <div className={`w-2 h-2 rounded-full ${connected ? 'bg-green-500' : 'bg-red-500'} ${connected ? 'animate-pulse' : ''}`}></div>\r\n            <span className=\"font-medium whitespace-nowrap\">\r\n              {connected ? 'Real-time Data Connected' : 'Data Connection Offline'}\r\n            </span>\r\n          </div>\r\n          \r\n          {/* X-ULTRA Analysis Button */}\r\n          <button \r\n            onClick={() => setAiOpen((s)=>!s)} \r\n            className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-emerald-600 to-blue-600 text-white text-sm hover:from-emerald-700 hover:to-blue-700 transition-all whitespace-nowrap shadow-lg\"\r\n          >\r\n            <FaBrain size={14} />\r\n            X-ULTRA Analysis\r\n          </button>\r\n          \r\n          {/* Chat Integration Button */}\r\n          <button \r\n            onClick={() => navigate('/ceo/chat')}\r\n            className=\"flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 text-sm hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors whitespace-nowrap\"\r\n          >\r\n            <FaComments size={14} />\r\n            Open X-ULTRA Chat\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Connection Status Details */}\r\n      <div className=\"mb-6\">\r\n        {!connected && (\r\n          <div className={`p-3 rounded-lg border ${darkMode ? 'bg-red-900/10 border-red-700' : 'bg-red-50 border-red-200'}`}>\r\n            <div className=\"text-xs text-red-600 dark:text-red-400\">\r\n              • WebSocket connection to localhost:4002 failed\r\n              <br />\r\n              • Live updates and real-time monitoring unavailable\r\n              <br />\r\n              • Run <code className=\"px-1 py-0.5 bg-gray-100 dark:bg-gray-800 rounded\">node server/mockWsServer.js</code> to enable live data\r\n            </div>\r\n          </div>\r\n        )}\r\n        {connected && (\r\n          <div className={`p-3 rounded-lg border ${darkMode ? 'bg-green-900/10 border-green-700' : 'bg-green-50 border-green-200'}`}>\r\n            <div className=\"text-xs text-green-600 dark:text-green-400\">\r\n              • Real-time organizational health monitoring active\r\n              <br />\r\n              • Live system updates every 5-10 seconds\r\n              <br />\r\n              • WebSocket connection stable\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* X-ULTRA Intelligence Panel */}\r\n      {intelligence.sharedMetrics && (\r\n        <div className={`mb-6 p-4 rounded-xl border ${darkMode ? 'bg-gradient-to-r from-gray-900/50 to-gray-800/50 border-gray-700' : 'bg-gradient-to-r from-blue-50/50 to-emerald-50/50 border-gray-200'}`}>\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <FaRobot className=\"text-emerald-500\" size={18} />\r\n              <h3 className=\"font-semibold text-lg\">X-ULTRA Intelligence</h3>\r\n            </div>\r\n            {intelligence.conversationInsights && intelligence.conversationInsights.length > 0 && (\r\n              <span className={`px-3 py-1 rounded-full text-xs ${darkMode ? 'bg-emerald-900/30 text-emerald-300' : 'bg-emerald-100 text-emerald-700'}`}>\r\n                {intelligence.conversationInsights.length} Active Insights\r\n              </span>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n            {/* Live Metrics Summary */}\r\n            <div className={`p-3 rounded-lg ${darkMode ? 'bg-gray-800/50' : 'bg-white/80'} border ${darkMode ? 'border-gray-600' : 'border-gray-200'}`}>\r\n              <div className=\"flex items-center gap-2 mb-2\">\r\n                <FaChartPie className=\"text-blue-500\" size={14} />\r\n                <h4 className=\"font-medium text-sm\">Live Metrics</h4>\r\n              </div>\r\n              <div className=\"space-y-1\">\r\n                <div className=\"flex justify-between text-xs\">\r\n                  <span className={darkMode ? 'text-gray-300' : 'text-gray-600'}>Financial Health</span>\r\n                  <span className=\"font-medium\">{intelligence.sharedMetrics.financialHealth?.score || 'N/A'}</span>\r\n                </div>\r\n                <div className=\"flex justify-between text-xs\">\r\n                  <span className={darkMode ? 'text-gray-300' : 'text-gray-600'}>Risk Level</span>\r\n                  <span className={`font-medium ${\r\n                    intelligence.sharedMetrics.riskLevel?.level === 'High' ? 'text-red-500' : \r\n                    intelligence.sharedMetrics.riskLevel?.level === 'Medium' ? 'text-yellow-500' : \r\n                    'text-green-500'\r\n                  }`}>\r\n                    {intelligence.sharedMetrics.riskLevel?.level || 'N/A'}\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex justify-between text-xs\">\r\n                  <span className={darkMode ? 'text-gray-300' : 'text-gray-600'}>Overall Health</span>\r\n                  <span className=\"font-medium\">{intelligence.sharedMetrics.overallHealth?.score || 'N/A'}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Recent Insights */}\r\n            <div className={`p-3 rounded-lg ${darkMode ? 'bg-gray-800/50' : 'bg-white/80'} border ${darkMode ? 'border-gray-600' : 'border-gray-200'}`}>\r\n              <div className=\"flex items-center gap-2 mb-2\">\r\n                <FaLightbulb className=\"text-yellow-500\" size={14} />\r\n                <h4 className=\"font-medium text-sm\">Latest Insight</h4>\r\n              </div>\r\n              {intelligence.conversationInsights && intelligence.conversationInsights.length > 0 ? (\r\n                <div className=\"text-xs\">\r\n                  <p className={`${darkMode ? 'text-gray-300' : 'text-gray-600'} mb-1`}>\r\n                    {intelligence.conversationInsights[0].insight.substring(0, 100)}...\r\n                  </p>\r\n                  <span className={`px-2 py-0.5 rounded-full text-xs ${\r\n                    intelligence.conversationInsights[0].category === 'Financial' ? 'bg-green-100 text-green-700' :\r\n                    intelligence.conversationInsights[0].category === 'Strategic' ? 'bg-blue-100 text-blue-700' :\r\n                    intelligence.conversationInsights[0].category === 'Risk' ? 'bg-red-100 text-red-700' :\r\n                    'bg-gray-100 text-gray-700'\r\n                  }`}>\r\n                    {intelligence.conversationInsights[0].category}\r\n                  </span>\r\n                </div>\r\n              ) : (\r\n                <p className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                  No insights captured yet\r\n                </p>\r\n              )}\r\n            </div>\r\n\r\n            {/* Smart Recommendations */}\r\n            <div className={`p-3 rounded-lg ${darkMode ? 'bg-gray-800/50' : 'bg-white/80'} border ${darkMode ? 'border-gray-600' : 'border-gray-200'}`}>\r\n              <div className=\"flex items-center gap-2 mb-2\">\r\n                <FaExclamationTriangle className=\"text-orange-500\" size={14} />\r\n                <h4 className=\"font-medium text-sm\">Smart Alert</h4>\r\n              </div>\r\n              {intelligence.sharedMetrics && (\r\n                <div className=\"text-xs\">\r\n                  {(() => {\r\n                    const recommendations = intelligence.generateRecommendations();\r\n                    return recommendations && recommendations.length > 0 ? (\r\n                      <div>\r\n                        <p className={`${darkMode ? 'text-gray-300' : 'text-gray-600'} mb-1`}>\r\n                          {recommendations[0].description}\r\n                        </p>\r\n                        <span className={`px-2 py-0.5 rounded-full text-xs ${\r\n                          recommendations[0].priority === 'high' \r\n                            ? 'bg-red-100 text-red-700' \r\n                            : 'bg-yellow-100 text-yellow-700'\r\n                        }`}>\r\n                          {recommendations[0].priority} priority\r\n                        </span>\r\n                      </div>\r\n                    ) : (\r\n                      <p className={`${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                        All systems operating within normal parameters\r\n                      </p>\r\n                    );\r\n                  })()}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Navigation for detailed views - Desktop Only */}\r\n      <div className=\"flex gap-4\">\r\n        {/* Desktop Sidebar */}\r\n        <aside className={`hidden md:block w-64 rounded-lg p-4 ${darkMode ? 'bg-gray-900 border border-gray-700' : 'bg-white border border-gray-100'}`}>\r\n          <div className=\"mb-4\">\r\n            <h3 className=\"font-semibold text-sm mb-3\">Detailed Analysis</h3>\r\n            <p className=\"text-xs text-gray-500 mb-4\">\r\n              Explore in-depth views and advanced analytics\r\n            </p>\r\n          </div>\r\n          \r\n          <nav className=\"flex flex-col gap-2\">\r\n            {/* Force all tabs to appear in correct order */}\r\n            {navItem('overview', 'System Overview')}\r\n            {navItem('deep-dive', 'Deep Dive Analysis')}\r\n            {navItem('forecast', 'Forecast & Scenarios')}\r\n            {navItem('recommendations', 'Action Items')}\r\n            {navItem('benchmarking', 'Industry Benchmarks')}\r\n          </nav>\r\n        </aside>\r\n\r\n\r\n        <main className=\"flex-1\">\r\n          {/* Render nested routes from App.js here */}\r\n          <Outlet context={{ darkMode, orgId }} />\r\n        </main>\r\n      </div>\r\n\r\n      {/* AI Narration Modal */}\r\n      {aiOpen && (\r\n        <div className=\"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\r\n          <div className={`max-w-2xl w-full rounded-xl ${darkMode ? 'bg-gray-900 border border-gray-700' : 'bg-white border border-gray-200'}`}>\r\n            <AINarration onClose={() => setAiOpen(false)} darkMode={darkMode} />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useRef, useState } from 'react';\r\n\r\n// Simple WebSocket hook with reconnect and CustomEvent dispatching for local dev\r\nexport default function useLiveUpdates(url = 'ws://localhost:4002') {\r\n  const wsRef = useRef(null);\r\n  const [connected, setConnected] = useState(false);\r\n  const retryRef = useRef(1000);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n\r\n    function connect() {\r\n      try {\r\n        const ws = new WebSocket(url);\r\n        wsRef.current = ws;\r\n        ws.addEventListener('open', () => { if (!mounted) return; setConnected(true); retryRef.current = 1000; });\r\n        ws.addEventListener('message', (ev) => {\r\n          try {\r\n            const data = JSON.parse(ev.data);\r\n            // dispatch an app-wide event for components to consume\r\n            window.dispatchEvent(new CustomEvent('conseqx:live:update', { detail: data }));\r\n          } catch (e) {\r\n            // non-json payload\r\n            window.dispatchEvent(new CustomEvent('conseqx:live:update', { detail: { raw: ev.data } }));\r\n          }\r\n        });\r\n        ws.addEventListener('close', () => { if (!mounted) return; setConnected(false); setTimeout(() => { retryRef.current = Math.min(30000, retryRef.current * 1.5); connect(); }, retryRef.current); });\r\n        ws.addEventListener('error', () => { /* ignore - will trigger close */ });\r\n      } catch (e) { setConnected(false); setTimeout(connect, retryRef.current); }\r\n    }\r\n\r\n    connect();\r\n    return () => { mounted = false; try { if (wsRef.current) wsRef.current.close(); } catch {} };\r\n  }, [url]);\r\n\r\n  function send(payload) {\r\n    try { if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN) wsRef.current.send(JSON.stringify(payload)); }\r\n    catch {}\r\n  }\r\n\r\n  return { connected, send, socket: wsRef.current };\r\n}\r\n"],"names":["AINarration","_ref","onClose","darkMode","analysis","setAnalysis","useState","loading","setLoading","error","setError","showSuccessModal","setShowSuccessModal","followUpDate","setFollowUpDate","intelligence","useIntelligence","generateAnalysis","async","_orgData$xulatraEnhan","_orgData$xulatraEnhan2","_orgData$xulatraEnhan3","_orgData$xulatraEnhan4","orgData","getOrganizationalData","uploads","localStorage","getItem","assessmentData","JSON","parse","baseData","systems","interdependency","score","trend","iteration","investigation","integration","implementation","interpretation","overallHealth","criticalIssues","length","dataPoints","lastUpdated","Date","toISOString","_intelligence$sharedM","_intelligence$sharedM2","_intelligence$sharedM3","sharedMetrics","xulatraEnhanced","conversationInsights","revenueScore","financialHealth","riskLevel","level","systemsHealth","smartRecommendations","generateRecommendations","contextualData","getContextualPrompt","_unused","Error","Promise","resolve","setTimeout","lowSystems","Object","entries","filter","_ref2","_","data","map","_ref3","system","_objectSpread","highSystems","_ref4","_ref5","mockAnalysis","executiveSummary","concat","s","join","criticalInsights","rec","title","description","recommendations","nextSteps","err","message","useEffect","exportReport","reportContent","toLocaleString","insight","step","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","split","body","appendChild","click","removeChild","revokeObjectURL","console","alert","_jsxs","_Fragment","children","_jsx","className","FaRobot","size","onClick","FaTimes","FaSpinner","FaExclamationTriangle","FaCheckCircle","idx","FaLightbulb","FaCommentDots","FaBrain","scheduleFollowUp","newFollowUpDate","setDate","getDate","followUpData","id","now","date","orgId","createdAt","existingFollowUps","push","setItem","stringify","FaCalendarCheck","toLocaleDateString","weekday","year","month","day","PartnerDashboard","_outlet$darkMode","_outlet$org","_outlet$org2","_intelligence$sharedM4","_intelligence$sharedM5","outlet","useOutletContext","org","navigate","useNavigate","connected","arguments","undefined","wsRef","useRef","setConnected","retryRef","mounted","connect","ws","WebSocket","current","addEventListener","ev","window","dispatchEvent","CustomEvent","detail","e","raw","Math","min","close","send","payload","readyState","OPEN","_unused2","socket","useLiveUpdates","KEY","React","defaultOrder","warn","navItem","to","label","full","NavLink","isActive","aiOpen","setAiOpen","lastUpload","setLastUpload","arr","onStorage","key","_unused3","bc","BroadcastChannel","_ev$data","removeEventListener","FaComments","FaChartPie","substring","category","priority","Outlet","context"],"sourceRoot":""}