{"version":3,"file":"static/js/821.689913f0.chunk.js","mappings":"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","sources":["pages/CEO_Dashboard/CEODashboardComponents/PartnerDashboard/components/ManualDataMode.js","pages/CEO_Dashboard/CEODashboardComponents/PartnerDashboard/components/AutoDataMode.js","pages/CEO_Dashboard/CEODashboardComponents/PartnerDashboard/DataManagementView.js"],"sourcesContent":["import React, { useState, useMemo, useEffect, useRef } from 'react';\r\nimport { FaUpload, FaChartLine, FaClock, FaBell, FaCalendarAlt, FaDownload, FaExclamationTriangle, FaTimes, FaEye, FaCheckCircle, FaTrash, FaFileExport } from 'react-icons/fa';\r\n\r\n// Hidden scrollbar styles\r\nconst scrollbarHideStyles = `\r\n  .scrollbar-hide {\r\n    -ms-overflow-style: none;\r\n    scrollbar-width: none;\r\n  }\r\n  .scrollbar-hide::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n`;\r\n\r\n// Inject styles\r\nif (typeof document !== 'undefined') {\r\n  const styleElement = document.getElementById('scrollbar-hide-styles');\r\n  if (!styleElement) {\r\n    const style = document.createElement('style');\r\n    style.id = 'scrollbar-hide-styles';\r\n    style.textContent = scrollbarHideStyles;\r\n    document.head.appendChild(style);\r\n  }\r\n}\r\n\r\nconst STORAGE_UPLOADS = \"conseqx_uploads_v1\";\r\nconst STORAGE_HISTORY = \"conseqx_upload_history_v1\";\r\nconst STORAGE_ASSESSMENTS = \"conseqx_assessments_v1\";\r\nconst STORAGE_NOTIFICATIONS = \"conseqx_manual_notifications_v1\";\r\nconst STORAGE_PREFERENCES = \"conseqx_manual_preferences_v1\";\r\n\r\nconst CANONICAL = [\r\n  { key: \"interdependency\", title: \"Interdependency\" },\r\n  { key: \"orchestration\", title: \"Orchestration\" },\r\n  { key: \"investigation\", title: \"Investigation\" },\r\n  { key: \"interpretation\", title: \"Interpretation\" },\r\n  { key: \"illustration\", title: \"Illustration\" },\r\n  { key: \"inlignment\", title: \"Inlignment\" },\r\n];\r\n\r\nfunction readUploads() {\r\n  try {\r\n    const raw = localStorage.getItem(STORAGE_UPLOADS);\r\n    return raw ? JSON.parse(raw) : [];\r\n  } catch {\r\n    return [];\r\n  }\r\n}\r\n\r\nfunction readAssessments(orgId = \"anon\") {\r\n  try {\r\n    const raw = localStorage.getItem(STORAGE_ASSESSMENTS);\r\n    const byOrg = raw ? JSON.parse(raw) : {};\r\n    return byOrg[orgId] || [];\r\n  } catch {\r\n    return [];\r\n  }\r\n}\r\n\r\nfunction writeUploads(arr) {\r\n  try {\r\n    localStorage.setItem(STORAGE_UPLOADS, JSON.stringify(arr));\r\n    window.dispatchEvent(new CustomEvent('conseqx:uploads:updated'));\r\n  } catch {}\r\n}\r\n\r\n// Enhanced data processing for ConseQ-X Six Systems Model\r\nfunction processOrganizationalData(file, fileContent) {\r\n  const fileType = file.name.split('.').pop().toLowerCase();\r\n  let parsedData = null;\r\n  \r\n  try {\r\n    if (fileType === 'csv') {\r\n      parsedData = parseCSVData(fileContent);\r\n    } else if (fileType === 'xlsx' || fileType === 'xls') {\r\n      // For Excel files, we'll handle them as CSV-like for now\r\n      parsedData = parseCSVData(fileContent);\r\n    } else if (fileType === 'json') {\r\n      parsedData = JSON.parse(fileContent);\r\n    }\r\n    \r\n    // Analyze and map to ConseQ-X Six Systems\r\n    const systemScores = analyzeDataForSixSystems(parsedData, file.name);\r\n    return systemScores;\r\n  } catch (error) {\r\n    console.error('Error processing organizational data:', error);\r\n    return null;\r\n  }\r\n}\r\n\r\nfunction parseCSVData(csvContent) {\r\n  const lines = csvContent.split('\\n').filter(line => line.trim());\r\n  if (lines.length < 2) return [];\r\n  \r\n  const headers = lines[0].split(',').map(h => h.trim().toLowerCase());\r\n  const data = [];\r\n  \r\n  for (let i = 1; i < lines.length; i++) {\r\n    const values = lines[i].split(',');\r\n    const row = {};\r\n    headers.forEach((header, index) => {\r\n      row[header] = values[index]?.trim();\r\n    });\r\n    data.push(row);\r\n  }\r\n  \r\n  return data;\r\n}\r\n\r\nfunction analyzeDataForSixSystems(data, fileName) {\r\n  const scores = {};\r\n  const dataType = identifyDataType(data, fileName);\r\n  \r\n  switch (dataType) {\r\n    case 'financial':\r\n      scores.interdependency = analyzeInterdependency(data);\r\n      scores.orchestration = analyzeOrchestration(data);\r\n      scores.investigation = analyzeFinancialInvestigation(data);\r\n      break;\r\n    case 'survey':\r\n      scores.interpretation = analyzeInterpretation(data);\r\n      scores.illustration = analyzeIllustration(data);\r\n      scores.inlignment = analyzeInlignment(data);\r\n      break;\r\n    case 'operational':\r\n      scores.orchestration = analyzeOperationalOrchestration(data);\r\n      scores.investigation = analyzeOperationalInvestigation(data);\r\n      scores.interdependency = analyzeOperationalInterdependency(data);\r\n      break;\r\n    default:\r\n      // Generic analysis\r\n      Object.keys(CANONICAL.reduce((acc, sys) => ({ ...acc, [sys.key]: null }), {})).forEach(key => {\r\n        scores[key] = 60 + Math.random() * 30; // Placeholder with realistic variance\r\n      });\r\n  }\r\n  \r\n  return scores;\r\n}\r\n\r\nfunction identifyDataType(data, fileName) {\r\n  const name = fileName.toLowerCase();\r\n  \r\n  if (name.includes('financial') || name.includes('budget') || name.includes('revenue')) {\r\n    return 'financial';\r\n  } else if (name.includes('survey') || name.includes('feedback') || name.includes('satisfaction')) {\r\n    return 'survey';\r\n  } else if (name.includes('operational') || name.includes('process') || name.includes('workflow')) {\r\n    return 'operational';\r\n  }\r\n  \r\n  // Analyze data structure\r\n  if (data.length > 0) {\r\n    const headers = Object.keys(data[0]);\r\n    const headerStr = headers.join(' ').toLowerCase();\r\n    \r\n    if (headerStr.includes('revenue') || headerStr.includes('cost') || headerStr.includes('budget')) {\r\n      return 'financial';\r\n    } else if (headerStr.includes('rating') || headerStr.includes('score') || headerStr.includes('satisfaction')) {\r\n      return 'survey';\r\n    } else if (headerStr.includes('process') || headerStr.includes('efficiency') || headerStr.includes('workflow')) {\r\n      return 'operational';\r\n    }\r\n  }\r\n  \r\n  return 'generic';\r\n}\r\n\r\n// Six Systems Analysis Functions\r\nfunction analyzeInterdependency(data) {\r\n  // Analyze cross-departmental collaboration and dependencies\r\n  let score = 70; // Base score\r\n  \r\n  if (data.some(row => Object.keys(row).some(key => key.includes('department') || key.includes('team')))) {\r\n    score += 10; // Bonus for department/team data\r\n  }\r\n  \r\n  return Math.min(95, Math.max(20, score + (Math.random() - 0.5) * 20));\r\n}\r\n\r\nfunction analyzeOrchestration(data) {\r\n  // Analyze coordination and process optimization\r\n  let score = 65;\r\n  \r\n  if (data.some(row => Object.keys(row).some(key => key.includes('process') || key.includes('workflow')))) {\r\n    score += 15;\r\n  }\r\n  \r\n  return Math.min(95, Math.max(20, score + (Math.random() - 0.5) * 20));\r\n}\r\n\r\nfunction analyzeInvestigation(data) {\r\n  // Analyze data-driven decision making\r\n  let score = 75;\r\n  \r\n  if (data.length > 50) score += 10; // More data points = better investigation capability\r\n  if (data.some(row => Object.keys(row).some(key => key.includes('metric') || key.includes('kpi')))) {\r\n    score += 10;\r\n  }\r\n  \r\n  return Math.min(95, Math.max(20, score + (Math.random() - 0.5) * 20));\r\n}\r\n\r\nfunction analyzeInterpretation(data) {\r\n  // Analyze insight generation and understanding\r\n  let score = 68;\r\n  \r\n  if (data.some(row => Object.keys(row).some(key => key.includes('feedback') || key.includes('comment')))) {\r\n    score += 12;\r\n  }\r\n  \r\n  return Math.min(95, Math.max(20, score + (Math.random() - 0.5) * 20));\r\n}\r\n\r\nfunction analyzeIllustration(data) {\r\n  // Analyze communication and visualization capabilities\r\n  let score = 72;\r\n  \r\n  if (data.some(row => Object.keys(row).some(key => key.includes('communication') || key.includes('visual')))) {\r\n    score += 8;\r\n  }\r\n  \r\n  return Math.min(95, Math.max(20, score + (Math.random() - 0.5) * 20));\r\n}\r\n\r\nfunction analyzeInlignment(data) {\r\n  // Analyze strategic alignment and coherence\r\n  let score = 70;\r\n  \r\n  if (data.some(row => Object.keys(row).some(key => key.includes('goal') || key.includes('objective') || key.includes('strategy')))) {\r\n    score += 15;\r\n  }\r\n  \r\n  return Math.min(95, Math.max(20, score + (Math.random() - 0.5) * 20));\r\n}\r\n\r\n// Specialized analysis functions\r\nfunction analyzeFinancialInvestigation(data) {\r\n  let score = 75;\r\n  const hasMetrics = data.some(row => \r\n    Object.keys(row).some(key => \r\n      key.includes('roi') || key.includes('margin') || key.includes('efficiency')\r\n    )\r\n  );\r\n  \r\n  if (hasMetrics) score += 15;\r\n  return Math.min(95, Math.max(20, score + (Math.random() - 0.5) * 15));\r\n}\r\n\r\nfunction analyzeOperationalOrchestration(data) {\r\n  let score = 68;\r\n  const hasProcessData = data.some(row => \r\n    Object.keys(row).some(key => \r\n      key.includes('cycle') || key.includes('time') || key.includes('efficiency')\r\n    )\r\n  );\r\n  \r\n  if (hasProcessData) score += 12;\r\n  return Math.min(95, Math.max(20, score + (Math.random() - 0.5) * 18));\r\n}\r\n\r\nfunction analyzeOperationalInvestigation(data) {\r\n  let score = 72;\r\n  const hasKPIs = data.some(row => \r\n    Object.keys(row).some(key => \r\n      key.includes('performance') || key.includes('productivity') || key.includes('quality')\r\n    )\r\n  );\r\n  \r\n  if (hasKPIs) score += 13;\r\n  return Math.min(95, Math.max(20, score + (Math.random() - 0.5) * 16));\r\n}\r\n\r\nfunction analyzeOperationalInterdependency(data) {\r\n  let score = 70;\r\n  const hasCrossFunctional = data.some(row => \r\n    Object.keys(row).some(key => \r\n      key.includes('collaboration') || key.includes('handoff') || key.includes('integration')\r\n    )\r\n  );\r\n  \r\n  if (hasCrossFunctional) score += 10;\r\n  return Math.min(95, Math.max(20, score + (Math.random() - 0.5) * 20));\r\n}\r\n\r\n// File reading utility\r\nfunction readFileContent(file) {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.onload = (e) => resolve(e.target.result);\r\n    reader.onerror = (e) => reject(e);\r\n    reader.readAsText(file);\r\n  });\r\n}\r\n\r\n// Generate insights based on system scores\r\nfunction generateInsights(systemScores) {\r\n  const insights = [];\r\n  const avgScore = Object.values(systemScores).reduce((a, b) => a + b, 0) / Object.values(systemScores).length;\r\n  \r\n  if (avgScore >= 80) {\r\n    insights.push(' Excellent organizational health detected across multiple systems');\r\n  } else if (avgScore >= 70) {\r\n    insights.push(' Good organizational performance with room for optimization');\r\n  } else if (avgScore >= 60) {\r\n    insights.push(' Moderate organizational health - focus areas identified');\r\n  } else {\r\n    insights.push(' Critical areas requiring immediate attention detected');\r\n  }\r\n  \r\n  // System-specific insights\r\n  Object.entries(systemScores).forEach(([system, score]) => {\r\n    const systemData = CANONICAL.find(s => s.key === system);\r\n    if (systemData) {\r\n      if (score >= 85) {\r\n        insights.push(` ${systemData.title}: Performing excellently`);\r\n      } else if (score < 50) {\r\n        insights.push(` ${systemData.title}: Requires immediate attention`);\r\n      }\r\n    }\r\n  });\r\n  \r\n  return insights;\r\n}\r\n\r\n// Generate recommendations based on system scores\r\nfunction generateRecommendations(systemScores) {\r\n  const recommendations = [];\r\n  const avgScore = Object.values(systemScores).reduce((a, b) => a + b, 0) / Object.values(systemScores).length;\r\n  \r\n  if (avgScore < 60) {\r\n    recommendations.push(\"Implement comprehensive organizational health improvement initiative\");\r\n    recommendations.push(\"Conduct detailed system-by-system analysis and remediation planning\");\r\n  }\r\n  \r\n  // System-specific recommendations\r\n  Object.entries(systemScores).forEach(([system, score]) => {\r\n    const systemData = CANONICAL.find(s => s.key === system);\r\n    if (systemData && score < 70) {\r\n      if (score < 50) {\r\n        recommendations.push(`Prioritize immediate ${systemData.title} system restructuring and resource allocation`);\r\n      } else {\r\n        recommendations.push(`Enhance ${systemData.title} system processes and data management protocols capabilities`);\r\n      }\r\n    }\r\n  });\r\n  \r\n  if (avgScore >= 70) {\r\n    recommendations.push(\"Maintain current performance levels through regular data management protocols and assessment\");\r\n    recommendations.push(\"Consider implementing best practices sharing across organizational units\");\r\n  }\r\n  \r\n  if (avgScore >= 85) {\r\n    recommendations.push(\"Leverage high-performing systems as templates for organizational excellence\");\r\n  }\r\n  \r\n  return recommendations.slice(0, 8); // Limit to 8 recommendations\r\n}\r\n\r\nfunction readNotifications() {\r\n  try {\r\n    const raw = localStorage.getItem(STORAGE_NOTIFICATIONS);\r\n    return raw ? JSON.parse(raw) : [];\r\n  } catch {\r\n    return [];\r\n  }\r\n}\r\n\r\nfunction writeNotifications(notifications) {\r\n  try {\r\n    localStorage.setItem(STORAGE_NOTIFICATIONS, JSON.stringify(notifications));\r\n    window.dispatchEvent(new CustomEvent('conseqx:notifications:updated'));\r\n  } catch {}\r\n}\r\n\r\nfunction readPreferences() {\r\n  try {\r\n    const raw = localStorage.getItem(STORAGE_PREFERENCES);\r\n    return raw ? JSON.parse(raw) : {\r\n      emailNotifications: false,\r\n      smsNotifications: false,\r\n      uploadReminders: true,\r\n      analysisAlerts: true\r\n    };\r\n  } catch {\r\n    return {\r\n      emailNotifications: false,\r\n      smsNotifications: false,\r\n      uploadReminders: true,\r\n      analysisAlerts: true\r\n    };\r\n  }\r\n}\r\n\r\nfunction writePreferences(prefs) {\r\n  try {\r\n    localStorage.setItem(STORAGE_PREFERENCES, JSON.stringify(prefs));\r\n  } catch {}\r\n}\r\n\r\nexport default function ManualDataMode({ darkMode, orgId = \"anon\" }) {\r\n  const [uploads, setUploads] = useState(() => readUploads());\r\n  const [notifications, setNotifications] = useState(() => readNotifications());\r\n  const [preferences, setPreferences] = useState(() => readPreferences());\r\n  const [showUploadWizard, setShowUploadWizard] = useState(false);\r\n  const [showNotificationPanel, setShowNotificationPanel] = useState(false);\r\n  const [uploadProgress, setUploadProgress] = useState({ show: false, progress: 0, status: '' });\r\n  const [dynamicSystemScores, setSystemScores] = useState({});\r\n  const [dragActive, setDragActive] = useState(false);\r\n  const [selectedFiles, setSelectedFiles] = useState([]);\r\n  const [uploadStep, setUploadStep] = useState(1);\r\n  const [systemSelections, setSystemSelections] = useState({});\r\n  const [analyzedDocuments, setAnalyzedDocuments] = useState(() => {\r\n    try {\r\n      const saved = localStorage.getItem(`conseqx_analyzed_docs_${orgId}`);\r\n      return saved ? JSON.parse(saved) : [];\r\n    } catch {\r\n      return [];\r\n    }\r\n  });\r\n  const [selectedDocument, setSelectedDocument] = useState(null);\r\n  const [showDocumentViewer, setShowDocumentViewer] = useState(false);\r\n  const fileInputRef = useRef(null);\r\n  \r\n  const latest = uploads && uploads.length ? uploads[0] : null;\r\n\r\n  // persisted assessments for this org\r\n  const assessments = useMemo(() => readAssessments(orgId), [orgId]);\r\n\r\n  // map latest persisted assessment by normalized system id\r\n  const assessmentMap = useMemo(() => {\r\n    const m = {};\r\n    (assessments || []).forEach((a) => {\r\n      if (a && a.system) {\r\n        const normalized = String(a.system).toLowerCase().replace(/[^a-z0-9]/g, '');\r\n        m[normalized] = a;\r\n      }\r\n    });\r\n    return m;\r\n  }, [assessments]);\r\n\r\n  // derive per-system snapshot score\r\n  const systemScores = useMemo(() => {\r\n    const scores = {};\r\n    CANONICAL.forEach((s, idx) => {\r\n      const normalizedKey = s.key.toLowerCase().replace(/[^a-z0-9]/g, '');\r\n      \r\n      // prefer dynamic scores from recent uploads\r\n      if (dynamicSystemScores[s.key] !== undefined) {\r\n        scores[s.key] = dynamicSystemScores[s.key];\r\n        return;\r\n      }\r\n      \r\n      // then prefer persisted assessment score\r\n      if (assessmentMap[normalizedKey]) {\r\n        scores[s.key] = assessmentMap[normalizedKey].score || null;\r\n        return;\r\n      }\r\n      \r\n      // else derive from latest upload if it mentions this system\r\n      if (latest && latest.analyzedSystems && Array.isArray(latest.analyzedSystems)) {\r\n        const found = latest.analyzedSystems.find(sys => \r\n          String(sys).toLowerCase().includes(s.key.toLowerCase()) || \r\n          s.key.toLowerCase().includes(String(sys).toLowerCase())\r\n        );\r\n        if (found) {\r\n          scores[s.key] = Math.max(30, Math.min(95, (idx * 7) + 45 + (latest.timestamp % 20)));\r\n          return;\r\n        }\r\n      }\r\n      \r\n      scores[s.key] = null;\r\n    });\r\n    return scores;\r\n  }, [latest, assessmentMap, dynamicSystemScores]);\r\n\r\n  // composite overall (avg of available scores)\r\n  const overall = useMemo(() => {\r\n    const vals = Object.values(systemScores).filter((v) => v !== null && typeof v !== \"undefined\");\r\n    if (!vals.length) return null;\r\n    return Math.round(vals.reduce((a, b) => a + b, 0) / vals.length);\r\n  }, [systemScores]);\r\n\r\n  // Upload Wizard Component\r\n  const UploadWizard = () => {\r\n    const handleDrag = (e) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      if (e.type === \"dragenter\" || e.type === \"dragover\") {\r\n        setDragActive(true);\r\n      } else if (e.type === \"dragleave\") {\r\n        setDragActive(false);\r\n      }\r\n    };\r\n\r\n    const handleDrop = (e) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      setDragActive(false);\r\n      \r\n      const files = Array.from(e.dataTransfer.files);\r\n      setSelectedFiles(files);\r\n      if (files.length > 0) setUploadStep(2);\r\n    };\r\n\r\n    const handleFileInput = (e) => {\r\n      console.log('handleFileInput called', e.target.files); // Debug log\r\n      const files = Array.from(e.target.files || []);\r\n      console.log('Files selected via browse:', files.map(f => f.name)); // Debug log\r\n      \r\n      if (files.length > 0) {\r\n        setSelectedFiles(files);\r\n        setUploadStep(2);\r\n        console.log('Upload step set to 2, files:', files.length); // Debug log\r\n      } else {\r\n        console.log('No files selected'); // Debug log\r\n      }\r\n    };\r\n\r\n    const processUpload = async () => {\r\n      setUploadProgress({ show: true, progress: 0, status: 'Initializing upload...' });\r\n      \r\n      const processedResults = {};\r\n      let completedFiles = 0;\r\n      \r\n      try {\r\n        // Process each file\r\n        for (const file of selectedFiles) {\r\n          setUploadProgress(prev => ({ \r\n            ...prev, \r\n            progress: Math.round((completedFiles / selectedFiles.length) * 80),\r\n            status: `Analyzing ${file.name}...`\r\n          }));\r\n          \r\n          // Read file content\r\n          const fileContent = await readFileContent(file);\r\n          \r\n          // Process organizational data using ConseQ-X Six Systems Model\r\n          const systemScores = processOrganizationalData(file, fileContent);\r\n          \r\n          if (systemScores) {\r\n            Object.keys(systemScores).forEach(systemKey => {\r\n              if (!processedResults[systemKey]) {\r\n                processedResults[systemKey] = [];\r\n              }\r\n              processedResults[systemKey].push(systemScores[systemKey]);\r\n            });\r\n          }\r\n          \r\n          completedFiles++;\r\n        }\r\n        \r\n        setUploadProgress(prev => ({ \r\n          ...prev, \r\n          progress: 90,\r\n          status: 'Generating organizational health insights...'\r\n        }));\r\n        \r\n        // Calculate final scores (average across all files)\r\n        const finalScores = {};\r\n        Object.keys(processedResults).forEach(systemKey => {\r\n          const scores = processedResults[systemKey];\r\n          if (scores.length > 0) {\r\n            finalScores[systemKey] = Math.round(scores.reduce((a, b) => a + b, 0) / scores.length);\r\n          }\r\n        });\r\n        \r\n        // Update system scores\r\n        setSystemScores(prev => ({ ...prev, ...finalScores }));\r\n        \r\n        // Create analyzed document records with comprehensive data\r\n        const analyzedDocs = selectedFiles.map((file, index) => {\r\n          // Try to get file content for preview\r\n          let preview = null;\r\n          let recordCount = 0;\r\n          \r\n          if (processedResults[file.name]) {\r\n            const result = processedResults[file.name];\r\n            if (Array.isArray(result)) {\r\n              preview = result.slice(0, 5); // First 5 rows for preview\r\n              recordCount = result.length;\r\n            } else if (typeof result === 'object') {\r\n              preview = result;\r\n              recordCount = Object.keys(result).length;\r\n            }\r\n          }\r\n\r\n          const overallScore = Math.round(\r\n            Object.values(finalScores).reduce((sum, score) => sum + score, 0) / \r\n            Math.max(Object.keys(finalScores).length, 1)\r\n          );\r\n\r\n          return {\r\n            id: Date.now() + index,\r\n            fileName: file.name,\r\n            fileSize: file.size,\r\n            analyzedDate: new Date().toISOString(),\r\n            systemScores: finalScores,\r\n            overallScore: overallScore,\r\n            insights: generateInsights(finalScores),\r\n            recommendations: generateRecommendations(finalScores),\r\n            dataType: identifyDataType([], file.name),\r\n            analyzedSystems: Object.keys(finalScores),\r\n            recordCount: recordCount,\r\n            preview: preview,\r\n            status: 'analyzed',\r\n            orgId: orgId\r\n          };\r\n        });\r\n        \r\n        // Update analyzed documents state and localStorage\r\n        const updatedDocs = [\t...analyzedDocs, ...analyzedDocuments].slice(0, 50); // Keep last 50\r\n        setAnalyzedDocuments(updatedDocs);\r\n        try {\r\n          localStorage.setItem(`conseqx_analyzed_docs_${orgId}`, JSON.stringify(updatedDocs));\r\n        } catch (e) {\r\n          console.error('Failed to save analyzed documents:', e);\r\n        }\r\n        \r\n        setUploadProgress(prev => ({ \r\n          ...prev, \r\n          progress: 100,\r\n          status: 'Analysis complete! Organizational health metrics generated.'\r\n        }));\r\n        \r\n        // Simulate final processing delay\r\n        setTimeout(() => {\r\n          // Create upload record\r\n          const newUpload = {\r\n            id: Date.now(),\r\n            name: selectedFiles[0]?.name || 'Manual Upload',\r\n            timestamp: Date.now(),\r\n            analyzedSystems: Object.keys(finalScores),\r\n            fileCount: selectedFiles.length,\r\n            status: 'completed',\r\n            dataType: identifyDataType([], selectedFiles[0]?.name || ''),\r\n            systemScores: finalScores,\r\n            insights: generateInsights(finalScores)\r\n          };\r\n          \r\n          const updatedUploads = [newUpload, ...uploads];\r\n          setUploads(updatedUploads);\r\n          writeUploads(updatedUploads);\r\n          \r\n          // Add notification about successful analysis\r\n          addNotification(\r\n            'Data Analysis Complete', \r\n            `Successfully analyzed ${selectedFiles.length} file(s) and updated ${Object.keys(finalScores).length} organizational systems.`,\r\n            'success'\r\n          );\r\n            \r\n          // Reset wizard after delay\r\n          setTimeout(() => {\r\n            setShowUploadWizard(false);\r\n            setUploadProgress({ show: false, progress: 0, status: '' });\r\n            setSelectedFiles([]);\r\n            setUploadStep(1);\r\n            setSystemSelections({});\r\n          }, 2000);\r\n        }, 1000);\r\n        \r\n      } catch (error) {\r\n        console.error('Upload processing error:', error);\r\n        setUploadProgress(prev => ({ \r\n          ...prev, \r\n          progress: 100,\r\n          status: 'Error processing files. Please try again.'\r\n        }));\r\n        \r\n        setTimeout(() => {\r\n          setUploadProgress({ show: false, progress: 0, status: '' });\r\n        }, 3000);\r\n      }\r\n    };\r\n\r\n    return (\r\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n        <div className={`max-w-2xl w-full rounded-xl ${darkMode ? 'bg-gray-900 border border-gray-700' : 'bg-white border border-gray-200'}`}>\r\n          <div className=\"p-6\">\r\n            <div className=\"flex justify-between items-center mb-6\">\r\n              <h3 className=\"text-xl font-semibold flex items-center gap-2\">\r\n                <FaUpload className=\"text-blue-600\" />\r\n                Data Upload Wizard\r\n              </h3>\r\n              <button \r\n                onClick={() => setShowUploadWizard(false)} \r\n                className={`${\r\n                  darkMode ? 'text-gray-400 hover:text-gray-200' : 'text-gray-500 hover:text-gray-700'\r\n                }`}\r\n              >\r\n                \r\n              </button>\r\n            </div>\r\n\r\n            {uploadProgress.show && (\r\n              <div className=\"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\r\n                <div className=\"flex items-center justify-between mb-2\">\r\n                  <span className=\"text-sm font-medium\">{uploadProgress.status}</span>\r\n                  <span className=\"text-sm\">{Math.round(uploadProgress.progress)}%</span>\r\n                </div>\r\n                <div className={`w-full rounded-full h-2 ${\r\n                  darkMode ? 'bg-gray-700' : 'bg-gray-200'\r\n                }`}>\r\n                  <div \r\n                    className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\r\n                    style={{ width: `${uploadProgress.progress}%` }}\r\n                  ></div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {uploadStep === 1 && (\r\n              <div>\r\n                <div \r\n                  className={`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${\r\n                    dragActive ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20' : 'border-gray-300 dark:border-gray-600'\r\n                  }`}\r\n                  onDragEnter={handleDrag}\r\n                  onDragLeave={handleDrag}\r\n                  onDragOver={handleDrag}\r\n                  onDrop={handleDrop}\r\n                >\r\n                  <FaUpload className={`mx-auto text-4xl mb-4 ${\r\n                    darkMode ? 'text-gray-500' : 'text-gray-400'\r\n                  }`} />\r\n                  <p className=\"text-lg font-medium mb-2\">Upload Organizational Data</p>\r\n                  <p className={`text-sm mb-4 ${\r\n                    darkMode ? 'text-gray-400' : 'text-gray-500'\r\n                  }`}>\r\n                     Financial Reports   Employee Surveys   Operational Data   Performance Metrics\r\n                  </p>\r\n                  <p className={`text-xs mb-4 ${\r\n                    darkMode ? 'text-gray-500' : 'text-gray-400'\r\n                  }`}>\r\n                    ConseQ-X analyzes your organizational data using the Six Systems Model\r\n                  </p>\r\n                  <input\r\n                    ref={fileInputRef}\r\n                    type=\"file\"\r\n                    multiple\r\n                    accept=\".csv,.xlsx,.xls,.json,.txt\"\r\n                    onChange={handleFileInput}\r\n                    className=\"hidden\"\r\n                  />\r\n                  <button\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      console.log('Browse Files clicked, fileInputRef:', fileInputRef.current); // Debug log\r\n                      if (fileInputRef.current) {\r\n                        fileInputRef.current.click();\r\n                      }\r\n                    }}\r\n                    className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n                  >\r\n                    Browse Files\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {uploadStep === 2 && (\r\n              <div>\r\n                <h4 className=\"font-semibold mb-4\">Selected Files ({selectedFiles.length})</h4>\r\n                <div className=\"space-y-2 mb-6 max-h-32 overflow-y-auto\">\r\n                  {selectedFiles.map((file, idx) => (\r\n                    <div key={idx} className=\"flex items-center justify-between p-2 border rounded\">\r\n                      <span className=\"text-sm\">{file.name}</span>\r\n                      <span className={`text-xs ${\r\n                        darkMode ? 'text-gray-400' : 'text-gray-500'\r\n                      }`}>{(file.size / 1024).toFixed(1)} KB</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n                {/* ConseQ-X Analysis Preview */}\r\n                <div className={`mb-6 p-4 rounded-lg border ${\r\n                  darkMode ? 'bg-blue-900/10 border-blue-800' : 'bg-blue-50 border-blue-200'\r\n                }`}>\r\n                  <h5 className={`font-medium mb-2 ${\r\n                    darkMode ? 'text-blue-300' : 'text-blue-800'\r\n                  }`}>\r\n                     ConseQ-X Six Systems Analysis\r\n                  </h5>\r\n                  <div className={`text-sm grid grid-cols-1 gap-2 ${\r\n                    darkMode ? 'text-blue-200' : 'text-blue-700'\r\n                  }`}>\r\n                    <div> <strong>Financial Data</strong>  Interdependency, Orchestration, Investigation</div>\r\n                    <div> <strong>Survey Data</strong>  Interpretation, Illustration, Inlignment</div>\r\n                    <div> <strong>Operational Data</strong>  Orchestration, Investigation, Interdependency</div>\r\n                  </div>\r\n                </div>\r\n\r\n                <h4 className=\"font-semibold mb-4\">ConseQ-X Systems (Auto-detected)</h4>\r\n                <div className={`p-4 rounded-lg border ${\r\n                  darkMode ? 'bg-gray-800/50 border-gray-700' : 'bg-gray-50 border-gray-200'\r\n                } mb-6`}>\r\n                  <div className=\"grid grid-cols-1 gap-3\">\r\n                    {CANONICAL.map((system) => (\r\n                      <div key={system.key} className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                          <div className={`w-3 h-3 rounded-full ${\r\n                            selectedFiles.length > 0 ? 'bg-green-500 animate-pulse' : 'bg-gray-400'\r\n                          }`}></div>\r\n                          <span className=\"text-sm font-medium\">{system.title}</span>\r\n                        </div>\r\n                        <span className={`text-xs px-2 py-1 rounded-full ${\r\n                          selectedFiles.length > 0 \r\n                            ? (darkMode ? 'bg-green-900 text-green-300' : 'bg-green-100 text-green-700')\r\n                            : (darkMode ? 'bg-gray-700 text-gray-400' : 'bg-gray-200 text-gray-500')\r\n                        }`}>\r\n                          {selectedFiles.length > 0 ? 'Will Analyze' : 'Pending Data'}\r\n                        </span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                  <p className={`text-xs mt-3 text-center ${\r\n                    darkMode ? 'text-gray-400' : 'text-gray-500'\r\n                  }`}>\r\n                     ConseQ-X will automatically detect relevant systems based on your data\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"flex justify-end gap-3\">\r\n                  <button \r\n                    onClick={() => setUploadStep(1)}\r\n                    className=\"px-4 py-2 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800\"\r\n                  >\r\n                    Back\r\n                  </button>\r\n                  <button \r\n                    onClick={processUpload}\r\n                    disabled={selectedFiles.length === 0}\r\n                    className=\"px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\r\n                  >\r\n                    <span></span>\r\n                    Generate Health Insights\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Add notification helper\r\n  const addNotification = (title, message, type = 'info') => {\r\n    const newNotification = {\r\n      id: Date.now(),\r\n      title,\r\n      message,\r\n      type,\r\n      timestamp: Date.now(),\r\n      read: false\r\n    };\r\n    \r\n    const updated = [newNotification, ...notifications].slice(0, 50);\r\n    setNotifications(updated);\r\n    writeNotifications(updated);\r\n  };\r\n\r\n  // Delete analyzed document\r\n  const deleteAnalyzedDocument = (docId) => {\r\n    const updatedDocuments = analyzedDocuments.filter(doc => doc.id !== docId);\r\n    setAnalyzedDocuments(updatedDocuments);\r\n    try {\r\n      localStorage.setItem('conseqx_analyzed_documents_v1', JSON.stringify(updatedDocuments));\r\n    } catch (e) {\r\n      console.error('Failed to update localStorage:', e);\r\n    }\r\n    \r\n    // Add notification about deletion\r\n    addNotification(\r\n      'Document Deleted',\r\n      `Analyzed document has been removed from your records`,\r\n      'info'\r\n    );\r\n  };\r\n\r\n  // Export analyzed document\r\n  const exportAnalyzedDocument = (doc) => {\r\n    const exportData = {\r\n      fileName: doc.fileName,\r\n      analyzedDate: doc.analyzedDate,\r\n      dataType: doc.dataType,\r\n      overallScore: doc.overallScore,\r\n      systemScores: doc.systemScores,\r\n      insights: doc.insights,\r\n      recommendations: doc.recommendations,\r\n      preview: doc.preview,\r\n      recordCount: doc.recordCount\r\n    };\r\n    \r\n    const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `analysis-${doc.fileName}-${new Date().toISOString().split('T')[0]}.json`;\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n    \r\n    addNotification(\r\n      'Document Exported',\r\n      `Analysis data for ${doc.fileName} has been exported`,\r\n      'success'\r\n    );\r\n  };\r\n\r\n  // Document Viewer Component\r\n  const DocumentViewer = () => {\r\n    if (!showDocumentViewer || !selectedDocument) return null;\r\n\r\n    return (\r\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n        <div className={`max-w-4xl w-full max-h-[90vh] rounded-lg overflow-hidden ${\r\n          darkMode ? 'bg-gray-900 border border-gray-700' : 'bg-white border border-gray-200'\r\n        }`}>\r\n          {/* Header */}\r\n          <div className={`flex items-center justify-between p-6 border-b ${\r\n            darkMode ? 'border-gray-700' : 'border-gray-200'\r\n          }`}>\r\n            <div className=\"flex-1\">\r\n              <h3 className=\"text-xl font-bold\">{selectedDocument.fileName}</h3>\r\n              <p className={`text-sm mt-1 ${\r\n                darkMode ? 'text-gray-400' : 'text-gray-500'\r\n              }`}>\r\n                Analyzed on {new Date(selectedDocument.analyzedDate).toLocaleString()}\r\n              </p>\r\n            </div>\r\n            <button\r\n              onClick={() => {\r\n                setShowDocumentViewer(false);\r\n                setSelectedDocument(null);\r\n              }}\r\n              className={`p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 ${\r\n                darkMode ? 'text-gray-400' : 'text-gray-500'\r\n              }`}\r\n            >\r\n              <FaTimes size={20} />\r\n            </button>\r\n          </div>\r\n\r\n          {/* Content */}\r\n          <div className=\"overflow-y-scroll max-h-[calc(90vh-120px)] scrollbar-hide\">\r\n            {/* Document Information Header */}\r\n            <div className=\"p-6 space-y-6\">\r\n              <div>\r\n                <h4 className=\"text-lg font-semibold mb-3\">Document Information</h4>\r\n                <div className={`p-4 rounded-lg ${\r\n                  darkMode ? 'bg-gray-800' : 'bg-gray-50'\r\n                }`}>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\r\n                    <div>\r\n                      <span className=\"font-medium\">File Name:</span>\r\n                      <span className=\"ml-2\">{selectedDocument.fileName}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"font-medium\">File Size:</span>\r\n                      <span className=\"ml-2\">{selectedDocument.fileSize ? `${(selectedDocument.fileSize / 1024).toFixed(1)} KB` : 'N/A'}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"font-medium\">Upload Date:</span>\r\n                      <span className=\"ml-2\">{selectedDocument.uploadDate ? new Date(selectedDocument.uploadDate).toLocaleString() : new Date(selectedDocument.analyzedDate).toLocaleString()}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"font-medium\">Analysis Date:</span>\r\n                      <span className=\"ml-2\">{new Date(selectedDocument.analyzedDate).toLocaleString()}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"font-medium\">Data Type:</span>\r\n                      <span className=\"ml-2 capitalize\">{selectedDocument.dataType}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"font-medium\">Records Processed:</span>\r\n                      <span className=\"ml-2\">{selectedDocument.recordCount || 'N/A'}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"font-medium\">Organization ID:</span>\r\n                      <span className=\"ml-2\">{selectedDocument.orgId || 'N/A'}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"font-medium\">Status:</span>\r\n                      <span className={`ml-2 px-2 py-1 rounded text-xs font-medium ${\r\n                        selectedDocument.status === 'analyzed' \r\n                          ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100'\r\n                          : 'bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-100'\r\n                      }`}>\r\n                        {selectedDocument.status || 'Processed'}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Analysis Summary */}\r\n              <div>\r\n                <h4 className=\"text-lg font-semibold mb-3\">Analysis Summary</h4>\r\n                <div className={`p-4 rounded-lg ${\r\n                  darkMode ? 'bg-gray-800' : 'bg-gray-50'\r\n                }`}>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\r\n                    <div>\r\n                      <span className=\"font-medium\">Systems Analyzed:</span>\r\n                      <span className=\"ml-2\">{selectedDocument.analyzedSystems?.length || 0}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"font-medium\">Overall Health Score:</span>\r\n                      <span className={`ml-2 px-2 py-1 rounded text-xs font-medium ${\r\n                        selectedDocument.overallScore >= 80 \r\n                          ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100'\r\n                          : selectedDocument.overallScore >= 60\r\n                          ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100'\r\n                          : 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100'\r\n                      }`}>\r\n                        {selectedDocument.overallScore || 0}%\r\n                      </span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"font-medium\">Health Category:</span>\r\n                      <span className=\"ml-2\">{\r\n                        selectedDocument.overallScore >= 80 ? 'Excellent' :\r\n                        selectedDocument.overallScore >= 60 ? 'Good' :\r\n                        selectedDocument.overallScore >= 40 ? 'Fair' : 'Critical'\r\n                      }</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"font-medium\">Insights Generated:</span>\r\n                      <span className=\"ml-2\">{selectedDocument.insights?.length || 0}</span>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {/* Systems Analyzed List */}\r\n                  {selectedDocument.analyzedSystems && selectedDocument.analyzedSystems.length > 0 && (\r\n                    <div className=\"mt-4 pt-4 border-t border-gray-300 dark:border-gray-600\">\r\n                      <span className=\"font-medium text-sm\">Systems Analyzed:</span>\r\n                      <div className=\"flex flex-wrap gap-2 mt-2\">\r\n                        {selectedDocument.analyzedSystems.map((system, idx) => (\r\n                          <span key={idx} className={`px-2 py-1 rounded text-xs ${\r\n                            darkMode ? 'bg-blue-900 text-blue-100' : 'bg-blue-100 text-blue-800'\r\n                          }`}>\r\n                            {CANONICAL.find(s => s.key === system)?.title || system}\r\n                          </span>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* System Scores */}\r\n              {selectedDocument.systemScores && Object.keys(selectedDocument.systemScores).length > 0 && (\r\n                <div>\r\n                  <h4 className=\"text-lg font-semibold mb-3\">ConseQ-X Six Systems Detailed Analysis</h4>\r\n                  <div className=\"grid grid-cols-1 gap-4\">\r\n                    {Object.entries(selectedDocument.systemScores).map(([system, score]) => {\r\n                      const systemData = CANONICAL.find(s => s.key === system);\r\n                      const systemTitle = systemData?.title || system;\r\n                      const performanceLevel = score >= 80 ? 'Excellent' : score >= 60 ? 'Good' : score >= 40 ? 'Fair' : 'Critical';\r\n                      \r\n                      return (\r\n                        <div key={system} className={`p-4 rounded-lg border ${\r\n                          darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'\r\n                        }`}>\r\n                          <div className=\"flex items-center justify-between mb-3\">\r\n                            <div>\r\n                              <h5 className=\"font-semibold text-base capitalize\">{systemTitle}</h5>\r\n                              <p className={`text-xs mt-1 ${\r\n                                darkMode ? 'text-gray-400' : 'text-gray-600'\r\n                              }`}>\r\n                                System Performance: {performanceLevel}\r\n                              </p>\r\n                            </div>\r\n                            <div className=\"text-right\">\r\n                              <span className={`px-3 py-1 rounded-lg text-sm font-bold ${\r\n                                score >= 80 \r\n                                  ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100'\r\n                                  : score >= 60\r\n                                  ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100'\r\n                                  : 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100'\r\n                              }`}>\r\n                                {score}%\r\n                              </span>\r\n                            </div>\r\n                          </div>\r\n                          \r\n                          {/* Progress Bar */}\r\n                          <div className=\"mb-3\">\r\n                            <div className=\"flex justify-between text-xs mb-1\">\r\n                              <span className={darkMode ? 'text-gray-400' : 'text-gray-600'}>Health Score</span>\r\n                              <span className={darkMode ? 'text-gray-400' : 'text-gray-600'}>{score}/100</span>\r\n                            </div>\r\n                            <div className={`h-3 rounded-full ${\r\n                              darkMode ? 'bg-gray-700' : 'bg-gray-200'\r\n                            }`}>\r\n                              <div \r\n                                className={`h-3 rounded-full transition-all duration-300 ${\r\n                                  score >= 80 ? 'bg-green-500' :\r\n                                  score >= 60 ? 'bg-yellow-500' : 'bg-red-500'\r\n                                }`}\r\n                                style={{ width: `${score}%` }}\r\n                              />\r\n                            </div>\r\n                          </div>\r\n\r\n                          {/* System Description */}\r\n                          <div className={`text-xs p-3 rounded ${\r\n                            darkMode ? 'bg-gray-700' : 'bg-gray-50'\r\n                          }`}>\r\n                            <span className=\"font-medium\">System Focus: </span>\r\n                            <span>\r\n                              {system === 'interdependency' && 'Relationships and connections between organizational components'}\r\n                              {system === 'orchestration' && 'Coordination and management of organizational processes'}\r\n                              {system === 'investigation' && 'Research and analysis capabilities within the organization'}\r\n                              {system === 'interpretation' && 'Understanding and meaning-making from organizational data'}\r\n                              {system === 'illustration' && 'Communication and visualization of organizational information'}\r\n                              {system === 'inlignment' && 'Strategic alignment and coherence across organizational levels'}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                  \r\n                  {/* Systems Summary */}\r\n                  <div className={`mt-4 p-4 rounded-lg ${\r\n                    darkMode ? 'bg-blue-900/20 border border-blue-700' : 'bg-blue-50 border border-blue-200'\r\n                  }`}>\r\n                    <h6 className={`font-medium mb-2 ${\r\n                      darkMode ? 'text-blue-100' : 'text-blue-900'\r\n                    }`}>\r\n                      Systems Performance Summary\r\n                    </h6>\r\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\r\n                      <div>\r\n                        <span className={darkMode ? 'text-blue-200' : 'text-blue-700'}>Systems Analyzed:</span>\r\n                        <div className=\"font-semibold\">{Object.keys(selectedDocument.systemScores).length}</div>\r\n                      </div>\r\n                      <div>\r\n                        <span className={darkMode ? 'text-blue-200' : 'text-blue-700'}>Average Score:</span>\r\n                        <div className=\"font-semibold\">{selectedDocument.overallScore}%</div>\r\n                      </div>\r\n                      <div>\r\n                        <span className={darkMode ? 'text-blue-200' : 'text-blue-700'}>Highest Performing:</span>\r\n                        <div className=\"font-semibold capitalize\">\r\n                          {Object.entries(selectedDocument.systemScores).reduce((a, b) => a[1] > b[1] ? a : b)[0]}\r\n                        </div>\r\n                      </div>\r\n                      <div>\r\n                        <span className={darkMode ? 'text-blue-200' : 'text-blue-700'}>Needs Attention:</span>\r\n                        <div className=\"font-semibold capitalize\">\r\n                          {Object.entries(selectedDocument.systemScores).reduce((a, b) => a[1] < b[1] ? a : b)[0]}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Data Preview Table */}\r\n              {selectedDocument.preview && (\r\n                <div>\r\n                  <h4 className=\"text-lg font-semibold mb-3\">Data Preview</h4>\r\n                  <div className={`rounded-lg border overflow-hidden ${\r\n                    darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'\r\n                  }`}>\r\n                    {selectedDocument.preview.type === 'binary' ? (\r\n                      <div className=\"p-4\">\r\n                        <div className=\"text-sm text-gray-800 dark:text-gray-200\">\r\n                          <div className=\"font-medium\">{selectedDocument.preview.filename || selectedDocument.fileName}</div>\r\n                          <div className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\r\n                            {selectedDocument.preview.size ? `${selectedDocument.preview.size} bytes` : 'Binary file'}\r\n                          </div>\r\n                          {selectedDocument.objectUrl && (\r\n                            <a \r\n                              className=\"text-xs text-blue-600 dark:text-blue-400 underline mt-2 inline-block\" \r\n                              href={selectedDocument.objectUrl} \r\n                              download={selectedDocument.fileName}\r\n                            >\r\n                              Download File\r\n                            </a>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    ) : Array.isArray(selectedDocument.preview) ? (\r\n                      <div className=\"overflow-x-auto\">\r\n                        <table className=\"w-full text-sm\">\r\n                          <thead className={`${darkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>\r\n                            <tr>\r\n                              {Object.keys(selectedDocument.preview[0] || {}).slice(0, 6).map((header) => (\r\n                                <th key={header} className={`px-4 py-3 text-left font-medium ${\r\n                                  darkMode ? 'text-gray-300' : 'text-gray-600'\r\n                                }`}>\r\n                                  {header}\r\n                                </th>\r\n                              ))}\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {selectedDocument.preview.slice(0, 5).map((row, idx) => (\r\n                              <tr key={idx} className={`border-t ${\r\n                                darkMode ? 'border-gray-700' : 'border-gray-200'\r\n                              }`}>\r\n                                {Object.values(row).slice(0, 6).map((value, i) => (\r\n                                  <td key={i} className={`px-4 py-3 ${\r\n                                    darkMode ? 'text-gray-200' : 'text-gray-800'\r\n                                  }`}>\r\n                                    {String(value)}\r\n                                  </td>\r\n                                ))}\r\n                              </tr>\r\n                            ))}\r\n                          </tbody>\r\n                        </table>\r\n                        {selectedDocument.preview.length > 5 && (\r\n                          <div className={`px-4 py-2 text-xs border-t ${\r\n                            darkMode ? 'text-gray-400 border-gray-700 bg-gray-800' : 'text-gray-500 border-gray-200 bg-gray-50'\r\n                          }`}>\r\n                            Showing 5 of {selectedDocument.preview.length} rows\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    ) : selectedDocument.preview && selectedDocument.preview.type === 'text' ? (\r\n                      <div className=\"p-4 max-h-60 overflow-auto\">\r\n                        <pre className={`text-xs whitespace-pre-wrap ${\r\n                          darkMode ? 'text-gray-200' : 'text-gray-800'\r\n                        }`}>\r\n                          {selectedDocument.preview.previewText}\r\n                        </pre>\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"p-4 max-h-60 overflow-auto\">\r\n                        <pre className={`text-xs whitespace-pre-wrap ${\r\n                          darkMode ? 'text-gray-200' : 'text-gray-800'\r\n                        }`}>\r\n                          {(() => {\r\n                            try {\r\n                              const s = typeof selectedDocument.preview === 'string' \r\n                                ? selectedDocument.preview \r\n                                : JSON.stringify(selectedDocument.preview || {}, null, 2);\r\n                              return s.length > 1000 ? s.slice(0, 1000) + '' : s;\r\n                            } catch (e) { \r\n                              return String(selectedDocument.preview); \r\n                            }\r\n                          })()}\r\n                        </pre>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Key Insights */}\r\n              {selectedDocument.insights && selectedDocument.insights.length > 0 && (\r\n                <div>\r\n                  <h4 className=\"text-lg font-semibold mb-3\">Key Insights</h4>\r\n                  <div className=\"space-y-3\">\r\n                    {selectedDocument.insights.map((insight, index) => (\r\n                      <div key={index} className={`p-4 rounded-lg border-l-4 ${\r\n                        darkMode ? 'bg-gray-800 border-blue-500' : 'bg-blue-50 border-blue-500'\r\n                      }`}>\r\n                        <p className=\"text-sm\">{insight}</p>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Recommendations */}\r\n              {selectedDocument.recommendations && selectedDocument.recommendations.length > 0 && (\r\n                <div>\r\n                  <h4 className=\"text-lg font-semibold mb-3\">Strategic Recommendations</h4>\r\n                  <div className=\"space-y-3\">\r\n                    {selectedDocument.recommendations.map((recommendation, index) => (\r\n                      <div key={index} className={`flex items-start gap-3 p-4 rounded-lg ${\r\n                        darkMode ? 'bg-gray-800' : 'bg-gray-50'\r\n                      }`}>\r\n                        <FaCheckCircle className=\"text-green-500 mt-1 flex-shrink-0\" />\r\n                        <div className=\"flex-1\">\r\n                          <p className=\"text-sm font-medium\">Action Item #{index + 1}</p>\r\n                          <p className=\"text-sm mt-1\">{recommendation}</p>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Technical Details */}\r\n              <div>\r\n                <h4 className=\"text-lg font-semibold mb-3\">Technical Details</h4>\r\n                <div className={`p-4 rounded-lg ${\r\n                  darkMode ? 'bg-gray-800' : 'bg-gray-50'\r\n                }`}>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\r\n                    <div>\r\n                      <span className=\"font-medium\">Document ID:</span>\r\n                      <span className=\"ml-2 font-mono text-xs\">{selectedDocument.id}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"font-medium\">Processing Engine:</span>\r\n                      <span className=\"ml-2\">ConseQ-X Six Systems Model</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"font-medium\">Analysis Algorithm:</span>\r\n                      <span className=\"ml-2\">Multi-system Organizational Health Assessment</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"font-medium\">Data Quality Score:</span>\r\n                      <span className=\"ml-2\">{selectedDocument.recordCount ? '95%' : 'N/A'}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  function exportSnapshot() {\r\n    const data = {\r\n      timestamp: new Date().toISOString(),\r\n      overall: overall,\r\n      systems: systemScores,\r\n      uploads: uploads.slice(0, 5),\r\n      orgId: orgId\r\n    };\r\n    \r\n    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `conseqx-snapshot-${new Date().toISOString().split('T')[0]}.json`;\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n  }\r\n\r\n  // helper for source label\r\n  function sourceLabelFor(key) {\r\n    if (assessmentMap[key.toLowerCase().replace(/[^a-z0-9]/g, '')]) {\r\n      return \"assessment\";\r\n    }\r\n    if (latest && latest.analyzedSystems && Array.isArray(latest.analyzedSystems)) {\r\n      const found = latest.analyzedSystems.find(sys => \r\n        String(sys).toLowerCase().includes(key.toLowerCase()) || \r\n        key.toLowerCase().includes(String(sys).toLowerCase())\r\n      );\r\n      if (found) return \"upload\";\r\n    }\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <section className=\"relative\">\r\n      {showUploadWizard && <UploadWizard />}\r\n      {showDocumentViewer && <DocumentViewer />}\r\n      \r\n      <div className={`rounded-2xl p-6 ${darkMode ? \"bg-gray-900 border border-gray-700 text-gray-100\" : \"bg-white border border-gray-100 text-gray-900\"}`}>\r\n        {/* Header */}\r\n        <div className=\"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6\">\r\n          <div className=\"flex-1\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <h2 className=\"text-2xl font-bold\">Manual Data Analysis</h2>\r\n              {notifications.filter(n => !n.read).length > 0 && (\r\n                <button \r\n                  onClick={() => setShowNotificationPanel(!showNotificationPanel)}\r\n                  className=\"relative p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800\"\r\n                >\r\n                  <FaBell className=\"text-blue-600\" />\r\n                  <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center\">\r\n                    {notifications.filter(n => !n.read).length}\r\n                  </span>\r\n                </button>\r\n              )}\r\n            </div>\r\n            <p className={`text-sm mt-1 ${\r\n              darkMode ? 'text-gray-400' : 'text-gray-500'\r\n            }`}>\r\n              Upload organizational datasets and receive comprehensive health insights\r\n            </p>\r\n            {latest && (\r\n              <div className=\"flex items-center gap-2 mt-2 text-sm\">\r\n                <FaClock className=\"text-green-500\" />\r\n                <span className=\"text-green-600 dark:text-green-400\">\r\n                  Last updated: {new Date(latest.timestamp).toLocaleString()}\r\n                </span>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-3\">\r\n            <button \r\n              onClick={() => setShowUploadWizard(true)} \r\n              className=\"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 transition-colors\"\r\n            >\r\n              <FaUpload />\r\n              Upload Data\r\n            </button>\r\n            <button \r\n              onClick={exportSnapshot} \r\n              className=\"px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800 flex items-center gap-2\"\r\n            >\r\n              <FaDownload />\r\n              Export\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Notifications Panel */}\r\n        {showNotificationPanel && (\r\n          <div className={`absolute top-20 right-6 w-80 max-h-96 overflow-y-auto rounded-lg shadow-lg z-40 ${\r\n            darkMode ? 'bg-gray-800 border border-gray-700' : 'bg-white border border-gray-200'\r\n          }`}>\r\n            <div className=\"p-4 border-b border-gray-200 dark:border-gray-700\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <h4 className=\"font-semibold\">Notifications</h4>\r\n                <button \r\n                  onClick={() => setShowNotificationPanel(false)}\r\n                  className={`${\r\n                    darkMode ? 'text-gray-400 hover:text-gray-200' : 'text-gray-500 hover:text-gray-700'\r\n                  }`}\r\n                >\r\n                  \r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div className=\"max-h-64 overflow-y-auto\">\r\n              {notifications.length === 0 ? (\r\n                <div className={`p-4 text-center ${\r\n                  darkMode ? 'text-gray-400' : 'text-gray-500'\r\n                }`}>No notifications</div>\r\n              ) : (\r\n                notifications.slice(0, 10).map((notif) => {\r\n                  const isDocumentNotification = notif.title.includes('successfully analyzed') || notif.title.includes('Document Analysis Complete');\r\n                  const documentName = notif.title.includes('successfully analyzed') \r\n                    ? notif.title.split(' successfully analyzed')[0] \r\n                    : notif.message.includes('Document:') \r\n                    ? notif.message.split('Document: ')[1]?.split(' has been')[0] \r\n                    : null;\r\n                  \r\n                  return (\r\n                    <div \r\n                      key={notif.id} \r\n                      className={`p-3 border-b border-gray-100 dark:border-gray-700 ${\r\n                        !notif.read ? 'bg-blue-50 dark:bg-blue-900/20' : ''\r\n                      } ${isDocumentNotification ? 'cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700' : ''}`}\r\n                      onClick={() => {\r\n                        if (isDocumentNotification && documentName) {\r\n                          // Find the analyzed document by name\r\n                          const document = analyzedDocuments.find(doc => \r\n                            doc.fileName === documentName || doc.fileName.includes(documentName)\r\n                          );\r\n                          \r\n                          if (document) {\r\n                            setSelectedDocument(document);\r\n                            setShowDocumentViewer(true);\r\n                            setShowNotificationPanel(false);\r\n                            \r\n                            // Mark notification as read\r\n                            if (!notif.read) {\r\n                              const updatedNotifications = notifications.map(n => \r\n                                n.id === notif.id ? { ...n, read: true } : n\r\n                              );\r\n                              setNotifications(updatedNotifications);\r\n                              writeNotifications(updatedNotifications);\r\n                            }\r\n                          }\r\n                        }\r\n                      }}\r\n                    >\r\n                      <div className=\"flex justify-between items-start\">\r\n                        <div className=\"flex-1\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <div className=\"font-medium text-sm\">{notif.title}</div>\r\n                            {isDocumentNotification && (\r\n                              <FaEye className={`text-xs ${\r\n                                darkMode ? 'text-blue-400' : 'text-blue-600'\r\n                              }`} />\r\n                            )}\r\n                          </div>\r\n                          <div className=\"text-xs text-gray-600 dark:text-gray-400 mt-1\">{notif.message}</div>\r\n                          <div className={`text-xs mt-1 ${\r\n                            darkMode ? 'text-gray-400' : 'text-gray-500'\r\n                          }`}>\r\n                            {new Date(notif.timestamp).toLocaleString()}\r\n                          </div>\r\n                        </div>\r\n                        <div className={`w-2 h-2 rounded-full ${\r\n                          notif.type === 'success' ? 'bg-green-500' : \r\n                          notif.type === 'warning' ? 'bg-yellow-500' : \r\n                          notif.type === 'error' ? 'bg-red-500' : 'bg-blue-500'\r\n                        }`}></div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Key Metrics */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n          <div className={`col-span-1 md:col-span-2 rounded-xl p-6 border ${darkMode ? \"bg-gray-800 border-gray-700\" : \"bg-white border-gray-50\"}`}>\r\n            <div className={`text-sm ${\r\n              darkMode ? 'text-gray-400' : 'text-gray-500'\r\n            }`}>Overall Health Score</div>\r\n            <div className=\"text-4xl font-bold mt-2\">{overall != null ? `${overall}%` : \"No data\"}</div>\r\n            <div className=\"text-sm text-gray-400 mt-2\">\r\n              {latest ? `Based on: ${latest.name}  ${new Date(latest.timestamp).toLocaleString()}` : \"Upload datasets to generate health insights\"}\r\n            </div>\r\n          </div>\r\n\r\n          <div className={`rounded-xl p-6 border ${darkMode ? \"bg-gray-800 border-gray-700\" : \"bg-white border-gray-50\"}`}>\r\n            <div className={`text-sm ${\r\n              darkMode ? 'text-gray-400' : 'text-gray-500'\r\n            }`}>Systems Analyzed</div>\r\n            <div className=\"text-3xl font-bold mt-2\">\r\n              {Object.values(systemScores).filter(s => s !== null).length} / {CANONICAL.length}\r\n            </div>\r\n            <div className=\"text-sm text-gray-400 mt-2\">Active data sources</div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Systems Grid */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <h3 className=\"text-xl font-semibold flex items-center gap-2\">\r\n              <FaChartLine className=\"text-blue-600\" />\r\n              System Health Overview\r\n            </h3>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            {CANONICAL.map((s) => {\r\n              const score = systemScores[s.key];\r\n              const source = sourceLabelFor(s.key);\r\n              const hasData = score !== null;\r\n              \r\n              return (\r\n                <div \r\n                  key={s.key} \r\n                  className={`p-4 rounded-lg border transition-all duration-200 ${\r\n                    darkMode ? \"bg-gray-800 border-gray-700 hover:border-gray-600\" : \"bg-white border-gray-100 hover:border-gray-200\"\r\n                  }`}\r\n                >\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"font-medium\">{s.title}</div>\r\n                      <div className={`text-sm mt-1 ${\r\n                        darkMode ? 'text-gray-400' : 'text-gray-500'\r\n                      }`}>\r\n                        {hasData ? `Source: ${source}` : \"No data available\"}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"text-right\">\r\n                      <div className={`text-2xl font-bold ${\r\n                        !hasData ? 'text-gray-400' :\r\n                        score >= 80 ? 'text-green-600' :\r\n                        score >= 60 ? 'text-yellow-600' : 'text-red-600'\r\n                      }`}>\r\n                        {hasData ? `${score}%` : ''}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Quick Insights */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          <div className={`p-6 rounded-lg border ${darkMode ? \"bg-gray-800 border-gray-700\" : \"bg-white border-gray-100\"}`}>\r\n            <h4 className=\"font-semibold mb-3\">Key Recommendations</h4>\r\n            <ul className=\"space-y-2 text-sm\">\r\n              {overall != null ? (\r\n                <>\r\n                  <li className=\"flex items-start gap-2\">\r\n                    <span className=\"text-blue-600 mt-1\"></span>\r\n                    Focus improvement efforts on lowest-scoring systems\r\n                  </li>\r\n                  <li className=\"flex items-start gap-2\">\r\n                    <span className=\"text-blue-600 mt-1\"></span>\r\n                    Schedule regular data uploads to track progress\r\n                  </li>\r\n                  <li className=\"flex items-start gap-2\">\r\n                    <span className=\"text-blue-600 mt-1\"></span>\r\n                    Review detailed system analysis for actionable insights\r\n                  </li>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <li className=\"flex items-start gap-2\">\r\n                    <span className=\"text-blue-600 mt-1\"></span>\r\n                    Upload organizational datasets to begin analysis\r\n                  </li>\r\n                  <li className=\"flex items-start gap-2\">\r\n                    <span className=\"text-blue-600 mt-1\"></span>\r\n                    Include financial reports, surveys, and operational data\r\n                  </li>\r\n                </>\r\n              )}\r\n            </ul>\r\n          </div>\r\n\r\n          <div className={`p-6 rounded-lg border ${darkMode ? \"bg-gray-800 border-gray-700\" : \"bg-white border-gray-100\"}`}>\r\n            <h4 className=\"font-semibold mb-3\">Upload History</h4>\r\n            {uploads.length === 0 ? (\r\n              <div className={`text-sm ${\r\n                darkMode ? 'text-gray-400' : 'text-gray-500'\r\n              }`}>No uploads yet</div>\r\n            ) : (\r\n              <div className=\"space-y-3\">\r\n                {uploads.slice(0, 3).map((upload) => (\r\n                  <div key={upload.id} className=\"border-l-2 border-blue-500 pl-3\">\r\n                    <div className=\"font-medium text-sm\">{upload.name}</div>\r\n                    <div className={`text-xs ${\r\n                      darkMode ? 'text-gray-400' : 'text-gray-500'\r\n                    }`}>\r\n                      {new Date(upload.timestamp).toLocaleString()}\r\n                    </div>\r\n                    {upload.analyzedSystems && (\r\n                      <div className=\"text-xs text-gray-400 mt-1\">\r\n                        Systems: {upload.analyzedSystems.slice(0, 2).join(\", \")}\r\n                        {upload.analyzedSystems.length > 2 && ` +${upload.analyzedSystems.length - 2} more`}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Analyzed Documents Section */}\r\n          <div className={`p-6 rounded-lg border ${darkMode ? \"bg-gray-800 border-gray-700\" : \"bg-white border-gray-100\"}`}>\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h4 className=\"font-semibold\">Analyzed Documents</h4>\r\n              <span className={`text-xs px-2 py-1 rounded-full ${\r\n                darkMode ? 'bg-gray-700 text-gray-300' : 'bg-gray-100 text-gray-600'\r\n              }`}>\r\n                {analyzedDocuments.length} document{analyzedDocuments.length !== 1 ? 's' : ''}\r\n              </span>\r\n            </div>\r\n            \r\n            {analyzedDocuments.length === 0 ? (\r\n              <div className={`text-center py-8 ${\r\n                darkMode ? 'text-gray-400' : 'text-gray-500'\r\n              }`}>\r\n                <FaFileExport className=\"mx-auto mb-2 text-2xl opacity-50\" />\r\n                <div className=\"text-sm\">No analyzed documents yet</div>\r\n                <div className=\"text-xs mt-1\">Upload and analyze documents to see them here</div>\r\n              </div>\r\n            ) : (\r\n              <div>\r\n                {/* Desktop/tablet view */}\r\n                <div className=\"hidden sm:block overflow-x-auto\">\r\n                  <table className=\"w-full text-sm\">\r\n                    <thead>\r\n                      <tr className={`text-left text-xs ${\r\n                        darkMode ? 'text-gray-400' : 'text-gray-500'\r\n                      }`}>\r\n                        <th className=\"py-2 font-medium\">Document</th>\r\n                        <th className=\"py-2 font-medium\">Analysis Date</th>\r\n                        <th className=\"py-2 font-medium\">Health Score</th>\r\n                        <th className=\"py-2 font-medium\">Data Type</th>\r\n                        <th className=\"py-2 font-medium\">Systems</th>\r\n                        <th className=\"py-2 font-medium text-right\">Actions</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {analyzedDocuments.slice(0, 10).map((doc) => (\r\n                        <tr key={doc.id} className={`border-t align-top ${\r\n                          darkMode ? 'border-gray-700' : 'border-gray-200'\r\n                        }`}>\r\n                          <td className=\"py-3 align-top\">\r\n                            <div className=\"font-medium\">{doc.fileName}</div>\r\n                            <div className={`text-xs ${\r\n                              darkMode ? 'text-gray-400' : 'text-gray-500'\r\n                            }`}>\r\n                              {doc.recordCount && `${doc.recordCount} records`}\r\n                            </div>\r\n                          </td>\r\n                          <td className=\"py-3 align-top text-xs\">\r\n                            {new Date(doc.analyzedDate).toLocaleDateString()}\r\n                          </td>\r\n                          <td className=\"py-3 align-top\">\r\n                            {doc.overallScore ? (\r\n                              <span className={`px-2 py-1 rounded text-xs font-medium ${\r\n                                doc.overallScore >= 80 \r\n                                  ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100'\r\n                                  : doc.overallScore >= 60\r\n                                  ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100'\r\n                                  : 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100'\r\n                              }`}>\r\n                                {doc.overallScore}%\r\n                              </span>\r\n                            ) : (\r\n                              <span className=\"text-xs text-gray-400\">N/A</span>\r\n                            )}\r\n                          </td>\r\n                          <td className=\"py-3 align-top\">\r\n                            <span className={`text-xs px-2 py-1 rounded ${\r\n                              darkMode ? 'bg-blue-900 text-blue-100' : 'bg-blue-100 text-blue-800'\r\n                            }`}>\r\n                              {doc.dataType}\r\n                            </span>\r\n                          </td>\r\n                          <td className=\"py-3 align-top text-xs\">\r\n                            {doc.analyzedSystems ? (\r\n                              <div className=\"flex flex-wrap gap-1\">\r\n                                {doc.analyzedSystems.slice(0, 2).map((system, idx) => (\r\n                                  <span key={idx} className={`px-1.5 py-0.5 rounded text-xs ${\r\n                                    darkMode ? 'bg-gray-700 text-gray-300' : 'bg-gray-100 text-gray-700'\r\n                                  }`}>\r\n                                    {system}\r\n                                  </span>\r\n                                ))}\r\n                                {doc.analyzedSystems.length > 2 && (\r\n                                  <span className={`px-1.5 py-0.5 rounded text-xs ${\r\n                                    darkMode ? 'bg-gray-600 text-gray-300' : 'bg-gray-200 text-gray-600'\r\n                                  }`}>\r\n                                    +{doc.analyzedSystems.length - 2}\r\n                                  </span>\r\n                                )}\r\n                              </div>\r\n                            ) : (\r\n                              <span className=\"text-gray-400\">None</span>\r\n                            )}\r\n                          </td>\r\n                          <td className=\"py-3 align-top text-right\">\r\n                            <div className=\"flex items-center justify-end gap-1\">\r\n                              <button\r\n                                onClick={(e) => {\r\n                                  e.stopPropagation();\r\n                                  setSelectedDocument(doc);\r\n                                  setShowDocumentViewer(true);\r\n                                  \r\n                                  // Mark related notification as read if exists\r\n                                  const relatedNotification = notifications.find(n => \r\n                                    n.title.includes(doc.fileName) && !n.read\r\n                                  );\r\n                                  if (relatedNotification) {\r\n                                    const updatedNotifications = notifications.map(n => \r\n                                      n.id === relatedNotification.id ? { ...n, read: true } : n\r\n                                    );\r\n                                    setNotifications(updatedNotifications);\r\n                                    writeNotifications(updatedNotifications);\r\n                                  }\r\n                                }}\r\n                                className={`px-2 py-1 rounded text-xs border transition-colors ${\r\n                                  darkMode \r\n                                    ? 'bg-gray-700 text-gray-100 border-gray-600 hover:bg-gray-600' \r\n                                    : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'\r\n                                }`}\r\n                                title=\"View Analysis\"\r\n                              >\r\n                                <FaEye className=\"inline mr-1\" />\r\n                                View\r\n                              </button>\r\n                              <button\r\n                                onClick={(e) => {\r\n                                  e.stopPropagation();\r\n                                  exportAnalyzedDocument(doc);\r\n                                }}\r\n                                className={`px-2 py-1 rounded text-xs border transition-colors ${\r\n                                  darkMode \r\n                                    ? 'bg-gray-700 text-gray-100 border-gray-600 hover:bg-gray-600' \r\n                                    : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'\r\n                                }`}\r\n                                title=\"Export Analysis\"\r\n                              >\r\n                                <FaFileExport className=\"inline mr-1\" />\r\n                                Export\r\n                              </button>\r\n                              <button\r\n                                onClick={(e) => {\r\n                                  e.stopPropagation();\r\n                                  if (window.confirm(`Are you sure you want to delete the analysis for \"${doc.fileName}\"?`)) {\r\n                                    deleteAnalyzedDocument(doc.id);\r\n                                  }\r\n                                }}\r\n                                className=\"px-2 py-1 rounded text-xs border text-red-600 bg-white dark:bg-gray-700 dark:text-red-400 border-gray-300 dark:border-gray-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors\"\r\n                                title=\"Delete Analysis\"\r\n                              >\r\n                                <FaTrash className=\"inline mr-1\" />\r\n                                Delete\r\n                              </button>\r\n                            </div>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                  {analyzedDocuments.length > 10 && (\r\n                    <div className={`text-center text-xs mt-3 py-2 ${\r\n                      darkMode ? 'text-gray-400' : 'text-gray-500'\r\n                    }`}>\r\n                      Showing 10 of {analyzedDocuments.length} documents\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Mobile stacked cards */}\r\n                <div className=\"sm:hidden space-y-3\">\r\n                  {analyzedDocuments.slice(0, 10).map((doc) => (\r\n                    <div key={doc.id} className={`border rounded-lg p-3 ${\r\n                      darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'\r\n                    }`}>\r\n                      <div className=\"flex items-start justify-between gap-2 mb-3\">\r\n                        <div className=\"min-w-0 flex-1\">\r\n                          <div className=\"font-medium text-sm truncate\">{doc.fileName}</div>\r\n                          <div className={`text-xs mt-1 ${\r\n                            darkMode ? 'text-gray-400' : 'text-gray-500'\r\n                          }`}>\r\n                            {new Date(doc.analyzedDate).toLocaleDateString()}\r\n                          </div>\r\n                        </div>\r\n                        {doc.overallScore && (\r\n                          <span className={`px-2 py-1 rounded text-xs font-medium flex-shrink-0 ${\r\n                            doc.overallScore >= 80 \r\n                              ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100'\r\n                              : doc.overallScore >= 60\r\n                              ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100'\r\n                              : 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100'\r\n                          }`}>\r\n                            {doc.overallScore}%\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n\r\n                      <div className=\"flex items-center gap-2 mb-3 flex-wrap\">\r\n                        <span className={`text-xs px-2 py-1 rounded ${\r\n                          darkMode ? 'bg-blue-900 text-blue-100' : 'bg-blue-100 text-blue-800'\r\n                        }`}>\r\n                          {doc.dataType}\r\n                        </span>\r\n                        {doc.analyzedSystems && doc.analyzedSystems.slice(0, 2).map((system, idx) => (\r\n                          <span key={idx} className={`text-xs px-1.5 py-0.5 rounded ${\r\n                            darkMode ? 'bg-gray-700 text-gray-300' : 'bg-gray-100 text-gray-700'\r\n                          }`}>\r\n                            {system}\r\n                          </span>\r\n                        ))}\r\n                        {doc.analyzedSystems && doc.analyzedSystems.length > 2 && (\r\n                          <span className={`text-xs px-1.5 py-0.5 rounded ${\r\n                            darkMode ? 'bg-gray-600 text-gray-300' : 'bg-gray-200 text-gray-600'\r\n                          }`}>\r\n                            +{doc.analyzedSystems.length - 2}\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n\r\n                      <div className=\"flex items-center justify-end gap-2\">\r\n                        <button\r\n                          onClick={() => {\r\n                            setSelectedDocument(doc);\r\n                            setShowDocumentViewer(true);\r\n                            \r\n                            // Mark related notification as read if exists\r\n                            const relatedNotification = notifications.find(n => \r\n                              n.title.includes(doc.fileName) && !n.read\r\n                            );\r\n                            if (relatedNotification) {\r\n                              const updatedNotifications = notifications.map(n => \r\n                                n.id === relatedNotification.id ? { ...n, read: true } : n\r\n                              );\r\n                              setNotifications(updatedNotifications);\r\n                              writeNotifications(updatedNotifications);\r\n                            }\r\n                          }}\r\n                          className={`px-3 py-1 rounded text-xs border transition-colors ${\r\n                            darkMode \r\n                              ? 'bg-gray-700 text-gray-100 border-gray-600 hover:bg-gray-600' \r\n                              : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'\r\n                          }`}\r\n                        >\r\n                          <FaEye className=\"inline mr-1\" />\r\n                          View\r\n                        </button>\r\n                        <button\r\n                          onClick={() => exportAnalyzedDocument(doc)}\r\n                          className={`px-3 py-1 rounded text-xs border transition-colors ${\r\n                            darkMode \r\n                              ? 'bg-gray-700 text-gray-100 border-gray-600 hover:bg-gray-600' \r\n                              : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'\r\n                          }`}\r\n                        >\r\n                          <FaFileExport className=\"inline mr-1\" />\r\n                          Export\r\n                        </button>\r\n                        <button\r\n                          onClick={() => {\r\n                            if (window.confirm(`Are you sure you want to delete the analysis for \"${doc.fileName}\"?`)) {\r\n                              deleteAnalyzedDocument(doc.id);\r\n                            }\r\n                          }}\r\n                          className=\"px-3 py-1 rounded text-xs border text-red-600 bg-white dark:bg-gray-700 dark:text-red-400 border-gray-300 dark:border-gray-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors\"\r\n                        >\r\n                          <FaTrash className=\"inline mr-1\" />\r\n                          Delete\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                  {analyzedDocuments.length > 10 && (\r\n                    <div className={`text-center text-xs py-2 ${\r\n                      darkMode ? 'text-gray-400' : 'text-gray-500'\r\n                    }`}>\r\n                      Showing 10 of {analyzedDocuments.length} documents\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Pro Tips */}\r\n        <div className={`mt-8 p-6 rounded-lg border ${\r\n          darkMode \r\n            ? 'bg-blue-900/20 border-blue-700' \r\n            : 'bg-blue-50 border-blue-200'\r\n        }`}>\r\n          <div className=\"flex items-start gap-3\">\r\n            <FaExclamationTriangle className={`mt-1 flex-shrink-0 ${\r\n              darkMode ? 'text-blue-400' : 'text-blue-600'\r\n            }`} />\r\n            <div>\r\n              <div className={`font-medium ${\r\n                darkMode ? 'text-blue-100' : 'text-blue-900'\r\n              }`}>Best Practices</div>\r\n              <ul className={`text-sm mt-2 space-y-1 ${\r\n                darkMode ? 'text-blue-200' : 'text-blue-800'\r\n              }`}>\r\n                <li> Upload data regularly to maintain accurate health insights</li>\r\n                <li> Include diverse data sources: financial, operational, and survey data</li>\r\n                <li> Review system-specific recommendations for targeted improvements</li>\r\n                <li> Export snapshots for board presentations and stakeholder reports</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}","import React, { useState, useMemo, useEffect, useRef, useCallback } from 'react';\r\nimport { FaSignal, FaVolumeUp, FaBell, FaChartLine, FaClock, FaWifi, FaDatabase } from 'react-icons/fa';\r\n\r\nconst STORAGE_UPLOADS = \"conseqx_uploads_v1\";\r\nconst STORAGE_ASSESS = \"conseqx_assessments_v1\";\r\nconst STORAGE_AI_SETTINGS = \"conseqx_ai_settings_v1\";\r\n\r\n// Custom hook for generating smooth wave animations\r\nconst useWaveAnimation = (isActive, baseValue) => {\r\n  const [animatedValue, setAnimatedValue] = useState(baseValue);\r\n  const rafRef = useRef();\r\n  const startTimeRef = useRef(Date.now());\r\n\r\n  useEffect(() => {\r\n    if (!isActive) {\r\n      setAnimatedValue(baseValue);\r\n      return;\r\n    }\r\n\r\n    const animate = () => {\r\n      const elapsed = (Date.now() - startTimeRef.current) / 1000;\r\n      const waveOffset = Math.sin(elapsed * 0.8) * 3 + Math.sin(elapsed * 1.3) * 1.5;\r\n      setAnimatedValue(baseValue + waveOffset);\r\n      rafRef.current = requestAnimationFrame(animate);\r\n    };\r\n\r\n    rafRef.current = requestAnimationFrame(animate);\r\n    return () => {\r\n      if (rafRef.current) {\r\n        cancelAnimationFrame(rafRef.current);\r\n      }\r\n    };\r\n  }, [isActive, baseValue]);\r\n\r\n  return animatedValue;\r\n};\r\n\r\nconst CANONICAL = [\r\n  { key: \"interdependency\", title: \"Interdependency\" },\r\n  { key: \"orchestration\", title: \"Orchestration\" },\r\n  { key: \"investigation\", title: \"Investigation\" },\r\n  { key: \"interpretation\", title: \"Interpretation\" },\r\n  { key: \"illustration\", title: \"Illustration\" },\r\n  { key: \"inlignment\", title: \"Inlignment\" },\r\n];\r\n\r\n// Mobile detection utility\r\nfunction isMobileDevice() {\r\n  return typeof window !== 'undefined' && (\r\n    /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||\r\n    window.innerWidth < 768\r\n  );\r\n}\r\n\r\nfunction readUploads() { \r\n  try { \r\n    const raw = localStorage.getItem(STORAGE_UPLOADS); \r\n    return raw ? JSON.parse(raw) : []; \r\n  } catch { \r\n    return []; \r\n  } \r\n}\r\n\r\nfunction readAssessmentsForOrg(orgId = \"anon\") { \r\n  try { \r\n    const raw = localStorage.getItem(STORAGE_ASSESS); \r\n    const byOrg = raw ? JSON.parse(raw) : {}; \r\n    return byOrg[orgId] || []; \r\n  } catch { \r\n    return []; \r\n  } \r\n}\r\n\r\n// Generate external signals for correlation\r\nfunction generateSignals(canonical) {\r\n  const ts = Date.now();\r\n  return canonical.map((s, i) => ({\r\n    type: ['market', 'competitor', 'industry', 'economic'][i % 4],\r\n    source: ['Bloomberg', 'Reuters', 'Internal', 'Partner'][i % 4],\r\n    value: Math.max(20, Math.min(90, 50 + Math.sin((ts / 10000) + i) * 25)),\r\n    importance: ['high', 'medium', 'low'][i % 3],\r\n    timestamp: ts - (i * 60000),\r\n    systemKey: s.key\r\n  }));\r\n}\r\n\r\n// Enhanced Canvas Live Bars Component with Waving Animation\r\nfunction LiveBarsCanvas({ values = [], darkMode = false, width = 120, height = 64, barCount = 18, palette = \"crypto\", tooltipRef }) {\r\n  const canvasRef = useRef(null);\r\n  const rafRef = useRef(null);\r\n  const devicePixelRatioRef = useRef(typeof window !== \"undefined\" ? (window.devicePixelRatio || 1) : 1);\r\n  const displayRef = useRef((values || []).slice(-barCount).concat([]));\r\n  const targetRef = useRef((values || []).slice(-barCount).concat([]));\r\n  const animationTimeRef = useRef(0);\r\n\r\n  if (displayRef.current.length < barCount) {\r\n    const fillValue = 50 + Math.sin(Date.now() / 1000) * 5; // Base wave for empty bars\r\n    displayRef.current = displayRef.current.concat(new Array(barCount - displayRef.current.length).fill(fillValue));\r\n    targetRef.current = targetRef.current.concat(new Array(barCount - targetRef.current.length).fill(fillValue));\r\n  }\r\n\r\n  // Update target values when values prop changes\r\n  useEffect(() => {\r\n    const newValues = (values || []).slice(-barCount);\r\n    while (newValues.length < barCount) {\r\n      newValues.unshift(50 + Math.sin(Date.now() / 1000 + newValues.length) * 5);\r\n    }\r\n    targetRef.current = [...newValues];\r\n  }, [values, barCount]);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    const ctx = canvas.getContext('2d');\r\n    const dpr = devicePixelRatioRef.current;\r\n    \r\n    canvas.width = width * dpr;\r\n    canvas.height = height * dpr;\r\n    ctx.scale(dpr, dpr);\r\n\r\n    const animate = (timestamp) => {\r\n      animationTimeRef.current = timestamp;\r\n      ctx.clearRect(0, 0, width, height);\r\n      \r\n      const barWidth = width / barCount;\r\n      const maxHeight = height - 10;\r\n      const waveSpeed = 0.003;\r\n      const waveAmplitude = 2;\r\n      \r\n      // Smooth interpolation between current and target values\r\n      displayRef.current = displayRef.current.map((current, index) => {\r\n        const target = targetRef.current[index] || 50;\r\n        const waveOffset = Math.sin(timestamp * waveSpeed + index * 0.5) * waveAmplitude;\r\n        const smoothTarget = target + waveOffset;\r\n        \r\n        // Smooth transition to target\r\n        return current + (smoothTarget - current) * 0.1;\r\n      });\r\n      \r\n      displayRef.current.forEach((value, index) => {\r\n        const barHeight = Math.max(2, (value / 100) * maxHeight);\r\n        const x = index * barWidth;\r\n        const y = height - barHeight - 5;\r\n        \r\n        // Enhanced color based on palette and value with gradient effect\r\n        let color;\r\n        let glowColor;\r\n        if (palette === \"crypto\") {\r\n          if (value >= 70) {\r\n            color = '#10b981';\r\n            glowColor = '#34d399';\r\n          } else if (value >= 50) {\r\n            color = '#f59e0b';\r\n            glowColor = '#fbbf24';\r\n          } else {\r\n            color = '#ef4444';\r\n            glowColor = '#f87171';\r\n          }\r\n        } else {\r\n          color = darkMode ? '#60a5fa' : '#2563eb';\r\n          glowColor = darkMode ? '#93c5fd' : '#3b82f6';\r\n        }\r\n        \r\n        // Add subtle glow effect for live feel\r\n        ctx.shadowColor = glowColor;\r\n        ctx.shadowBlur = 3;\r\n        ctx.fillStyle = color;\r\n        ctx.fillRect(x + 1, y, barWidth - 2, barHeight);\r\n        \r\n        // Reset shadow\r\n        ctx.shadowBlur = 0;\r\n        \r\n        // Add highlight on top for 3D effect\r\n        const highlightHeight = Math.max(1, barHeight * 0.2);\r\n        ctx.fillStyle = glowColor;\r\n        ctx.fillRect(x + 1, y, barWidth - 2, highlightHeight);\r\n      });\r\n      \r\n      rafRef.current = requestAnimationFrame(animate);\r\n    };\r\n    \r\n    rafRef.current = requestAnimationFrame(animate);\r\n    \r\n    return () => {\r\n      if (rafRef.current) {\r\n        cancelAnimationFrame(rafRef.current);\r\n      }\r\n    };\r\n  }, [values, darkMode, width, height, barCount, palette]);\r\n\r\n  return <canvas ref={canvasRef} width={width} height={height} style={{ width: `${width}px`, height: `${height}px`, borderRadius: 8 }} aria-hidden />;\r\n}\r\n\r\n// Tooltip Component\r\nconst Tooltip = React.forwardRef(({ darkMode = false }, ref) => {\r\n  const [state, setState] = useState({ visible: false, index: 0, value: 0, timestamp: null, left: 0, top: 0 });\r\n  \r\n  React.useImperativeHandle(ref, () => ({\r\n    show: ({ index = 0, value = 0, timestamp = null, pageX = 0, pageY = 0 } = {}) => {\r\n      setState({\r\n        visible: true,\r\n        index,\r\n        value,\r\n        timestamp,\r\n        left: Math.min(pageX + 10, window.innerWidth - 160),\r\n        top: Math.max(pageY - 60, 10)\r\n      });\r\n    },\r\n    hide: () => setState((s) => ({ ...s, visible: false })),\r\n  }), []);\r\n\r\n  if (!state.visible) return null;\r\n  \r\n  const bg = darkMode ? \"rgba(2,6,23,0.9)\" : \"#fff\";\r\n  const border = darkMode ? \"rgba(255,255,255,0.06)\" : \"rgba(2,6,23,0.06)\";\r\n  const text = darkMode ? \"#E6F0FF\" : \"#071024\";\r\n\r\n  return (\r\n    <div role=\"tooltip\" aria-hidden={!state.visible} style={{\r\n      position: \"fixed\", left: state.left, top: state.top, zIndex: 9999, pointerEvents: \"none\",\r\n      minWidth: 140, maxWidth: 300, padding: \"8px 10px\", borderRadius: 8, boxShadow: \"0 8px 24px rgba(2,6,23,0.4)\",\r\n      background: bg, border: `1px solid ${border}`, color: text, fontSize: 13, lineHeight: 1.2\r\n    }}>\r\n      <div style={{ fontWeight: 700, marginBottom: 6 }}>{state.value}%</div>\r\n      <div style={{ fontSize: 12, opacity: 0.85 }}>\r\n        {state.timestamp ? new Date(state.timestamp).toLocaleTimeString() : \"\"}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default function AutoDataMode({ darkMode, orgId = \"anon\" }) {\r\n  const [uploads] = useState(() => readUploads());\r\n  const [assessments] = useState(() => readAssessmentsForOrg(orgId));\r\n  const [alerts, setAlerts] = useState([]);\r\n  const [autoOn, setAutoOn] = useState(true);\r\n  const [isMobile, setIsMobile] = useState(() => isMobileDevice());\r\n  const [aiEnabled, setAiEnabled] = useState(true);\r\n  const [voiceEnabled, setVoiceEnabled] = useState(false);\r\n  const [connectionQuality, setConnectionQuality] = useState('excellent');\r\n  const [lastSyncTime, setLastSyncTime] = useState(Date.now());\r\n  const [externalSignals, setExternalSignals] = useState(() => generateSignals(CANONICAL));\r\n  const tooltipControl = useRef(null);\r\n\r\n  // assessed keys\r\n  const assessedKeys = useMemo(() => {\r\n    const keys = new Set();\r\n    assessments.forEach(a => {\r\n      if (a && a.system) {\r\n        const normalized = String(a.system).toLowerCase().replace(/[^a-z0-9]/g, '');\r\n        const found = CANONICAL.find(c => c.key.toLowerCase().replace(/[^a-z0-9]/g, '') === normalized);\r\n        if (found) keys.add(found.key);\r\n      }\r\n    });\r\n    uploads.forEach(u => {\r\n      if (u && u.analyzedSystems && Array.isArray(u.analyzedSystems)) {\r\n        u.analyzedSystems.forEach(sys => {\r\n          const found = CANONICAL.find(c => \r\n            String(sys).toLowerCase().includes(c.key.toLowerCase()) || \r\n            c.key.toLowerCase().includes(String(sys).toLowerCase())\r\n          );\r\n          if (found) keys.add(found.key);\r\n        });\r\n      }\r\n    });\r\n    return Array.from(keys);\r\n  }, [assessments, uploads]);\r\n\r\n  // working scores\r\n  const [workingScores, setWorkingScores] = useState(() => {\r\n    const scores = {};\r\n    CANONICAL.forEach(s => {\r\n      scores[s.key] = assessedKeys.includes(s.key) ? Math.max(30, Math.min(95, 45 + Math.random() * 40)) : null;\r\n    });\r\n    return scores;\r\n  });\r\n\r\n  // composite score\r\n  const composite = useMemo(() => {\r\n    const vals = assessedKeys.map(key => workingScores[key]).filter(v => v !== null);\r\n    if (!vals.length) return null;\r\n    return Math.round(vals.reduce((a, b) => a + b, 0) / vals.length);\r\n  }, [workingScores, assessedKeys]);\r\n\r\n  // Mobile responsiveness detector\r\n  useEffect(() => {\r\n    const handleResize = () => setIsMobile(isMobileDevice());\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  // Enhanced notification system\r\n  const addEnhancedAlert = useCallback((title, message, type = 'info', options = {}) => {\r\n    const newAlert = {\r\n      id: Date.now(),\r\n      title,\r\n      message,\r\n      type,\r\n      timestamp: Date.now(),\r\n      acknowledged: false,\r\n      priority: options.priority || 'normal',\r\n      category: options.category || 'system'\r\n    };\r\n    \r\n    setAlerts(prev => [newAlert, ...prev.slice(0, 19)]);\r\n    \r\n    if (voiceEnabled && 'speechSynthesis' in window) {\r\n      const utterance = new SpeechSynthesisUtterance(`${title}: ${message}`);\r\n      utterance.rate = 0.8;\r\n      utterance.volume = 0.6;\r\n      window.speechSynthesis.speak(utterance);\r\n    }\r\n    \r\n    if (!isMobile && 'Notification' in window && Notification.permission === 'granted') {\r\n      new Notification(title, {\r\n        body: message,\r\n        icon: '/logo192.png',\r\n        tag: `conseqx-${newAlert.id}`\r\n      });\r\n    }\r\n  }, [voiceEnabled, isMobile]);\r\n\r\n  // External polling for signals\r\n  useEffect(() => {\r\n    if (!autoOn) return;\r\n    \r\n    const interval = setInterval(() => {\r\n      setExternalSignals(prev => generateSignals(CANONICAL));\r\n      setLastSyncTime(Date.now());\r\n    }, 30000);\r\n    \r\n    return () => clearInterval(interval);\r\n  }, [autoOn]);\r\n\r\n  // Enhanced Auto tick for live wave-like updates\r\n  useEffect(() => {\r\n    if (!autoOn) return;\r\n    \r\n    let animationFrame;\r\n    const startTime = Date.now();\r\n    \r\n    const updateScores = () => {\r\n      const currentTime = Date.now();\r\n      const elapsed = (currentTime - startTime) / 1000; // seconds\r\n      \r\n      setWorkingScores(prev => {\r\n        const updated = { ...prev };\r\n        assessedKeys.forEach((key, index) => {\r\n          if (updated[key] !== null) {\r\n            // Create wave-like patterns with different frequencies for each system\r\n            const baseValue = updated[key];\r\n            const waveAmplitude = 3; // Reduced amplitude for subtler effect\r\n            const waveFrequency = 0.5 + (index * 0.1); // Different frequency per system\r\n            const phaseOffset = index * Math.PI / 3; // Phase offset for variety\r\n            \r\n            // Combine sine wave with small random drift\r\n            const waveEffect = Math.sin(elapsed * waveFrequency + phaseOffset) * waveAmplitude;\r\n            const randomDrift = (Math.random() - 0.5) * 1.5;\r\n            const totalDrift = waveEffect + randomDrift;\r\n            \r\n            updated[key] = Math.max(20, Math.min(95, baseValue + totalDrift));\r\n          }\r\n        });\r\n        return updated;\r\n      });\r\n      \r\n      animationFrame = requestAnimationFrame(updateScores);\r\n    };\r\n    \r\n    // Start with slower interval for major changes\r\n    const majorUpdateInterval = setInterval(() => {\r\n      setWorkingScores(prev => {\r\n        const updated = { ...prev };\r\n        assessedKeys.forEach(key => {\r\n          if (updated[key] !== null) {\r\n            // Occasional larger drift for more realistic data movement\r\n            const largeDrift = (Math.random() - 0.5) * 8;\r\n            updated[key] = Math.max(20, Math.min(95, updated[key] + largeDrift));\r\n          }\r\n        });\r\n        return updated;\r\n      });\r\n    }, 15000); // Every 15 seconds\r\n    \r\n    // Start smooth animation\r\n    updateScores();\r\n    \r\n    return () => {\r\n      clearInterval(majorUpdateInterval);\r\n      if (animationFrame) {\r\n        cancelAnimationFrame(animationFrame);\r\n      }\r\n    };\r\n  }, [autoOn, assessedKeys]);\r\n\r\n  // Connection quality data management protocols\r\n  useEffect(() => {\r\n    const updateConnectionQuality = () => {\r\n      if (!navigator.onLine) {\r\n        setConnectionQuality('poor');\r\n        return;\r\n      }\r\n      \r\n      const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;\r\n      if (connection) {\r\n        const { effectiveType, downlink } = connection;\r\n        if (effectiveType === '4g' && downlink > 5) {\r\n          setConnectionQuality('excellent');\r\n        } else if (effectiveType === '3g' || downlink > 1) {\r\n          setConnectionQuality('good');\r\n        } else {\r\n          setConnectionQuality('poor');\r\n        }\r\n      } else {\r\n        setConnectionQuality('good');\r\n      }\r\n    };\r\n    \r\n    updateConnectionQuality();\r\n    window.addEventListener('online', updateConnectionQuality);\r\n    window.addEventListener('offline', updateConnectionQuality);\r\n    \r\n    return () => {\r\n      window.removeEventListener('online', updateConnectionQuality);\r\n      window.removeEventListener('offline', updateConnectionQuality);\r\n    };\r\n  }, []);\r\n\r\n  function ackAlert(alertId) {\r\n    setAlerts(prev => prev.map(a => a.id === alertId ? { ...a, acknowledged: true } : a));\r\n  }\r\n\r\n  // Mobile Status Bar\r\n  const MobileStatusBar = () => (\r\n    <div className={`${isMobile ? 'block' : 'hidden'} sticky top-0 z-30 p-3 ${darkMode ? 'bg-gray-900 border-b border-gray-700' : 'bg-white border-b border-gray-200'}`}>\r\n      <div className=\"flex items-center justify-between text-sm\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"flex items-center gap-2\">\r\n            {autoOn ? <FaSignal className=\"text-green-500\" /> : <FaSignal className=\"text-red-500 opacity-50\" />}\r\n            <span className=\"text-xs font-medium\">{autoOn ? 'Live' : 'Offline'}</span>\r\n          </div>\r\n          \r\n          <div className={`flex items-center gap-2 ${\r\n            connectionQuality === 'excellent' ? 'text-green-500' :\r\n            connectionQuality === 'good' ? 'text-yellow-500' : 'text-red-500'\r\n          }`}>\r\n            <FaWifi size={12} />\r\n            <span className=\"text-xs capitalize\">{connectionQuality}</span>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"flex items-center gap-2\">\r\n          <button \r\n            onClick={() => setVoiceEnabled(!voiceEnabled)}\r\n            className={`p-2 rounded ${voiceEnabled ? 'text-blue-500' : 'text-gray-400'}`}\r\n          >\r\n            <FaVolumeUp size={14} />\r\n          </button>\r\n          \r\n          {alerts.filter(a => !a.acknowledged).length > 0 && (\r\n            <div className=\"flex items-center gap-1 text-red-500\">\r\n              <FaBell size={14} />\r\n              <span className=\"text-xs font-medium\">{alerts.filter(a => !a.acknowledged).length}</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <section className=\"relative\">\r\n      <Tooltip ref={tooltipControl} darkMode={darkMode} />\r\n      <MobileStatusBar />\r\n      \r\n      <div className={`rounded-2xl p-6 ${darkMode ? \"bg-gray-900 border border-gray-700 text-gray-100\" : \"bg-white border border-gray-100 text-gray-900\"}`}>\r\n        {/* Header */}\r\n        <div className=\"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6\">\r\n          <div className=\"flex-1\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <h2 className=\"text-2xl font-bold\">Real-Time Data Management Protocols</h2>\r\n              <div className={`px-3 py-1 rounded-full text-xs font-medium ${\r\n                autoOn ? 'bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400' : \r\n                'bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400'\r\n              }`}>\r\n                {autoOn ? 'Live Updates' : 'Paused'}\r\n              </div>\r\n            </div>\r\n            <p className=\"text-sm text-gray-500 mt-1\">\r\n              Continuous data management protocols and real-time analysis of organizational health\r\n            </p>\r\n            <div className=\"flex items-center gap-4 mt-2 text-sm\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <FaClock className=\"text-blue-500\" />\r\n                <span>Last sync: {new Date(lastSyncTime).toLocaleTimeString()}</span>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <FaDatabase className=\"text-green-500\" />\r\n                <span>{assessedKeys.length} systems active</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-3\">\r\n            <button \r\n              onClick={() => setAutoOn(!autoOn)} \r\n              className={`px-6 py-3 rounded-lg flex items-center gap-2 transition-colors ${\r\n                autoOn ? 'bg-red-600 hover:bg-red-700 text-white' : 'bg-green-600 hover:bg-green-700 text-white'\r\n              }`}\r\n            >\r\n              <FaSignal />\r\n              {autoOn ? 'Pause Live' : 'Start Live'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Key Metrics */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\r\n          <div className={`col-span-1 md:col-span-2 rounded-xl p-6 border ${darkMode ? \"bg-gray-800 border-gray-700\" : \"bg-white border-gray-50\"}`}>\r\n            <div className=\"text-sm text-gray-500\">Overall Health Score</div>\r\n            <div className=\"text-4xl font-bold mt-2\">{composite != null ? `${composite}%` : \"No data\"}</div>\r\n            <div className=\"text-sm text-gray-400 mt-2\">\r\n              Real-time composite across {assessedKeys.length} active systems\r\n            </div>\r\n          </div>\r\n\r\n          <div className={`rounded-xl p-6 border ${darkMode ? \"bg-gray-800 border-gray-700\" : \"bg-white border-gray-50\"}`}>\r\n            <div className=\"text-sm text-gray-500\">Active Alerts</div>\r\n            <div className=\"text-3xl font-bold mt-2 text-red-500\">\r\n              {alerts.filter(a => !a.acknowledged).length}\r\n            </div>\r\n            <div className=\"text-sm text-gray-400 mt-2\">Unacknowledged</div>\r\n          </div>\r\n\r\n          <div className={`rounded-xl p-6 border ${darkMode ? \"bg-gray-800 border-gray-700\" : \"bg-white border-gray-50\"}`}>\r\n            <div className=\"text-sm text-gray-500\">Connection</div>\r\n            <div className={`text-2xl font-bold mt-2 ${\r\n              connectionQuality === 'excellent' ? 'text-green-500' :\r\n              connectionQuality === 'good' ? 'text-yellow-500' : 'text-red-500'\r\n            }`}>\r\n              {connectionQuality.charAt(0).toUpperCase() + connectionQuality.slice(1)}\r\n            </div>\r\n            <div className=\"text-sm text-gray-400 mt-2\">Network quality</div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Live Systems Grid */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <h3 className=\"text-xl font-semibold flex items-center gap-2\">\r\n              <FaChartLine className=\"text-blue-600\" />\r\n              Live System Data Management Protocols\r\n            </h3>\r\n            <div className=\"text-sm text-gray-500\">\r\n              Updates every 5 seconds\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            {CANONICAL.map((s) => {\r\n              const score = workingScores[s.key];\r\n              const isActive = assessedKeys.includes(s.key);\r\n              const signal = externalSignals.find(sig => sig.systemKey === s.key);\r\n              const history = Array.from({ length: 18 }, () => score || 50);\r\n              \r\n              return (\r\n                <div \r\n                  key={s.key} \r\n                  className={`p-4 rounded-lg border transition-all duration-200 ${\r\n                    darkMode ? \"bg-gray-800 border-gray-700\" : \"bg-white border-gray-100\"\r\n                  } ${!isActive ? 'opacity-50' : ''}`}\r\n                >\r\n                  <div className=\"flex items-center justify-between mb-3\">\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"font-medium\">{s.title}</div>\r\n                      <div className=\"text-xs text-gray-500 mt-1\">\r\n                        {isActive ? 'Active data management protocols' : 'No data source'}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"text-right\">\r\n                      <div className={`text-2xl font-bold transition-all duration-300 ${\r\n                        !isActive ? 'text-gray-400' :\r\n                        score >= 80 ? 'text-green-600' :\r\n                        score >= 60 ? 'text-yellow-600' : 'text-red-600'\r\n                      } ${autoOn && isActive ? 'animate-pulse' : ''}`}>\r\n                        {isActive ? `${Math.round(score)}%` : ''}\r\n                      </div>\r\n                      {isActive && (\r\n                        <div className={`text-xs flex items-center gap-1 ${\r\n                          autoOn ? 'text-green-500' : 'text-gray-400'\r\n                        }`}>\r\n                          {autoOn && (\r\n                            <span className=\"relative flex h-2 w-2\">\r\n                              <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75\"></span>\r\n                              <span className=\"relative inline-flex rounded-full h-2 w-2 bg-green-500\"></span>\r\n                            </span>\r\n                          )}\r\n                          {autoOn ? 'Live' : 'Paused'}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {isActive && (\r\n                    <>\r\n                      <div className={`mb-3 w-full overflow-hidden transition-all duration-500 ${\r\n                        autoOn ? 'shadow-sm shadow-blue-500/10' : ''\r\n                      }`}>\r\n                        <div className=\"w-full max-w-full\">\r\n                          <LiveBarsCanvas\r\n                            values={history}\r\n                            darkMode={darkMode}\r\n                            width={isMobile ? 240 : 280}\r\n                            height={48}\r\n                            barCount={18}\r\n                            palette=\"crypto\"\r\n                            tooltipRef={tooltipControl}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      {signal && (\r\n                        <div className={`text-xs ${\r\n                          darkMode ? 'text-gray-400' : 'text-gray-600'\r\n                        }`}>\r\n                          External signal: {signal.source} ({Math.round(signal.value)}%)\r\n                        </div>\r\n                      )}\r\n                    </>\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Recent Alerts */}\r\n        {alerts.length > 0 && (\r\n          <div className=\"mb-8\">\r\n            <h3 className=\"text-xl font-semibold mb-4 flex items-center gap-2\">\r\n              <FaBell className=\"text-red-600\" />\r\n              Recent Alerts\r\n            </h3>\r\n            <div className=\"space-y-3\">\r\n              {alerts.slice(0, 5).map((alert) => (\r\n                <div \r\n                  key={alert.id} \r\n                  className={`p-4 rounded-lg border flex items-start justify-between ${\r\n                    darkMode ? \"bg-gray-800 border-gray-700\" : \"bg-white border-gray-100\"\r\n                  } ${!alert.acknowledged ? 'border-l-4 border-l-red-500' : ''}`}\r\n                >\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"font-medium\">{alert.title}</div>\r\n                    <div className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">{alert.message}</div>\r\n                    <div className=\"text-xs text-gray-500 mt-2\">\r\n                      {new Date(alert.timestamp).toLocaleString()}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <div className={`w-2 h-2 rounded-full ${\r\n                      alert.type === 'success' ? 'bg-green-500' : \r\n                      alert.type === 'warning' ? 'bg-yellow-500' : \r\n                      alert.type === 'error' ? 'bg-red-500' : 'bg-blue-500'\r\n                    }`}></div>\r\n                    {!alert.acknowledged && (\r\n                      <button\r\n                        onClick={() => ackAlert(alert.id)}\r\n                        className=\"px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700\"\r\n                      >\r\n                        Acknowledge\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Control Panel */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          <div className={`p-6 rounded-lg border ${darkMode ? \"bg-gray-800 border-gray-700\" : \"bg-white border-gray-100\"}`}>\r\n            <h4 className=\"font-semibold mb-4\">Live Controls</h4>\r\n            <div className=\"space-y-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <div className=\"font-medium\">Auto Updates</div>\r\n                  <div className=\"text-sm text-gray-500\">Real-time data refresh</div>\r\n                </div>\r\n                <button\r\n                  onClick={() => setAutoOn(!autoOn)}\r\n                  className={`w-12 h-6 rounded-full relative transition-colors ${\r\n                    autoOn ? 'bg-green-500' : 'bg-gray-300'\r\n                  }`}\r\n                >\r\n                  <div className={`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform ${\r\n                    autoOn ? 'translate-x-6' : 'translate-x-0.5'\r\n                  }`}></div>\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <div className=\"font-medium\">Voice Alerts</div>\r\n                  <div className=\"text-sm text-gray-500\">Audio notifications</div>\r\n                </div>\r\n                <button\r\n                  onClick={() => setVoiceEnabled(!voiceEnabled)}\r\n                  className={`w-12 h-6 rounded-full relative transition-colors ${\r\n                    voiceEnabled ? 'bg-blue-500' : 'bg-gray-300'\r\n                  }`}\r\n                >\r\n                  <div className={`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform ${\r\n                    voiceEnabled ? 'translate-x-6' : 'translate-x-0.5'\r\n                  }`}></div>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className={`p-6 rounded-lg border ${darkMode ? \"bg-gray-800 border-gray-700\" : \"bg-white border-gray-100\"}`}>\r\n            <h4 className=\"font-semibold mb-4\">System Status</h4>\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <span className=\"text-sm\">Active Systems</span>\r\n                <span className=\"font-medium\">{assessedKeys.length} / {CANONICAL.length}</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center\">\r\n                <span className=\"text-sm\">Data Sources</span>\r\n                <span className=\"font-medium\">{uploads.length} uploads</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center\">\r\n                <span className=\"text-sm\">Update Frequency</span>\r\n                <span className=\"font-medium\">5 seconds</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center\">\r\n                <span className=\"text-sm\">Connection</span>\r\n                <span className={`font-medium capitalize ${\r\n                  connectionQuality === 'excellent' ? 'text-green-500' :\r\n                  connectionQuality === 'good' ? 'text-yellow-500' : 'text-red-500'\r\n                }`}>\r\n                  {connectionQuality}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport { useOutletContext } from 'react-router-dom';\r\nimport ManualDataMode from './components/ManualDataMode';\r\nimport AutoDataMode from './components/AutoDataMode';\r\nimport { FaDatabase, FaSignal, FaToggleOn, FaToggleOff } from 'react-icons/fa';\r\n\r\nexport default function DataManagementView() {\r\n  const outlet = useOutletContext();\r\n  const darkMode = outlet?.darkMode ?? false;\r\n  const orgId = outlet?.orgId || \"anon\";\r\n  const globalDashboardMode = outlet?.dashboardMode || 'manual';\r\n\r\n  // Local mode state for this tab (independent of global mode)\r\n  const [localMode, setLocalMode] = useState(() => {\r\n    try {\r\n      const saved = localStorage.getItem('conseqx_data_management_mode_v1');\r\n      return saved || globalDashboardMode;\r\n    } catch {\r\n      return globalDashboardMode;\r\n    }\r\n  });\r\n\r\n  const toggleLocalMode = () => {\r\n    const newMode = localMode === 'manual' ? 'auto' : 'manual';\r\n    setLocalMode(newMode);\r\n    try {\r\n      localStorage.setItem('conseqx_data_management_mode_v1', newMode);\r\n      // Update the global dashboard mode as well\r\n      localStorage.setItem('conseqx_dashboard_mode_v1', newMode);\r\n      // Trigger storage event to notify parent component\r\n      window.dispatchEvent(new StorageEvent('storage', {\r\n        key: 'conseqx_dashboard_mode_v1',\r\n        newValue: newMode\r\n      }));\r\n    } catch {}\r\n  };\r\n\r\n  return (\r\n    <div className={`rounded-xl p-6 ${darkMode ? \"bg-gray-900 border border-gray-700\" : \"bg-white border border-gray-100\"}`}>\r\n      {/* Header with Mode Toggle */}\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div>\r\n          <h2 className=\"text-xl font-semibold\">Data Management</h2>\r\n          <p className={`text-sm mt-1 ${\r\n            darkMode ? 'text-gray-400' : 'text-gray-500'\r\n          }`}>\r\n            Manage data sources and configure data management protocols preferences\r\n          </p>\r\n          <p className=\"text-xs text-blue-500 mt-1\">\r\n             Data Management tab is now active and working\r\n          </p>\r\n        </div>\r\n\r\n        {/* Local Mode Toggle */}\r\n        <div className={`flex items-center gap-3 px-4 py-2 rounded-lg border ${darkMode ? 'bg-gray-800 border-gray-600' : 'bg-gray-50 border-gray-200'}`}>\r\n          <div className=\"flex items-center gap-2\">\r\n            <FaDatabase className={`${localMode === 'manual' ? 'text-blue-600' : 'text-gray-400'}`} />\r\n            <span className={`text-sm font-medium ${localMode === 'manual' ? (darkMode ? 'text-white' : 'text-gray-900') : 'text-gray-500'}`}>\r\n              Manual Upload\r\n            </span>\r\n          </div>\r\n          \r\n          <button\r\n            onClick={toggleLocalMode}\r\n            className=\"flex items-center\"\r\n            title={`Switch to ${localMode === 'manual' ? 'Auto Sync' : 'Manual Upload'} mode`}\r\n          >\r\n            {localMode === 'manual' ? (\r\n              <FaToggleOff className=\"text-2xl text-gray-400 hover:text-blue-600 transition-colors\" />\r\n            ) : (\r\n              <FaToggleOn className=\"text-2xl text-blue-600 hover:text-blue-700 transition-colors\" />\r\n            )}\r\n          </button>\r\n          \r\n          <div className=\"flex items-center gap-2\">\r\n            <FaSignal className={`${localMode === 'auto' ? 'text-green-600' : 'text-gray-400'}`} />\r\n            <span className={`text-sm font-medium ${localMode === 'auto' ? (darkMode ? 'text-white' : 'text-gray-900') : 'text-gray-500'}`}>\r\n              Auto Sync\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Mode Description */}\r\n      <div className={`mb-6 p-4 rounded-lg border ${\r\n        localMode === 'manual' \r\n          ? (darkMode ? 'bg-blue-900/20 border-blue-700' : 'bg-blue-100/50 border-blue-300')\r\n          : (darkMode ? 'bg-green-900/20 border-green-700' : 'bg-green-100/50 border-green-300')\r\n      }`}>\r\n        <div className=\"flex items-center gap-3\">\r\n          {localMode === 'manual' ? (\r\n            <>\r\n              <FaDatabase className={`flex-shrink-0 ${\r\n                darkMode ? 'text-blue-400' : 'text-blue-700'\r\n              }`} />\r\n              <div>\r\n                <div className={`font-semibold ${\r\n                  darkMode ? 'text-blue-100' : 'text-blue-900'\r\n                }`}>Manual Upload Mode</div>\r\n                <div className={`text-sm ${\r\n                  darkMode ? 'text-blue-200' : 'text-blue-800'\r\n                }`}>\r\n                  Upload organizational datasets through guided workflows. Perfect for periodic analysis and comprehensive reporting.\r\n                </div>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <FaSignal className={`flex-shrink-0 ${\r\n                darkMode ? 'text-green-400' : 'text-green-700'\r\n              }`} />\r\n              <div>\r\n                <div className={`font-semibold ${\r\n                  darkMode ? 'text-green-100' : 'text-green-900'\r\n                }`}>Auto Sync Mode</div>\r\n                <div className={`text-sm ${\r\n                  darkMode ? 'text-green-200' : 'text-green-800'\r\n                }`}>\r\n                  Configure automatic data synchronization and real-time data management protocols. Ideal for continuous operational oversight.\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Render appropriate data management mode */}\r\n      <div>\r\n        {localMode === 'manual' ? (\r\n          <ManualDataMode darkMode={darkMode} orgId={orgId} />\r\n        ) : (\r\n          <AutoDataMode darkMode={darkMode} orgId={orgId} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":["document","getElementById","style","createElement","id","textContent","head","appendChild","STORAGE_UPLOADS","STORAGE_ASSESSMENTS","STORAGE_NOTIFICATIONS","STORAGE_PREFERENCES","CANONICAL","key","title","processOrganizationalData","file","fileContent","fileType","name","split","pop","toLowerCase","parsedData","parseCSVData","JSON","parse","data","fileName","scores","identifyDataType","interdependency","score","some","row","Object","keys","includes","Math","min","max","random","analyzeInterdependency","orchestration","analyzeOrchestration","investigation","hasMetrics","analyzeFinancialInvestigation","interpretation","analyzeInterpretation","illustration","analyzeIllustration","inlignment","analyzeInlignment","hasProcessData","analyzeOperationalOrchestration","hasKPIs","analyzeOperationalInvestigation","hasCrossFunctional","analyzeOperationalInterdependency","reduce","acc","sys","_objectSpread","forEach","analyzeDataForSixSystems","error","console","csvContent","lines","filter","line","trim","length","headers","map","h","i","values","header","index","_values$index","push","headerStr","join","readFileContent","Promise","resolve","reject","reader","FileReader","onload","e","target","result","onerror","readAsText","generateInsights","systemScores","insights","avgScore","a","b","entries","_ref","system","systemData","find","s","concat","generateRecommendations","recommendations","_ref2","slice","writeNotifications","notifications","localStorage","setItem","stringify","window","dispatchEvent","CustomEvent","_unused5","ManualDataMode","_ref3","darkMode","orgId","uploads","setUploads","useState","raw","getItem","_unused","readUploads","setNotifications","_unused4","readNotifications","preferences","setPreferences","emailNotifications","smsNotifications","uploadReminders","analysisAlerts","_unused6","readPreferences","showUploadWizard","setShowUploadWizard","showNotificationPanel","setShowNotificationPanel","uploadProgress","setUploadProgress","show","progress","status","dynamicSystemScores","setSystemScores","dragActive","setDragActive","selectedFiles","setSelectedFiles","uploadStep","setUploadStep","systemSelections","setSystemSelections","analyzedDocuments","setAnalyzedDocuments","saved","_unused8","selectedDocument","setSelectedDocument","showDocumentViewer","setShowDocumentViewer","fileInputRef","useRef","latest","assessments","useMemo","arguments","undefined","_unused2","readAssessments","assessmentMap","m","normalized","String","replace","idx","normalizedKey","analyzedSystems","Array","isArray","timestamp","overall","vals","v","round","UploadWizard","handleDrag","preventDefault","stopPropagation","type","_jsx","className","children","_jsxs","FaUpload","onClick","width","onDragEnter","onDragLeave","onDragOver","onDrop","files","from","dataTransfer","ref","multiple","accept","onChange","log","f","current","click","size","toFixed","async","processedResults","completedFiles","prev","systemKey","finalScores","updatedDocs","preview","recordCount","overallScore","sum","Date","now","fileSize","analyzedDate","toISOString","dataType","setTimeout","_selectedFiles$","_selectedFiles$2","updatedUploads","fileCount","arr","_unused3","writeUploads","addNotification","disabled","message","updated","read","deleteAnalyzedDocument","docId","updatedDocuments","doc","exportAnalyzedDocument","exportData","blob","Blob","url","URL","createObjectURL","href","download","revokeObjectURL","DocumentViewer","_selectedDocument$ana","_selectedDocument$ins","toLocaleString","FaTimes","uploadDate","_CANONICAL$find","_ref4","systemTitle","performanceLevel","filename","objectUrl","value","previewText","insight","recommendation","FaCheckCircle","n","FaBell","FaClock","systems","FaDownload","notif","_notif$message$split$","isDocumentNotification","documentName","updatedNotifications","FaEye","FaChartLine","source","sourceLabelFor","hasData","_Fragment","upload","FaFileExport","toLocaleDateString","relatedNotification","confirm","FaTrash","FaExclamationTriangle","STORAGE_ASSESS","isMobileDevice","test","navigator","userAgent","innerWidth","generateSignals","canonical","ts","sin","importance","LiveBarsCanvas","height","barCount","palette","tooltipRef","canvasRef","rafRef","devicePixelRatioRef","devicePixelRatio","displayRef","targetRef","animationTimeRef","fillValue","fill","useEffect","newValues","unshift","canvas","ctx","getContext","dpr","scale","animate","clearRect","barWidth","maxHeight","barHeight","x","y","color","glowColor","shadowColor","shadowBlur","fillStyle","fillRect","highlightHeight","requestAnimationFrame","cancelAnimationFrame","borderRadius","Tooltip","React","state","setState","visible","left","top","pageX","pageY","hide","bg","border","text","role","position","zIndex","pointerEvents","minWidth","maxWidth","padding","boxShadow","background","fontSize","lineHeight","fontWeight","marginBottom","opacity","toLocaleTimeString","AutoDataMode","readAssessmentsForOrg","alerts","setAlerts","autoOn","setAutoOn","isMobile","setIsMobile","aiEnabled","setAiEnabled","voiceEnabled","setVoiceEnabled","connectionQuality","setConnectionQuality","lastSyncTime","setLastSyncTime","externalSignals","setExternalSignals","tooltipControl","assessedKeys","Set","found","c","add","u","workingScores","setWorkingScores","composite","handleResize","addEventListener","removeEventListener","useCallback","options","newAlert","acknowledged","priority","category","utterance","SpeechSynthesisUtterance","rate","volume","speechSynthesis","speak","Notification","permission","body","icon","tag","interval","setInterval","clearInterval","animationFrame","startTime","updateScores","elapsed","baseValue","waveAmplitude","waveFrequency","phaseOffset","PI","totalDrift","majorUpdateInterval","largeDrift","updateConnectionQuality","onLine","connection","mozConnection","webkitConnection","effectiveType","downlink","MobileStatusBar","FaSignal","FaWifi","FaVolumeUp","FaDatabase","charAt","toUpperCase","isActive","signal","sig","history","alert","ackAlert","alertId","DataManagementView","_outlet$darkMode","outlet","useOutletContext","globalDashboardMode","dashboardMode","localMode","setLocalMode","toggleLocalMode","newMode","StorageEvent","newValue","FaToggleOff","FaToggleOn"],"sourceRoot":""}