"use strict";(self.webpackChunkceo_assessment_app=self.webpackChunkceo_assessment_app||[]).push([[821],{61821:(e,t,s)=>{s.r(t),s.d(t,{default:()=>C});var a=s(65043),n=s(23721),r=s(89379),l=s(13204),i=s(70579);if("undefined"!==typeof document){if(!document.getElementById("scrollbar-hide-styles")){const e=document.createElement("style");e.id="scrollbar-hide-styles",e.textContent="\n  .scrollbar-hide {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n  .scrollbar-hide::-webkit-scrollbar {\n    display: none;\n  }\n",document.head.appendChild(e)}}const c="conseqx_uploads_v1",o="conseqx_assessments_v1",d="conseqx_manual_notifications_v1",m="conseqx_manual_preferences_v1",x=[{key:"interdependency",title:"Interdependency"},{key:"orchestration",title:"Orchestration"},{key:"investigation",title:"Investigation"},{key:"interpretation",title:"Interpretation"},{key:"illustration",title:"Illustration"},{key:"inlignment",title:"Inlignment"}];function g(e,t){const s=e.name.split(".").pop().toLowerCase();let a=null;try{"csv"===s||"xlsx"===s||"xls"===s?a=h(t):"json"===s&&(a=JSON.parse(t));return function(e,t){const s={};switch(u(e,t)){case"financial":s.interdependency=function(e){let t=70;e.some(e=>Object.keys(e).some(e=>e.includes("department")||e.includes("team")))&&(t+=10);return Math.min(95,Math.max(20,t+20*(Math.random()-.5)))}(e),s.orchestration=function(e){let t=65;e.some(e=>Object.keys(e).some(e=>e.includes("process")||e.includes("workflow")))&&(t+=15);return Math.min(95,Math.max(20,t+20*(Math.random()-.5)))}(e),s.investigation=function(e){let t=75;const s=e.some(e=>Object.keys(e).some(e=>e.includes("roi")||e.includes("margin")||e.includes("efficiency")));s&&(t+=15);return Math.min(95,Math.max(20,t+15*(Math.random()-.5)))}(e);break;case"survey":s.interpretation=function(e){let t=68;e.some(e=>Object.keys(e).some(e=>e.includes("feedback")||e.includes("comment")))&&(t+=12);return Math.min(95,Math.max(20,t+20*(Math.random()-.5)))}(e),s.illustration=function(e){let t=72;e.some(e=>Object.keys(e).some(e=>e.includes("communication")||e.includes("visual")))&&(t+=8);return Math.min(95,Math.max(20,t+20*(Math.random()-.5)))}(e),s.inlignment=function(e){let t=70;e.some(e=>Object.keys(e).some(e=>e.includes("goal")||e.includes("objective")||e.includes("strategy")))&&(t+=15);return Math.min(95,Math.max(20,t+20*(Math.random()-.5)))}(e);break;case"operational":s.orchestration=function(e){let t=68;const s=e.some(e=>Object.keys(e).some(e=>e.includes("cycle")||e.includes("time")||e.includes("efficiency")));s&&(t+=12);return Math.min(95,Math.max(20,t+18*(Math.random()-.5)))}(e),s.investigation=function(e){let t=72;const s=e.some(e=>Object.keys(e).some(e=>e.includes("performance")||e.includes("productivity")||e.includes("quality")));s&&(t+=13);return Math.min(95,Math.max(20,t+16*(Math.random()-.5)))}(e),s.interdependency=function(e){let t=70;const s=e.some(e=>Object.keys(e).some(e=>e.includes("collaboration")||e.includes("handoff")||e.includes("integration")));s&&(t+=10);return Math.min(95,Math.max(20,t+20*(Math.random()-.5)))}(e);break;default:Object.keys(x.reduce((e,t)=>(0,r.A)((0,r.A)({},e),{},{[t.key]:null}),{})).forEach(e=>{s[e]=60+30*Math.random()})}return s}(a,e.name)}catch(n){return console.error("Error processing organizational data:",n),null}}function h(e){const t=e.split("\n").filter(e=>e.trim());if(t.length<2)return[];const s=t[0].split(",").map(e=>e.trim().toLowerCase()),a=[];for(let n=1;n<t.length;n++){const e=t[n].split(","),r={};s.forEach((t,s)=>{var a;r[t]=null===(a=e[s])||void 0===a?void 0:a.trim()}),a.push(r)}return a}function u(e,t){const s=t.toLowerCase();if(s.includes("financial")||s.includes("budget")||s.includes("revenue"))return"financial";if(s.includes("survey")||s.includes("feedback")||s.includes("satisfaction"))return"survey";if(s.includes("operational")||s.includes("process")||s.includes("workflow"))return"operational";if(e.length>0){const t=Object.keys(e[0]).join(" ").toLowerCase();if(t.includes("revenue")||t.includes("cost")||t.includes("budget"))return"financial";if(t.includes("rating")||t.includes("score")||t.includes("satisfaction"))return"survey";if(t.includes("process")||t.includes("efficiency")||t.includes("workflow"))return"operational"}return"generic"}function y(e){return new Promise((t,s)=>{const a=new FileReader;a.onload=e=>t(e.target.result),a.onerror=e=>s(e),a.readAsText(e)})}function b(e){const t=[],s=Object.values(e).reduce((e,t)=>e+t,0)/Object.values(e).length;return s>=80?t.push("\ud83d\udfe2 Excellent organizational health detected across multiple systems"):s>=70?t.push("\ud83d\udfe1 Good organizational performance with room for optimization"):s>=60?t.push("\ud83d\udfe0 Moderate organizational health - focus areas identified"):t.push("\ud83d\udd34 Critical areas requiring immediate attention detected"),Object.entries(e).forEach(e=>{let[s,a]=e;const n=x.find(e=>e.key===s);n&&(a>=85?t.push("\u2705 ".concat(n.title,": Performing excellently")):a<50&&t.push("\u26a0\ufe0f ".concat(n.title,": Requires immediate attention")))}),t}function p(e){const t=[],s=Object.values(e).reduce((e,t)=>e+t,0)/Object.values(e).length;return s<60&&(t.push("Implement comprehensive organizational health improvement initiative"),t.push("Conduct detailed system-by-system analysis and remediation planning")),Object.entries(e).forEach(e=>{let[s,a]=e;const n=x.find(e=>e.key===s);n&&a<70&&(a<50?t.push("Prioritize immediate ".concat(n.title," system restructuring and resource allocation")):t.push("Enhance ".concat(n.title," system processes and monitoring capabilities")))}),s>=70&&(t.push("Maintain current performance levels through regular monitoring and assessment"),t.push("Consider implementing best practices sharing across organizational units")),s>=85&&t.push("Leverage high-performing systems as templates for organizational excellence"),t.slice(0,8)}function f(e){try{localStorage.setItem(d,JSON.stringify(e)),window.dispatchEvent(new CustomEvent("conseqx:notifications:updated"))}catch(t){}}function j(e){let{darkMode:t,orgId:s="anon"}=e;const[n,h]=(0,a.useState)(()=>function(){try{const e=localStorage.getItem(c);return e?JSON.parse(e):[]}catch(e){return[]}}()),[j,v]=(0,a.useState)(()=>function(){try{const e=localStorage.getItem(d);return e?JSON.parse(e):[]}catch(e){return[]}}()),[N,w]=(0,a.useState)(()=>function(){try{const e=localStorage.getItem(m);return e?JSON.parse(e):{emailNotifications:!1,smsNotifications:!1,uploadReminders:!0,analysisAlerts:!0}}catch(e){return{emailNotifications:!1,smsNotifications:!1,uploadReminders:!0,analysisAlerts:!0}}}()),[S,k]=(0,a.useState)(!1),[z,A]=(0,a.useState)(!1),[M,C]=(0,a.useState)({show:!1,progress:0,status:""}),[D,O]=(0,a.useState)({}),[I,L]=(0,a.useState)(!1),[E,R]=(0,a.useState)([]),[_,U]=(0,a.useState)(1),[F,P]=(0,a.useState)({}),[q,B]=(0,a.useState)(()=>{try{const e=localStorage.getItem("conseqx_analyzed_docs_".concat(s));return e?JSON.parse(e):[]}catch(e){return[]}}),[T,H]=(0,a.useState)(null),[J,V]=(0,a.useState)(!1),W=(0,a.useRef)(null),X=n&&n.length?n[0]:null,Q=(0,a.useMemo)(()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"anon";try{const t=localStorage.getItem(o);return(t?JSON.parse(t):{})[e]||[]}catch(t){return[]}}(s),[s]),K=(0,a.useMemo)(()=>{const e={};return(Q||[]).forEach(t=>{if(t&&t.system){const s=String(t.system).toLowerCase().replace(/[^a-z0-9]/g,"");e[s]=t}}),e},[Q]),G=(0,a.useMemo)(()=>{const e={};return x.forEach((t,s)=>{const a=t.key.toLowerCase().replace(/[^a-z0-9]/g,"");if(void 0===D[t.key])if(K[a])e[t.key]=K[a].score||null;else{if(X&&X.analyzedSystems&&Array.isArray(X.analyzedSystems)){if(X.analyzedSystems.find(e=>String(e).toLowerCase().includes(t.key.toLowerCase())||t.key.toLowerCase().includes(String(e).toLowerCase())))return void(e[t.key]=Math.max(30,Math.min(95,7*s+45+X.timestamp%20)))}e[t.key]=null}else e[t.key]=D[t.key]}),e},[X,K,D]),Y=(0,a.useMemo)(()=>{const e=Object.values(G).filter(e=>null!==e&&"undefined"!==typeof e);return e.length?Math.round(e.reduce((e,t)=>e+t,0)/e.length):null},[G]),Z=()=>{const e=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?L(!0):"dragleave"===e.type&&L(!1)};return(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,i.jsx)("div",{className:"max-w-2xl w-full rounded-xl ".concat(t?"bg-gray-900 border border-gray-700":"bg-white border border-gray-200"),children:(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,i.jsxs)("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[(0,i.jsx)(l.HVe,{className:"text-blue-600"}),"Data Upload Wizard"]}),(0,i.jsx)("button",{onClick:()=>k(!1),className:"".concat(t?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-700"),children:"\u2715"})]}),M.show&&(0,i.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,i.jsx)("span",{className:"text-sm font-medium",children:M.status}),(0,i.jsxs)("span",{className:"text-sm",children:[Math.round(M.progress),"%"]})]}),(0,i.jsx)("div",{className:"w-full rounded-full h-2 ".concat(t?"bg-gray-700":"bg-gray-200"),children:(0,i.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(M.progress,"%")}})})]}),1===_&&(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors ".concat(I?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600"),onDragEnter:e,onDragLeave:e,onDragOver:e,onDrop:e=>{e.preventDefault(),e.stopPropagation(),L(!1);const t=Array.from(e.dataTransfer.files);R(t),t.length>0&&U(2)},children:[(0,i.jsx)(l.HVe,{className:"mx-auto text-4xl mb-4 ".concat(t?"text-gray-500":"text-gray-400")}),(0,i.jsx)("p",{className:"text-lg font-medium mb-2",children:"Upload Organizational Data"}),(0,i.jsx)("p",{className:"text-sm mb-4 ".concat(t?"text-gray-400":"text-gray-500"),children:"\ud83d\udcca Financial Reports \u2022 \ud83d\udccb Employee Surveys \u2022 \u2699\ufe0f Operational Data \u2022 \ud83d\udcc8 Performance Metrics"}),(0,i.jsx)("p",{className:"text-xs mb-4 ".concat(t?"text-gray-500":"text-gray-400"),children:"ConseQ-X analyzes your organizational data using the Six Systems Model"}),(0,i.jsx)("input",{ref:W,type:"file",multiple:!0,accept:".csv,.xlsx,.xls,.json,.txt",onChange:e=>{console.log("handleFileInput called",e.target.files);const t=Array.from(e.target.files||[]);console.log("Files selected via browse:",t.map(e=>e.name)),t.length>0?(R(t),U(2),console.log("Upload step set to 2, files:",t.length)):console.log("No files selected")},className:"hidden"}),(0,i.jsx)("button",{onClick:e=>{e.preventDefault(),console.log("Browse Files clicked, fileInputRef:",W.current),W.current&&W.current.click()},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Files"})]})}),2===_&&(0,i.jsxs)("div",{children:[(0,i.jsxs)("h4",{className:"font-semibold mb-4",children:["Selected Files (",E.length,")"]}),(0,i.jsx)("div",{className:"space-y-2 mb-6 max-h-32 overflow-y-auto",children:E.map((e,s)=>(0,i.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded",children:[(0,i.jsx)("span",{className:"text-sm",children:e.name}),(0,i.jsxs)("span",{className:"text-xs ".concat(t?"text-gray-400":"text-gray-500"),children:[(e.size/1024).toFixed(1)," KB"]})]},s))}),(0,i.jsxs)("div",{className:"mb-6 p-4 rounded-lg border ".concat(t?"bg-blue-900/10 border-blue-800":"bg-blue-50 border-blue-200"),children:[(0,i.jsx)("h5",{className:"font-medium mb-2 ".concat(t?"text-blue-300":"text-blue-800"),children:"\ud83e\udde0 ConseQ-X Six Systems Analysis"}),(0,i.jsxs)("div",{className:"text-sm grid grid-cols-1 gap-2 ".concat(t?"text-blue-200":"text-blue-700"),children:[(0,i.jsxs)("div",{children:["\ud83d\udcca ",(0,i.jsx)("strong",{children:"Financial Data"})," \u2192 Interdependency, Orchestration, Investigation"]}),(0,i.jsxs)("div",{children:["\ud83d\udccb ",(0,i.jsx)("strong",{children:"Survey Data"})," \u2192 Interpretation, Illustration, Inlignment"]}),(0,i.jsxs)("div",{children:["\u2699\ufe0f ",(0,i.jsx)("strong",{children:"Operational Data"})," \u2192 Orchestration, Investigation, Interdependency"]})]})]}),(0,i.jsx)("h4",{className:"font-semibold mb-4",children:"ConseQ-X Systems (Auto-detected)"}),(0,i.jsxs)("div",{className:"p-4 rounded-lg border ".concat(t?"bg-gray-800/50 border-gray-700":"bg-gray-50 border-gray-200"," mb-6"),children:[(0,i.jsx)("div",{className:"grid grid-cols-1 gap-3",children:x.map(e=>(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(E.length>0?"bg-green-500 animate-pulse":"bg-gray-400")}),(0,i.jsx)("span",{className:"text-sm font-medium",children:e.title})]}),(0,i.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(E.length>0?t?"bg-green-900 text-green-300":"bg-green-100 text-green-700":t?"bg-gray-700 text-gray-400":"bg-gray-200 text-gray-500"),children:E.length>0?"Will Analyze":"Pending Data"})]},e.key))}),(0,i.jsx)("p",{className:"text-xs mt-3 text-center ".concat(t?"text-gray-400":"text-gray-500"),children:"\u2728 ConseQ-X will automatically detect relevant systems based on your data"})]}),(0,i.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,i.jsx)("button",{onClick:()=>U(1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800",children:"Back"}),(0,i.jsxs)("button",{onClick:async()=>{C({show:!0,progress:0,status:"Initializing upload..."});const e={};let t=0;try{for(const s of E){C(e=>(0,r.A)((0,r.A)({},e),{},{progress:Math.round(t/E.length*80),status:"Analyzing ".concat(s.name,"...")}));const a=await y(s),n=g(s,a);n&&Object.keys(n).forEach(t=>{e[t]||(e[t]=[]),e[t].push(n[t])}),t++}C(e=>(0,r.A)((0,r.A)({},e),{},{progress:90,status:"Generating organizational health insights..."}));const l={};Object.keys(e).forEach(t=>{const s=e[t];s.length>0&&(l[t]=Math.round(s.reduce((e,t)=>e+t,0)/s.length))}),O(e=>(0,r.A)((0,r.A)({},e),l));const i=[...E.map((t,a)=>{let n=null,r=0;if(e[t.name]){const s=e[t.name];Array.isArray(s)?(n=s.slice(0,5),r=s.length):"object"===typeof s&&(n=s,r=Object.keys(s).length)}const i=Math.round(Object.values(l).reduce((e,t)=>e+t,0)/Math.max(Object.keys(l).length,1));return{id:Date.now()+a,fileName:t.name,fileSize:t.size,analyzedDate:(new Date).toISOString(),systemScores:l,overallScore:i,insights:b(l),recommendations:p(l),dataType:u([],t.name),analyzedSystems:Object.keys(l),recordCount:r,preview:n,status:"analyzed",orgId:s}}),...q].slice(0,50);B(i);try{localStorage.setItem("conseqx_analyzed_docs_".concat(s),JSON.stringify(i))}catch(a){console.error("Failed to save analyzed documents:",a)}C(e=>(0,r.A)((0,r.A)({},e),{},{progress:100,status:"Analysis complete! Organizational health metrics generated."})),setTimeout(()=>{var e,t;const s=[{id:Date.now(),name:(null===(e=E[0])||void 0===e?void 0:e.name)||"Manual Upload",timestamp:Date.now(),analyzedSystems:Object.keys(l),fileCount:E.length,status:"completed",dataType:u([],(null===(t=E[0])||void 0===t?void 0:t.name)||""),systemScores:l,insights:b(l)},...n];h(s),function(e){try{localStorage.setItem(c,JSON.stringify(e)),window.dispatchEvent(new CustomEvent("conseqx:uploads:updated"))}catch(t){}}(s),$("Data Analysis Complete","Successfully analyzed ".concat(E.length," file(s) and updated ").concat(Object.keys(l).length," organizational systems."),"success"),setTimeout(()=>{k(!1),C({show:!1,progress:0,status:""}),R([]),U(1),P({})},2e3)},1e3)}catch(l){console.error("Upload processing error:",l),C(e=>(0,r.A)((0,r.A)({},e),{},{progress:100,status:"Error processing files. Please try again."})),setTimeout(()=>{C({show:!1,progress:0,status:""})},3e3)}},disabled:0===E.length,className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,i.jsx)("span",{children:"\ud83e\udde0"}),"Generate Health Insights"]})]})]})]})})})},$=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";const a=[{id:Date.now(),title:e,message:t,type:s,timestamp:Date.now(),read:!1},...j].slice(0,50);v(a),f(a)},ee=e=>{const t=q.filter(t=>t.id!==e);B(t);try{localStorage.setItem("conseqx_analyzed_documents_v1",JSON.stringify(t))}catch(s){console.error("Failed to update localStorage:",s)}$("Document Deleted","Analyzed document has been removed from your records","info")},te=e=>{const t={fileName:e.fileName,analyzedDate:e.analyzedDate,dataType:e.dataType,overallScore:e.overallScore,systemScores:e.systemScores,insights:e.insights,recommendations:e.recommendations,preview:e.preview,recordCount:e.recordCount},s=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),a=URL.createObjectURL(s),n=document.createElement("a");n.href=a,n.download="analysis-".concat(e.fileName,"-").concat((new Date).toISOString().split("T")[0],".json"),n.click(),URL.revokeObjectURL(a),$("Document Exported","Analysis data for ".concat(e.fileName," has been exported"),"success")},se=()=>{var e,s;return J&&T?(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,i.jsxs)("div",{className:"max-w-4xl w-full max-h-[90vh] rounded-lg overflow-hidden ".concat(t?"bg-gray-900 border border-gray-700":"bg-white border border-gray-200"),children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-6 border-b ".concat(t?"border-gray-700":"border-gray-200"),children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h3",{className:"text-xl font-bold",children:T.fileName}),(0,i.jsxs)("p",{className:"text-sm mt-1 ".concat(t?"text-gray-400":"text-gray-500"),children:["Analyzed on ",new Date(T.analyzedDate).toLocaleString()]})]}),(0,i.jsx)("button",{onClick:()=>{V(!1),H(null)},className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 ".concat(t?"text-gray-400":"text-gray-500"),children:(0,i.jsx)(l.QCr,{size:20})})]}),(0,i.jsx)("div",{className:"overflow-y-scroll max-h-[calc(90vh-120px)] scrollbar-hide",children:(0,i.jsxs)("div",{className:"p-6 space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-lg font-semibold mb-3",children:"Document Information"}),(0,i.jsx)("div",{className:"p-4 rounded-lg ".concat(t?"bg-gray-800":"bg-gray-50"),children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"File Name:"}),(0,i.jsx)("span",{className:"ml-2",children:T.fileName})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"File Size:"}),(0,i.jsx)("span",{className:"ml-2",children:T.fileSize?"".concat((T.fileSize/1024).toFixed(1)," KB"):"N/A"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Upload Date:"}),(0,i.jsx)("span",{className:"ml-2",children:T.uploadDate?new Date(T.uploadDate).toLocaleString():new Date(T.analyzedDate).toLocaleString()})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Analysis Date:"}),(0,i.jsx)("span",{className:"ml-2",children:new Date(T.analyzedDate).toLocaleString()})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Data Type:"}),(0,i.jsx)("span",{className:"ml-2 capitalize",children:T.dataType})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Records Processed:"}),(0,i.jsx)("span",{className:"ml-2",children:T.recordCount||"N/A"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Organization ID:"}),(0,i.jsx)("span",{className:"ml-2",children:T.orgId||"N/A"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Status:"}),(0,i.jsx)("span",{className:"ml-2 px-2 py-1 rounded text-xs font-medium ".concat("analyzed"===T.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-100"),children:T.status||"Processed"})]})]})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-lg font-semibold mb-3",children:"Analysis Summary"}),(0,i.jsxs)("div",{className:"p-4 rounded-lg ".concat(t?"bg-gray-800":"bg-gray-50"),children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Systems Analyzed:"}),(0,i.jsx)("span",{className:"ml-2",children:(null===(e=T.analyzedSystems)||void 0===e?void 0:e.length)||0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Overall Health Score:"}),(0,i.jsxs)("span",{className:"ml-2 px-2 py-1 rounded text-xs font-medium ".concat(T.overallScore>=80?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100":T.overallScore>=60?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100"),children:[T.overallScore||0,"%"]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Health Category:"}),(0,i.jsx)("span",{className:"ml-2",children:T.overallScore>=80?"Excellent":T.overallScore>=60?"Good":T.overallScore>=40?"Fair":"Critical"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Insights Generated:"}),(0,i.jsx)("span",{className:"ml-2",children:(null===(s=T.insights)||void 0===s?void 0:s.length)||0})]})]}),T.analyzedSystems&&T.analyzedSystems.length>0&&(0,i.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-300 dark:border-gray-600",children:[(0,i.jsx)("span",{className:"font-medium text-sm",children:"Systems Analyzed:"}),(0,i.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:T.analyzedSystems.map((e,s)=>{var a;return(0,i.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(t?"bg-blue-900 text-blue-100":"bg-blue-100 text-blue-800"),children:(null===(a=x.find(t=>t.key===e))||void 0===a?void 0:a.title)||e},s)})})]})]})]}),T.systemScores&&Object.keys(T.systemScores).length>0&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-lg font-semibold mb-3",children:"ConseQ-X Six Systems Detailed Analysis"}),(0,i.jsx)("div",{className:"grid grid-cols-1 gap-4",children:Object.entries(T.systemScores).map(e=>{let[s,a]=e;const n=x.find(e=>e.key===s),r=(null===n||void 0===n?void 0:n.title)||s,l=a>=80?"Excellent":a>=60?"Good":a>=40?"Fair":"Critical";return(0,i.jsxs)("div",{className:"p-4 rounded-lg border ".concat(t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h5",{className:"font-semibold text-base capitalize",children:r}),(0,i.jsxs)("p",{className:"text-xs mt-1 ".concat(t?"text-gray-400":"text-gray-600"),children:["System Performance: ",l]})]}),(0,i.jsx)("div",{className:"text-right",children:(0,i.jsxs)("span",{className:"px-3 py-1 rounded-lg text-sm font-bold ".concat(a>=80?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100":a>=60?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100"),children:[a,"%"]})})]}),(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,i.jsx)("span",{className:t?"text-gray-400":"text-gray-600",children:"Health Score"}),(0,i.jsxs)("span",{className:t?"text-gray-400":"text-gray-600",children:[a,"/100"]})]}),(0,i.jsx)("div",{className:"h-3 rounded-full ".concat(t?"bg-gray-700":"bg-gray-200"),children:(0,i.jsx)("div",{className:"h-3 rounded-full transition-all duration-300 ".concat(a>=80?"bg-green-500":a>=60?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(a,"%")}})})]}),(0,i.jsxs)("div",{className:"text-xs p-3 rounded ".concat(t?"bg-gray-700":"bg-gray-50"),children:[(0,i.jsx)("span",{className:"font-medium",children:"System Focus: "}),(0,i.jsxs)("span",{children:["interdependency"===s&&"Relationships and connections between organizational components","orchestration"===s&&"Coordination and management of organizational processes","investigation"===s&&"Research and analysis capabilities within the organization","interpretation"===s&&"Understanding and meaning-making from organizational data","illustration"===s&&"Communication and visualization of organizational information","inlignment"===s&&"Strategic alignment and coherence across organizational levels"]})]})]},s)})}),(0,i.jsxs)("div",{className:"mt-4 p-4 rounded-lg ".concat(t?"bg-blue-900/20 border border-blue-700":"bg-blue-50 border border-blue-200"),children:[(0,i.jsx)("h6",{className:"font-medium mb-2 ".concat(t?"text-blue-100":"text-blue-900"),children:"Systems Performance Summary"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:t?"text-blue-200":"text-blue-700",children:"Systems Analyzed:"}),(0,i.jsx)("div",{className:"font-semibold",children:Object.keys(T.systemScores).length})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:t?"text-blue-200":"text-blue-700",children:"Average Score:"}),(0,i.jsxs)("div",{className:"font-semibold",children:[T.overallScore,"%"]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:t?"text-blue-200":"text-blue-700",children:"Highest Performing:"}),(0,i.jsx)("div",{className:"font-semibold capitalize",children:Object.entries(T.systemScores).reduce((e,t)=>e[1]>t[1]?e:t)[0]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:t?"text-blue-200":"text-blue-700",children:"Needs Attention:"}),(0,i.jsx)("div",{className:"font-semibold capitalize",children:Object.entries(T.systemScores).reduce((e,t)=>e[1]<t[1]?e:t)[0]})]})]})]})]}),T.preview&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-lg font-semibold mb-3",children:"Data Preview"}),(0,i.jsx)("div",{className:"rounded-lg border overflow-hidden ".concat(t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:"binary"===T.preview.type?(0,i.jsx)("div",{className:"p-4",children:(0,i.jsxs)("div",{className:"text-sm text-gray-800 dark:text-gray-200",children:[(0,i.jsx)("div",{className:"font-medium",children:T.preview.filename||T.fileName}),(0,i.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:T.preview.size?"".concat(T.preview.size," bytes"):"Binary file"}),T.objectUrl&&(0,i.jsx)("a",{className:"text-xs text-blue-600 dark:text-blue-400 underline mt-2 inline-block",href:T.objectUrl,download:T.fileName,children:"Download File"})]})}):Array.isArray(T.preview)?(0,i.jsxs)("div",{className:"overflow-x-auto",children:[(0,i.jsxs)("table",{className:"w-full text-sm",children:[(0,i.jsx)("thead",{className:"".concat(t?"bg-gray-700":"bg-gray-50"),children:(0,i.jsx)("tr",{children:Object.keys(T.preview[0]||{}).slice(0,6).map(e=>(0,i.jsx)("th",{className:"px-4 py-3 text-left font-medium ".concat(t?"text-gray-300":"text-gray-600"),children:e},e))})}),(0,i.jsx)("tbody",{children:T.preview.slice(0,5).map((e,s)=>(0,i.jsx)("tr",{className:"border-t ".concat(t?"border-gray-700":"border-gray-200"),children:Object.values(e).slice(0,6).map((e,s)=>(0,i.jsx)("td",{className:"px-4 py-3 ".concat(t?"text-gray-200":"text-gray-800"),children:String(e)},s))},s))})]}),T.preview.length>5&&(0,i.jsxs)("div",{className:"px-4 py-2 text-xs border-t ".concat(t?"text-gray-400 border-gray-700 bg-gray-800":"text-gray-500 border-gray-200 bg-gray-50"),children:["Showing 5 of ",T.preview.length," rows"]})]}):T.preview&&"text"===T.preview.type?(0,i.jsx)("div",{className:"p-4 max-h-60 overflow-auto",children:(0,i.jsx)("pre",{className:"text-xs whitespace-pre-wrap ".concat(t?"text-gray-200":"text-gray-800"),children:T.preview.previewText})}):(0,i.jsx)("div",{className:"p-4 max-h-60 overflow-auto",children:(0,i.jsx)("pre",{className:"text-xs whitespace-pre-wrap ".concat(t?"text-gray-200":"text-gray-800"),children:(()=>{try{const e="string"===typeof T.preview?T.preview:JSON.stringify(T.preview||{},null,2);return e.length>1e3?e.slice(0,1e3)+"\u2026":e}catch(e){return String(T.preview)}})()})})})]}),T.insights&&T.insights.length>0&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-lg font-semibold mb-3",children:"Key Insights"}),(0,i.jsx)("div",{className:"space-y-3",children:T.insights.map((e,s)=>(0,i.jsx)("div",{className:"p-4 rounded-lg border-l-4 ".concat(t?"bg-gray-800 border-blue-500":"bg-blue-50 border-blue-500"),children:(0,i.jsx)("p",{className:"text-sm",children:e})},s))})]}),T.recommendations&&T.recommendations.length>0&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-lg font-semibold mb-3",children:"Strategic Recommendations"}),(0,i.jsx)("div",{className:"space-y-3",children:T.recommendations.map((e,s)=>(0,i.jsxs)("div",{className:"flex items-start gap-3 p-4 rounded-lg ".concat(t?"bg-gray-800":"bg-gray-50"),children:[(0,i.jsx)(l.A7C,{className:"text-green-500 mt-1 flex-shrink-0"}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("p",{className:"text-sm font-medium",children:["Action Item #",s+1]}),(0,i.jsx)("p",{className:"text-sm mt-1",children:e})]})]},s))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-lg font-semibold mb-3",children:"Technical Details"}),(0,i.jsx)("div",{className:"p-4 rounded-lg ".concat(t?"bg-gray-800":"bg-gray-50"),children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Document ID:"}),(0,i.jsx)("span",{className:"ml-2 font-mono text-xs",children:T.id})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Processing Engine:"}),(0,i.jsx)("span",{className:"ml-2",children:"ConseQ-X Six Systems Model"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Analysis Algorithm:"}),(0,i.jsx)("span",{className:"ml-2",children:"Multi-system Organizational Health Assessment"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Data Quality Score:"}),(0,i.jsx)("span",{className:"ml-2",children:T.recordCount?"95%":"N/A"})]})]})})]})]})})]})}):null};return(0,i.jsxs)("section",{className:"relative",children:[S&&(0,i.jsx)(Z,{}),J&&(0,i.jsx)(se,{}),(0,i.jsxs)("div",{className:"rounded-2xl p-6 ".concat(t?"bg-gray-900 border border-gray-700 text-gray-100":"bg-white border border-gray-100 text-gray-900"),children:[(0,i.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold",children:"Manual Data Analysis"}),j.filter(e=>!e.read).length>0&&(0,i.jsxs)("button",{onClick:()=>A(!z),className:"relative p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:[(0,i.jsx)(l.jNV,{className:"text-blue-600"}),(0,i.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:j.filter(e=>!e.read).length})]})]}),(0,i.jsx)("p",{className:"text-sm mt-1 ".concat(t?"text-gray-400":"text-gray-500"),children:"Upload organizational datasets and receive comprehensive health insights"}),X&&(0,i.jsxs)("div",{className:"flex items-center gap-2 mt-2 text-sm",children:[(0,i.jsx)(l.w_X,{className:"text-green-500"}),(0,i.jsxs)("span",{className:"text-green-600 dark:text-green-400",children:["Last updated: ",new Date(X.timestamp).toLocaleString()]})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsxs)("button",{onClick:()=>k(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 transition-colors",children:[(0,i.jsx)(l.HVe,{}),"Upload Data"]}),(0,i.jsxs)("button",{onClick:function(){const e={timestamp:(new Date).toISOString(),overall:Y,systems:G,uploads:n.slice(0,5),orgId:s},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download="conseqx-snapshot-".concat((new Date).toISOString().split("T")[0],".json"),r.click(),URL.revokeObjectURL(a)},className:"px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800 flex items-center gap-2",children:[(0,i.jsx)(l.WCW,{}),"Export"]})]})]}),z&&(0,i.jsxs)("div",{className:"absolute top-20 right-6 w-80 max-h-96 overflow-y-auto rounded-lg shadow-lg z-40 ".concat(t?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"),children:[(0,i.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("h4",{className:"font-semibold",children:"Notifications"}),(0,i.jsx)("button",{onClick:()=>A(!1),className:"".concat(t?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-700"),children:"\u2715"})]})}),(0,i.jsx)("div",{className:"max-h-64 overflow-y-auto",children:0===j.length?(0,i.jsx)("div",{className:"p-4 text-center ".concat(t?"text-gray-400":"text-gray-500"),children:"No notifications"}):j.slice(0,10).map(e=>{var s;const a=e.title.includes("successfully analyzed")||e.title.includes("Document Analysis Complete"),n=e.title.includes("successfully analyzed")?e.title.split(" successfully analyzed")[0]:e.message.includes("Document:")?null===(s=e.message.split("Document: ")[1])||void 0===s?void 0:s.split(" has been")[0]:null;return(0,i.jsx)("div",{className:"p-3 border-b border-gray-100 dark:border-gray-700 ".concat(e.read?"":"bg-blue-50 dark:bg-blue-900/20"," ").concat(a?"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700":""),onClick:()=>{if(a&&n){const t=q.find(e=>e.fileName===n||e.fileName.includes(n));if(t&&(H(t),V(!0),A(!1),!e.read)){const t=j.map(t=>t.id===e.id?(0,r.A)((0,r.A)({},t),{},{read:!0}):t);v(t),f(t)}}},children:(0,i.jsxs)("div",{className:"flex justify-between items-start",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("div",{className:"font-medium text-sm",children:e.title}),a&&(0,i.jsx)(l.Ny1,{className:"text-xs ".concat(t?"text-blue-400":"text-blue-600")})]}),(0,i.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:e.message}),(0,i.jsx)("div",{className:"text-xs mt-1 ".concat(t?"text-gray-400":"text-gray-500"),children:new Date(e.timestamp).toLocaleString()})]}),(0,i.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("success"===e.type?"bg-green-500":"warning"===e.type?"bg-yellow-500":"error"===e.type?"bg-red-500":"bg-blue-500")})]})},e.id)})})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,i.jsxs)("div",{className:"col-span-1 md:col-span-2 rounded-xl p-6 border ".concat(t?"bg-gray-800 border-gray-700":"bg-white border-gray-50"),children:[(0,i.jsx)("div",{className:"text-sm ".concat(t?"text-gray-400":"text-gray-500"),children:"Overall Health Score"}),(0,i.jsx)("div",{className:"text-4xl font-bold mt-2",children:null!=Y?"".concat(Y,"%"):"No data"}),(0,i.jsx)("div",{className:"text-sm text-gray-400 mt-2",children:X?"Based on: ".concat(X.name," \u2022 ").concat(new Date(X.timestamp).toLocaleString()):"Upload datasets to generate health insights"})]}),(0,i.jsxs)("div",{className:"rounded-xl p-6 border ".concat(t?"bg-gray-800 border-gray-700":"bg-white border-gray-50"),children:[(0,i.jsx)("div",{className:"text-sm ".concat(t?"text-gray-400":"text-gray-500"),children:"Systems Analyzed"}),(0,i.jsxs)("div",{className:"text-3xl font-bold mt-2",children:[Object.values(G).filter(e=>null!==e).length," / ",x.length]}),(0,i.jsx)("div",{className:"text-sm text-gray-400 mt-2",children:"Active data sources"})]})]}),(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,i.jsxs)("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[(0,i.jsx)(l.YYR,{className:"text-blue-600"}),"System Health Overview"]})}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(e=>{const s=G[e.key],a=function(e){if(K[e.toLowerCase().replace(/[^a-z0-9]/g,"")])return"assessment";if(X&&X.analyzedSystems&&Array.isArray(X.analyzedSystems)&&X.analyzedSystems.find(t=>String(t).toLowerCase().includes(e.toLowerCase())||e.toLowerCase().includes(String(t).toLowerCase())))return"upload";return null}(e.key),n=null!==s;return(0,i.jsx)("div",{className:"p-4 rounded-lg border transition-all duration-200 ".concat(t?"bg-gray-800 border-gray-700 hover:border-gray-600":"bg-white border-gray-100 hover:border-gray-200"),children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("div",{className:"font-medium",children:e.title}),(0,i.jsx)("div",{className:"text-sm mt-1 ".concat(t?"text-gray-400":"text-gray-500"),children:n?"Source: ".concat(a):"No data available"})]}),(0,i.jsx)("div",{className:"text-right",children:(0,i.jsx)("div",{className:"text-2xl font-bold ".concat(n?s>=80?"text-green-600":s>=60?"text-yellow-600":"text-red-600":"text-gray-400"),children:n?"".concat(s,"%"):"\u2014"})})]})},e.key)})})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{className:"p-6 rounded-lg border ".concat(t?"bg-gray-800 border-gray-700":"bg-white border-gray-100"),children:[(0,i.jsx)("h4",{className:"font-semibold mb-3",children:"Key Recommendations"}),(0,i.jsx)("ul",{className:"space-y-2 text-sm",children:null!=Y?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("li",{className:"flex items-start gap-2",children:[(0,i.jsx)("span",{className:"text-blue-600 mt-1",children:"\u2022"}),"Focus improvement efforts on lowest-scoring systems"]}),(0,i.jsxs)("li",{className:"flex items-start gap-2",children:[(0,i.jsx)("span",{className:"text-blue-600 mt-1",children:"\u2022"}),"Schedule regular data uploads to track progress"]}),(0,i.jsxs)("li",{className:"flex items-start gap-2",children:[(0,i.jsx)("span",{className:"text-blue-600 mt-1",children:"\u2022"}),"Review detailed system analysis for actionable insights"]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("li",{className:"flex items-start gap-2",children:[(0,i.jsx)("span",{className:"text-blue-600 mt-1",children:"\u2022"}),"Upload organizational datasets to begin analysis"]}),(0,i.jsxs)("li",{className:"flex items-start gap-2",children:[(0,i.jsx)("span",{className:"text-blue-600 mt-1",children:"\u2022"}),"Include financial reports, surveys, and operational data"]})]})})]}),(0,i.jsxs)("div",{className:"p-6 rounded-lg border ".concat(t?"bg-gray-800 border-gray-700":"bg-white border-gray-100"),children:[(0,i.jsx)("h4",{className:"font-semibold mb-3",children:"Upload History"}),0===n.length?(0,i.jsx)("div",{className:"text-sm ".concat(t?"text-gray-400":"text-gray-500"),children:"No uploads yet"}):(0,i.jsx)("div",{className:"space-y-3",children:n.slice(0,3).map(e=>(0,i.jsxs)("div",{className:"border-l-2 border-blue-500 pl-3",children:[(0,i.jsx)("div",{className:"font-medium text-sm",children:e.name}),(0,i.jsx)("div",{className:"text-xs ".concat(t?"text-gray-400":"text-gray-500"),children:new Date(e.timestamp).toLocaleString()}),e.analyzedSystems&&(0,i.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["Systems: ",e.analyzedSystems.slice(0,2).join(", "),e.analyzedSystems.length>2&&" +".concat(e.analyzedSystems.length-2," more")]})]},e.id))})]}),(0,i.jsxs)("div",{className:"p-6 rounded-lg border ".concat(t?"bg-gray-800 border-gray-700":"bg-white border-gray-100"),children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsx)("h4",{className:"font-semibold",children:"Analyzed Documents"}),(0,i.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(t?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-600"),children:[q.length," document",1!==q.length?"s":""]})]}),0===q.length?(0,i.jsxs)("div",{className:"text-center py-8 ".concat(t?"text-gray-400":"text-gray-500"),children:[(0,i.jsx)(l.Mbn,{className:"mx-auto mb-2 text-2xl opacity-50"}),(0,i.jsx)("div",{className:"text-sm",children:"No analyzed documents yet"}),(0,i.jsx)("div",{className:"text-xs mt-1",children:"Upload and analyze documents to see them here"})]}):(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"hidden sm:block overflow-x-auto",children:[(0,i.jsxs)("table",{className:"w-full text-sm",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{className:"text-left text-xs ".concat(t?"text-gray-400":"text-gray-500"),children:[(0,i.jsx)("th",{className:"py-2 font-medium",children:"Document"}),(0,i.jsx)("th",{className:"py-2 font-medium",children:"Analysis Date"}),(0,i.jsx)("th",{className:"py-2 font-medium",children:"Health Score"}),(0,i.jsx)("th",{className:"py-2 font-medium",children:"Data Type"}),(0,i.jsx)("th",{className:"py-2 font-medium",children:"Systems"}),(0,i.jsx)("th",{className:"py-2 font-medium text-right",children:"Actions"})]})}),(0,i.jsx)("tbody",{children:q.slice(0,10).map(e=>(0,i.jsxs)("tr",{className:"border-t align-top ".concat(t?"border-gray-700":"border-gray-200"),children:[(0,i.jsxs)("td",{className:"py-3 align-top",children:[(0,i.jsx)("div",{className:"font-medium",children:e.fileName}),(0,i.jsx)("div",{className:"text-xs ".concat(t?"text-gray-400":"text-gray-500"),children:e.recordCount&&"".concat(e.recordCount," records")})]}),(0,i.jsx)("td",{className:"py-3 align-top text-xs",children:new Date(e.analyzedDate).toLocaleDateString()}),(0,i.jsx)("td",{className:"py-3 align-top",children:e.overallScore?(0,i.jsxs)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(e.overallScore>=80?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100":e.overallScore>=60?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100"),children:[e.overallScore,"%"]}):(0,i.jsx)("span",{className:"text-xs text-gray-400",children:"N/A"})}),(0,i.jsx)("td",{className:"py-3 align-top",children:(0,i.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat(t?"bg-blue-900 text-blue-100":"bg-blue-100 text-blue-800"),children:e.dataType})}),(0,i.jsx)("td",{className:"py-3 align-top text-xs",children:e.analyzedSystems?(0,i.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.analyzedSystems.slice(0,2).map((e,s)=>(0,i.jsx)("span",{className:"px-1.5 py-0.5 rounded text-xs ".concat(t?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"),children:e},s)),e.analyzedSystems.length>2&&(0,i.jsxs)("span",{className:"px-1.5 py-0.5 rounded text-xs ".concat(t?"bg-gray-600 text-gray-300":"bg-gray-200 text-gray-600"),children:["+",e.analyzedSystems.length-2]})]}):(0,i.jsx)("span",{className:"text-gray-400",children:"None"})}),(0,i.jsx)("td",{className:"py-3 align-top text-right",children:(0,i.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,i.jsxs)("button",{onClick:t=>{t.stopPropagation(),H(e),V(!0);const s=j.find(t=>t.title.includes(e.fileName)&&!t.read);if(s){const e=j.map(e=>e.id===s.id?(0,r.A)((0,r.A)({},e),{},{read:!0}):e);v(e),f(e)}},className:"px-2 py-1 rounded text-xs border transition-colors ".concat(t?"bg-gray-700 text-gray-100 border-gray-600 hover:bg-gray-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"View Analysis",children:[(0,i.jsx)(l.Ny1,{className:"inline mr-1"}),"View"]}),(0,i.jsxs)("button",{onClick:t=>{t.stopPropagation(),te(e)},className:"px-2 py-1 rounded text-xs border transition-colors ".concat(t?"bg-gray-700 text-gray-100 border-gray-600 hover:bg-gray-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Export Analysis",children:[(0,i.jsx)(l.Mbn,{className:"inline mr-1"}),"Export"]}),(0,i.jsxs)("button",{onClick:t=>{t.stopPropagation(),window.confirm('Are you sure you want to delete the analysis for "'.concat(e.fileName,'"?'))&&ee(e.id)},className:"px-2 py-1 rounded text-xs border text-red-600 bg-white dark:bg-gray-700 dark:text-red-400 border-gray-300 dark:border-gray-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Delete Analysis",children:[(0,i.jsx)(l.qbC,{className:"inline mr-1"}),"Delete"]})]})})]},e.id))})]}),q.length>10&&(0,i.jsxs)("div",{className:"text-center text-xs mt-3 py-2 ".concat(t?"text-gray-400":"text-gray-500"),children:["Showing 10 of ",q.length," documents"]})]}),(0,i.jsxs)("div",{className:"sm:hidden space-y-3",children:[q.slice(0,10).map(e=>(0,i.jsxs)("div",{className:"border rounded-lg p-3 ".concat(t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,i.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-3",children:[(0,i.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,i.jsx)("div",{className:"font-medium text-sm truncate",children:e.fileName}),(0,i.jsx)("div",{className:"text-xs mt-1 ".concat(t?"text-gray-400":"text-gray-500"),children:new Date(e.analyzedDate).toLocaleDateString()})]}),e.overallScore&&(0,i.jsxs)("span",{className:"px-2 py-1 rounded text-xs font-medium flex-shrink-0 ".concat(e.overallScore>=80?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100":e.overallScore>=60?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100"),children:[e.overallScore,"%"]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[(0,i.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat(t?"bg-blue-900 text-blue-100":"bg-blue-100 text-blue-800"),children:e.dataType}),e.analyzedSystems&&e.analyzedSystems.slice(0,2).map((e,s)=>(0,i.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded ".concat(t?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"),children:e},s)),e.analyzedSystems&&e.analyzedSystems.length>2&&(0,i.jsxs)("span",{className:"text-xs px-1.5 py-0.5 rounded ".concat(t?"bg-gray-600 text-gray-300":"bg-gray-200 text-gray-600"),children:["+",e.analyzedSystems.length-2]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,i.jsxs)("button",{onClick:()=>{H(e),V(!0);const t=j.find(t=>t.title.includes(e.fileName)&&!t.read);if(t){const e=j.map(e=>e.id===t.id?(0,r.A)((0,r.A)({},e),{},{read:!0}):e);v(e),f(e)}},className:"px-3 py-1 rounded text-xs border transition-colors ".concat(t?"bg-gray-700 text-gray-100 border-gray-600 hover:bg-gray-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:[(0,i.jsx)(l.Ny1,{className:"inline mr-1"}),"View"]}),(0,i.jsxs)("button",{onClick:()=>te(e),className:"px-3 py-1 rounded text-xs border transition-colors ".concat(t?"bg-gray-700 text-gray-100 border-gray-600 hover:bg-gray-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:[(0,i.jsx)(l.Mbn,{className:"inline mr-1"}),"Export"]}),(0,i.jsxs)("button",{onClick:()=>{window.confirm('Are you sure you want to delete the analysis for "'.concat(e.fileName,'"?'))&&ee(e.id)},className:"px-3 py-1 rounded text-xs border text-red-600 bg-white dark:bg-gray-700 dark:text-red-400 border-gray-300 dark:border-gray-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[(0,i.jsx)(l.qbC,{className:"inline mr-1"}),"Delete"]})]})]},e.id)),q.length>10&&(0,i.jsxs)("div",{className:"text-center text-xs py-2 ".concat(t?"text-gray-400":"text-gray-500"),children:["Showing 10 of ",q.length," documents"]})]})]})]})]}),(0,i.jsx)("div",{className:"mt-8 p-6 rounded-lg border ".concat(t?"bg-blue-900/20 border-blue-700":"bg-blue-50 border-blue-200"),children:(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[(0,i.jsx)(l.BS8,{className:"mt-1 flex-shrink-0 ".concat(t?"text-blue-400":"text-blue-600")}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-medium ".concat(t?"text-blue-100":"text-blue-900"),children:"Best Practices"}),(0,i.jsxs)("ul",{className:"text-sm mt-2 space-y-1 ".concat(t?"text-blue-200":"text-blue-800"),children:[(0,i.jsx)("li",{children:"\u2022 Upload data regularly to maintain accurate health insights"}),(0,i.jsx)("li",{children:"\u2022 Include diverse data sources: financial, operational, and survey data"}),(0,i.jsx)("li",{children:"\u2022 Review system-specific recommendations for targeted improvements"}),(0,i.jsx)("li",{children:"\u2022 Export snapshots for board presentations and stakeholder reports"})]})]})]})})]})]})}const v="conseqx_uploads_v1",N="conseqx_assessments_v1",w=[{key:"interdependency",title:"Interdependency"},{key:"orchestration",title:"Orchestration"},{key:"investigation",title:"Investigation"},{key:"interpretation",title:"Interpretation"},{key:"illustration",title:"Illustration"},{key:"inlignment",title:"Inlignment"}];function S(){return"undefined"!==typeof window&&(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<768)}function k(e){const t=Date.now();return e.map((e,s)=>({type:["market","competitor","industry","economic"][s%4],source:["Bloomberg","Reuters","Internal","Partner"][s%4],value:Math.max(20,Math.min(90,50+25*Math.sin(t/1e4+s))),importance:["high","medium","low"][s%3],timestamp:t-6e4*s,systemKey:e.key}))}function z(e){let{values:t=[],darkMode:s=!1,width:n=120,height:r=64,barCount:l=18,palette:c="crypto",tooltipRef:o}=e;const d=(0,a.useRef)(null),m=(0,a.useRef)(null),x=(0,a.useRef)("undefined"!==typeof window&&window.devicePixelRatio||1),g=(0,a.useRef)((t||[]).slice(-l).concat([])),h=(0,a.useRef)((t||[]).slice(-l).concat([])),u=(0,a.useRef)(0);if(g.current.length<l){const e=50+5*Math.sin(Date.now()/1e3);g.current=g.current.concat(new Array(l-g.current.length).fill(e)),h.current=h.current.concat(new Array(l-h.current.length).fill(e))}return(0,a.useEffect)(()=>{const e=(t||[]).slice(-l);for(;e.length<l;)e.unshift(50+5*Math.sin(Date.now()/1e3+e.length));h.current=[...e]},[t,l]),(0,a.useEffect)(()=>{const e=d.current;if(!e)return;const t=e.getContext("2d"),a=x.current;e.width=n*a,e.height=r*a,t.scale(a,a);const i=e=>{u.current=e,t.clearRect(0,0,n,r);const a=n/l,o=r-10;g.current=g.current.map((t,s)=>t+.1*((h.current[s]||50)+2*Math.sin(.003*e+.5*s)-t)),g.current.forEach((e,n)=>{const l=Math.max(2,e/100*o),i=n*a,d=r-l-5;let m,x;"crypto"===c?e>=70?(m="#10b981",x="#34d399"):e>=50?(m="#f59e0b",x="#fbbf24"):(m="#ef4444",x="#f87171"):(m=s?"#60a5fa":"#2563eb",x=s?"#93c5fd":"#3b82f6"),t.shadowColor=x,t.shadowBlur=3,t.fillStyle=m,t.fillRect(i+1,d,a-2,l),t.shadowBlur=0;const g=Math.max(1,.2*l);t.fillStyle=x,t.fillRect(i+1,d,a-2,g)}),m.current=requestAnimationFrame(i)};return m.current=requestAnimationFrame(i),()=>{m.current&&cancelAnimationFrame(m.current)}},[t,s,n,r,l,c]),(0,i.jsx)("canvas",{ref:d,width:n,height:r,style:{width:"".concat(n,"px"),height:"".concat(r,"px"),borderRadius:8},"aria-hidden":!0})}const A=a.forwardRef((e,t)=>{let{darkMode:s=!1}=e;const[n,l]=(0,a.useState)({visible:!1,index:0,value:0,timestamp:null,left:0,top:0});if(a.useImperativeHandle(t,()=>({show:function(){let{index:e=0,value:t=0,timestamp:s=null,pageX:a=0,pageY:n=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l({visible:!0,index:e,value:t,timestamp:s,left:Math.min(a+10,window.innerWidth-160),top:Math.max(n-60,10)})},hide:()=>l(e=>(0,r.A)((0,r.A)({},e),{},{visible:!1}))}),[]),!n.visible)return null;const c=s?"rgba(2,6,23,0.9)":"#fff",o=s?"rgba(255,255,255,0.06)":"rgba(2,6,23,0.06)",d=s?"#E6F0FF":"#071024";return(0,i.jsxs)("div",{role:"tooltip","aria-hidden":!n.visible,style:{position:"fixed",left:n.left,top:n.top,zIndex:9999,pointerEvents:"none",minWidth:140,maxWidth:300,padding:"8px 10px",borderRadius:8,boxShadow:"0 8px 24px rgba(2,6,23,0.4)",background:c,border:"1px solid ".concat(o),color:d,fontSize:13,lineHeight:1.2},children:[(0,i.jsxs)("div",{style:{fontWeight:700,marginBottom:6},children:[n.value,"%"]}),(0,i.jsx)("div",{style:{fontSize:12,opacity:.85},children:n.timestamp?new Date(n.timestamp).toLocaleTimeString():""})]})});function M(e){let{darkMode:t,orgId:s="anon"}=e;const[n]=(0,a.useState)(()=>function(){try{const e=localStorage.getItem(v);return e?JSON.parse(e):[]}catch(e){return[]}}()),[c]=(0,a.useState)(()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"anon";try{const t=localStorage.getItem(N);return(t?JSON.parse(t):{})[e]||[]}catch(t){return[]}}(s)),[o,d]=(0,a.useState)([]),[m,x]=(0,a.useState)(!0),[g,h]=(0,a.useState)(()=>S()),[u,y]=(0,a.useState)(!0),[b,p]=(0,a.useState)(!1),[f,j]=(0,a.useState)("excellent"),[M,C]=(0,a.useState)(Date.now()),[D,O]=(0,a.useState)(()=>k(w)),I=(0,a.useRef)(null),L=(0,a.useMemo)(()=>{const e=new Set;return c.forEach(t=>{if(t&&t.system){const s=String(t.system).toLowerCase().replace(/[^a-z0-9]/g,""),a=w.find(e=>e.key.toLowerCase().replace(/[^a-z0-9]/g,"")===s);a&&e.add(a.key)}}),n.forEach(t=>{t&&t.analyzedSystems&&Array.isArray(t.analyzedSystems)&&t.analyzedSystems.forEach(t=>{const s=w.find(e=>String(t).toLowerCase().includes(e.key.toLowerCase())||e.key.toLowerCase().includes(String(t).toLowerCase()));s&&e.add(s.key)})}),Array.from(e)},[c,n]),[E,R]=(0,a.useState)(()=>{const e={};return w.forEach(t=>{e[t.key]=L.includes(t.key)?Math.max(30,Math.min(95,45+40*Math.random())):null}),e}),_=(0,a.useMemo)(()=>{const e=L.map(e=>E[e]).filter(e=>null!==e);return e.length?Math.round(e.reduce((e,t)=>e+t,0)/e.length):null},[E,L]);(0,a.useEffect)(()=>{const e=()=>h(S());return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);(0,a.useCallback)(function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const n={id:Date.now(),title:e,message:t,type:s,timestamp:Date.now(),acknowledged:!1,priority:a.priority||"normal",category:a.category||"system"};if(d(e=>[n,...e.slice(0,19)]),b&&"speechSynthesis"in window){const s=new SpeechSynthesisUtterance("".concat(e,": ").concat(t));s.rate=.8,s.volume=.6,window.speechSynthesis.speak(s)}!g&&"Notification"in window&&"granted"===Notification.permission&&new Notification(e,{body:t,icon:"/logo192.png",tag:"conseqx-".concat(n.id)})},[b,g]);(0,a.useEffect)(()=>{if(!m)return;const e=setInterval(()=>{O(e=>k(w)),C(Date.now())},3e4);return()=>clearInterval(e)},[m]),(0,a.useEffect)(()=>{if(!m)return;let e;const t=Date.now(),s=()=>{const a=(Date.now()-t)/1e3;R(e=>{const t=(0,r.A)({},e);return L.forEach((e,s)=>{if(null!==t[e]){const n=t[e],r=3,l=.5+.1*s,i=s*Math.PI/3,c=Math.sin(a*l+i)*r+1.5*(Math.random()-.5);t[e]=Math.max(20,Math.min(95,n+c))}}),t}),e=requestAnimationFrame(s)},a=setInterval(()=>{R(e=>{const t=(0,r.A)({},e);return L.forEach(e=>{if(null!==t[e]){const s=8*(Math.random()-.5);t[e]=Math.max(20,Math.min(95,t[e]+s))}}),t})},15e3);return s(),()=>{clearInterval(a),e&&cancelAnimationFrame(e)}},[m,L]),(0,a.useEffect)(()=>{const e=()=>{if(!navigator.onLine)return void j("poor");const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(e){const{effectiveType:t,downlink:s}=e;j("4g"===t&&s>5?"excellent":"3g"===t||s>1?"good":"poor")}else j("good")};return e(),window.addEventListener("online",e),window.addEventListener("offline",e),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)}},[]);const U=()=>(0,i.jsx)("div",{className:"".concat(g?"block":"hidden"," sticky top-0 z-30 p-3 ").concat(t?"bg-gray-900 border-b border-gray-700":"bg-white border-b border-gray-200"),children:(0,i.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[m?(0,i.jsx)(l.cBd,{className:"text-green-500"}):(0,i.jsx)(l.cBd,{className:"text-red-500 opacity-50"}),(0,i.jsx)("span",{className:"text-xs font-medium",children:m?"Live":"Offline"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2 ".concat("excellent"===f?"text-green-500":"good"===f?"text-yellow-500":"text-red-500"),children:[(0,i.jsx)(l.z5x,{size:12}),(0,i.jsx)("span",{className:"text-xs capitalize",children:f})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("button",{onClick:()=>p(!b),className:"p-2 rounded ".concat(b?"text-blue-500":"text-gray-400"),children:(0,i.jsx)(l.pPd,{size:14})}),o.filter(e=>!e.acknowledged).length>0&&(0,i.jsxs)("div",{className:"flex items-center gap-1 text-red-500",children:[(0,i.jsx)(l.jNV,{size:14}),(0,i.jsx)("span",{className:"text-xs font-medium",children:o.filter(e=>!e.acknowledged).length})]})]})]})});return(0,i.jsxs)("section",{className:"relative",children:[(0,i.jsx)(A,{ref:I,darkMode:t}),(0,i.jsx)(U,{}),(0,i.jsxs)("div",{className:"rounded-2xl p-6 ".concat(t?"bg-gray-900 border border-gray-700 text-gray-100":"bg-white border border-gray-100 text-gray-900"),children:[(0,i.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold",children:"Real-Time Data Monitoring"}),(0,i.jsx)("div",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(m?"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400":"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"),children:m?"Live Updates":"Paused"})]}),(0,i.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Continuous monitoring and real-time analysis of organizational health"}),(0,i.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(l.w_X,{className:"text-blue-500"}),(0,i.jsxs)("span",{children:["Last sync: ",new Date(M).toLocaleTimeString()]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(l.nBS,{className:"text-green-500"}),(0,i.jsxs)("span",{children:[L.length," systems active"]})]})]})]}),(0,i.jsx)("div",{className:"flex items-center gap-3",children:(0,i.jsxs)("button",{onClick:()=>x(!m),className:"px-6 py-3 rounded-lg flex items-center gap-2 transition-colors ".concat(m?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white"),children:[(0,i.jsx)(l.cBd,{}),m?"Pause Live":"Start Live"]})})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,i.jsxs)("div",{className:"col-span-1 md:col-span-2 rounded-xl p-6 border ".concat(t?"bg-gray-800 border-gray-700":"bg-white border-gray-50"),children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Overall Health Score"}),(0,i.jsx)("div",{className:"text-4xl font-bold mt-2",children:null!=_?"".concat(_,"%"):"No data"}),(0,i.jsxs)("div",{className:"text-sm text-gray-400 mt-2",children:["Real-time composite across ",L.length," active systems"]})]}),(0,i.jsxs)("div",{className:"rounded-xl p-6 border ".concat(t?"bg-gray-800 border-gray-700":"bg-white border-gray-50"),children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Active Alerts"}),(0,i.jsx)("div",{className:"text-3xl font-bold mt-2 text-red-500",children:o.filter(e=>!e.acknowledged).length}),(0,i.jsx)("div",{className:"text-sm text-gray-400 mt-2",children:"Unacknowledged"})]}),(0,i.jsxs)("div",{className:"rounded-xl p-6 border ".concat(t?"bg-gray-800 border-gray-700":"bg-white border-gray-50"),children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Connection"}),(0,i.jsx)("div",{className:"text-2xl font-bold mt-2 ".concat("excellent"===f?"text-green-500":"good"===f?"text-yellow-500":"text-red-500"),children:f.charAt(0).toUpperCase()+f.slice(1)}),(0,i.jsx)("div",{className:"text-sm text-gray-400 mt-2",children:"Network quality"})]})]}),(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsxs)("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[(0,i.jsx)(l.YYR,{className:"text-blue-600"}),"Live System Monitoring"]}),(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Updates every 5 seconds"})]}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(e=>{const s=E[e.key],a=L.includes(e.key),n=D.find(t=>t.systemKey===e.key),r=Array.from({length:18},()=>s||50);return(0,i.jsxs)("div",{className:"p-4 rounded-lg border transition-all duration-200 ".concat(t?"bg-gray-800 border-gray-700":"bg-white border-gray-100"," ").concat(a?"":"opacity-50"),children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("div",{className:"font-medium",children:e.title}),(0,i.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:a?"Active monitoring":"No data source"})]}),(0,i.jsxs)("div",{className:"text-right",children:[(0,i.jsx)("div",{className:"text-2xl font-bold transition-all duration-300 ".concat(a?s>=80?"text-green-600":s>=60?"text-yellow-600":"text-red-600":"text-gray-400"," ").concat(m&&a?"animate-pulse":""),children:a?"".concat(Math.round(s),"%"):"\u2014"}),a&&(0,i.jsxs)("div",{className:"text-xs flex items-center gap-1 ".concat(m?"text-green-500":"text-gray-400"),children:[m&&(0,i.jsxs)("span",{className:"relative flex h-2 w-2",children:[(0,i.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),(0,i.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),m?"Live":"Paused"]})]})]}),a&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"mb-3 w-full overflow-hidden transition-all duration-500 ".concat(m?"shadow-sm shadow-blue-500/10":""),children:(0,i.jsx)("div",{className:"w-full max-w-full",children:(0,i.jsx)(z,{values:r,darkMode:t,width:g?240:280,height:48,barCount:18,palette:"crypto",tooltipRef:I})})}),n&&(0,i.jsxs)("div",{className:"text-xs ".concat(t?"text-gray-400":"text-gray-600"),children:["External signal: ",n.source," (",Math.round(n.value),"%)"]})]})]},e.key)})})]}),o.length>0&&(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,i.jsx)(l.jNV,{className:"text-red-600"}),"Recent Alerts"]}),(0,i.jsx)("div",{className:"space-y-3",children:o.slice(0,5).map(e=>(0,i.jsxs)("div",{className:"p-4 rounded-lg border flex items-start justify-between ".concat(t?"bg-gray-800 border-gray-700":"bg-white border-gray-100"," ").concat(e.acknowledged?"":"border-l-4 border-l-red-500"),children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("div",{className:"font-medium",children:e.title}),(0,i.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:e.message}),(0,i.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:new Date(e.timestamp).toLocaleString()})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("success"===e.type?"bg-green-500":"warning"===e.type?"bg-yellow-500":"error"===e.type?"bg-red-500":"bg-blue-500")}),!e.acknowledged&&(0,i.jsx)("button",{onClick:()=>{return t=e.id,void d(e=>e.map(e=>e.id===t?(0,r.A)((0,r.A)({},e),{},{acknowledged:!0}):e));var t},className:"px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Acknowledge"})]})]},e.id))})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{className:"p-6 rounded-lg border ".concat(t?"bg-gray-800 border-gray-700":"bg-white border-gray-100"),children:[(0,i.jsx)("h4",{className:"font-semibold mb-4",children:"Live Controls"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-medium",children:"Auto Updates"}),(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Real-time data refresh"})]}),(0,i.jsx)("button",{onClick:()=>x(!m),className:"w-12 h-6 rounded-full relative transition-colors ".concat(m?"bg-green-500":"bg-gray-300"),children:(0,i.jsx)("div",{className:"w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform ".concat(m?"translate-x-6":"translate-x-0.5")})})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-medium",children:"Voice Alerts"}),(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Audio notifications"})]}),(0,i.jsx)("button",{onClick:()=>p(!b),className:"w-12 h-6 rounded-full relative transition-colors ".concat(b?"bg-blue-500":"bg-gray-300"),children:(0,i.jsx)("div",{className:"w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform ".concat(b?"translate-x-6":"translate-x-0.5")})})]})]})]}),(0,i.jsxs)("div",{className:"p-6 rounded-lg border ".concat(t?"bg-gray-800 border-gray-700":"bg-white border-gray-100"),children:[(0,i.jsx)("h4",{className:"font-semibold mb-4",children:"System Status"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-sm",children:"Active Systems"}),(0,i.jsxs)("span",{className:"font-medium",children:[L.length," / ",w.length]})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-sm",children:"Data Sources"}),(0,i.jsxs)("span",{className:"font-medium",children:[n.length," uploads"]})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-sm",children:"Update Frequency"}),(0,i.jsx)("span",{className:"font-medium",children:"5 seconds"})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-sm",children:"Connection"}),(0,i.jsx)("span",{className:"font-medium capitalize ".concat("excellent"===f?"text-green-500":"good"===f?"text-yellow-500":"text-red-500"),children:f})]})]})]})]})]})]})}function C(){var e;const t=(0,n.KC)(),s=null!==(e=null===t||void 0===t?void 0:t.darkMode)&&void 0!==e&&e,r=(null===t||void 0===t?void 0:t.orgId)||"anon",c=(null===t||void 0===t?void 0:t.dashboardMode)||"manual",[o,d]=(0,a.useState)(()=>{try{return localStorage.getItem("conseqx_data_management_mode_v1")||c}catch(e){return c}});return(0,i.jsxs)("div",{className:"rounded-xl p-6 ".concat(s?"bg-gray-900 border border-gray-700":"bg-white border border-gray-100"),children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-xl font-semibold",children:"Data Management"}),(0,i.jsx)("p",{className:"text-sm mt-1 ".concat(s?"text-gray-400":"text-gray-500"),children:"Manage data sources and configure monitoring preferences"}),(0,i.jsx)("p",{className:"text-xs text-blue-500 mt-1",children:"\u2705 Data Management tab is now active and working"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2 rounded-lg border ".concat(s?"bg-gray-800 border-gray-600":"bg-gray-50 border-gray-200"),children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(l.nBS,{className:"".concat("manual"===o?"text-blue-600":"text-gray-400")}),(0,i.jsx)("span",{className:"text-sm font-medium ".concat("manual"===o?s?"text-white":"text-gray-900":"text-gray-500"),children:"Manual Upload"})]}),(0,i.jsx)("button",{onClick:()=>{const e="manual"===o?"auto":"manual";d(e);try{localStorage.setItem("conseqx_data_management_mode_v1",e),localStorage.setItem("conseqx_dashboard_mode_v1",e),window.dispatchEvent(new StorageEvent("storage",{key:"conseqx_dashboard_mode_v1",newValue:e}))}catch(t){}},className:"flex items-center",title:"Switch to ".concat("manual"===o?"Auto Sync":"Manual Upload"," mode"),children:"manual"===o?(0,i.jsx)(l.jZj,{className:"text-2xl text-gray-400 hover:text-blue-600 transition-colors"}):(0,i.jsx)(l.RIx,{className:"text-2xl text-blue-600 hover:text-blue-700 transition-colors"})}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(l.cBd,{className:"".concat("auto"===o?"text-green-600":"text-gray-400")}),(0,i.jsx)("span",{className:"text-sm font-medium ".concat("auto"===o?s?"text-white":"text-gray-900":"text-gray-500"),children:"Auto Sync"})]})]})]}),(0,i.jsx)("div",{className:"mb-6 p-4 rounded-lg border ".concat("manual"===o?s?"bg-blue-900/20 border-blue-700":"bg-blue-100/50 border-blue-300":s?"bg-green-900/20 border-green-700":"bg-green-100/50 border-green-300"),children:(0,i.jsx)("div",{className:"flex items-center gap-3",children:"manual"===o?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.nBS,{className:"flex-shrink-0 ".concat(s?"text-blue-400":"text-blue-700")}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-semibold ".concat(s?"text-blue-100":"text-blue-900"),children:"Manual Upload Mode"}),(0,i.jsx)("div",{className:"text-sm ".concat(s?"text-blue-200":"text-blue-800"),children:"Upload organizational datasets through guided workflows. Perfect for periodic analysis and comprehensive reporting."})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.cBd,{className:"flex-shrink-0 ".concat(s?"text-green-400":"text-green-700")}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-semibold ".concat(s?"text-green-100":"text-green-900"),children:"Auto Sync Mode"}),(0,i.jsx)("div",{className:"text-sm ".concat(s?"text-green-200":"text-green-800"),children:"Configure automatic data synchronization and real-time monitoring. Ideal for continuous operational oversight."})]})]})})}),(0,i.jsx)("div",{children:"manual"===o?(0,i.jsx)(j,{darkMode:s,orgId:r}):(0,i.jsx)(M,{darkMode:s,orgId:r})})]})}}}]);
//# sourceMappingURL=821.8f431045.chunk.js.map