"use strict";(self.webpackChunkceo_assessment_app=self.webpackChunkceo_assessment_app||[]).push([[336],{80336:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var r=s(65043),a=s(23721),n=s(13204),l=s(70579);var c=s(89379);function o(e){let{onClose:t,darkMode:s}=e;const[a,o]=(0,r.useState)(null),[i,d]=(0,r.useState)(!1),[m,x]=(0,r.useState)(null),[g,u]=(0,r.useState)(!1),[h,b]=(0,r.useState)(null),p=async()=>{d(!0),x(null);try{const e=(()=>{try{const e=localStorage.getItem("conseqx_uploads_v1"),t=e?JSON.parse(e):[];return{systems:{interdependency:{score:72,trend:"improving"},iteration:{score:68,trend:"stable"},investigation:{score:45,trend:"declining"},integration:{score:78,trend:"improving"},implementation:{score:63,trend:"stable"},interpretation:{score:52,trend:"declining"}},overallHealth:63,criticalIssues:0===t.length?["No recent data uploads"]:[],dataPoints:t.length,lastUpdated:(new Date).toISOString()}}catch(e){return null}})();if(!e)throw new Error("No organizational data available for analysis");await new Promise(e=>setTimeout(e,2e3));const t=Object.entries(e.systems).filter(e=>{let[t,s]=e;return s.score<60}).map(e=>{let[t,s]=e;return(0,c.A)({system:t},s)}),s=Object.entries(e.systems).filter(e=>{let[t,s]=e;return s.score>=75}).map(e=>{let[t,s]=e;return(0,c.A)({system:t},s)}),r={executiveSummary:e.overallHealth>=70?"Your organization shows strong health with an overall score of ".concat(e.overallHealth,"%. Key strengths in ").concat(s.map(e=>e.system).join(" and "),"."):"Organizational health at ".concat(e.overallHealth,"% indicates areas for improvement. Priority focus needed on ").concat(t.map(e=>e.system).join(", "),"."),criticalInsights:[...t.map(e=>"".concat(e.system,": Score of ").concat(e.score,"% suggests immediate attention needed")),...e.criticalIssues],recommendations:t.length>0?["Implement weekly check-ins for underperforming systems","Establish clear ownership and accountability metrics","Consider cross-functional collaboration initiatives"]:["Maintain current performance levels","Explore growth and innovation opportunities","Consider expanding successful practices to other areas"],nextSteps:["Schedule follow-up assessment in 30 days","Implement recommended action items","Monitor key performance indicators weekly"]};o(r)}catch(e){x(e.message)}finally{d(!1)}};(0,r.useEffect)(()=>{p()},[]);const y=()=>{try{if(!a)return;const e="ULTRA-POWERED ORGANIZATIONAL ANALYSIS REPORT\nGenerated: ".concat((new Date).toLocaleString(),"\n\nEXECUTIVE SUMMARY\n").concat(a.executiveSummary,"\n\nCRITICAL INSIGHTS\n").concat(a.criticalInsights.map(e=>"\u2022 ".concat(e)).join("\n"),"\n\nSTRATEGIC RECOMMENDATIONS\n").concat(a.recommendations.map(e=>"\u2022 ".concat(e)).join("\n"),"\n\nNEXT STEPS\n").concat(a.nextSteps.map(e=>"\u2022 ".concat(e)).join("\n"),"\n\n---\nGenerated by ConseQ-X ULTRA Analysis Engine\n"),t=new Blob([e],{type:"text/plain"}),s=URL.createObjectURL(t),r=document.createElement("a");r.href=s,r.download="ConseQ-X-ULTRA-Analysis-".concat((new Date).toISOString().split("T")[0],".txt"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s)}catch(m){console.error("Export failed:",m),alert("Export failed. Please try again.")}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("style",{children:"\n        .ultra-scrollable::-webkit-scrollbar {\n          display: none;\n        }\n        .ultra-scrollable {\n          -ms-overflow-style: none;\n          scrollbar-width: none;\n        }\n      "}),(0,l.jsxs)("div",{className:"ultra-scrollable max-h-[80vh] overflow-y-auto p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"p-2 rounded-lg ".concat(s?"bg-indigo-900/20":"bg-indigo-100"),children:(0,l.jsx)(n.KuA,{className:"text-indigo-600",size:20})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-lg font-semibold",children:"ULTRA-Powered Organizational Analysis"}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"McKinsey-level insights and strategic recommendations"})]})]}),(0,l.jsx)("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 ".concat(s?"text-gray-400":"text-gray-600"),children:"\u2715"})]}),i&&(0,l.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)(n.hW,{className:"animate-spin text-indigo-600 mx-auto mb-3",size:24}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"ULTRA-analyzing organizational health data..."}),(0,l.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Processing 6 systems and cross-dependencies with ULTRA precision"})]})}),m&&(0,l.jsxs)("div",{className:"p-4 rounded-lg border ".concat(s?"bg-red-900/20 border-red-700":"bg-red-50 border-red-200"),children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(n.BS8,{className:"text-red-600"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium text-red-900 dark:text-red-100",children:"ULTRA-Analysis Failed"}),(0,l.jsx)("div",{className:"text-sm text-red-800 dark:text-red-200",children:m})]})]}),(0,l.jsx)("button",{onClick:p,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700",children:"Retry ULTRA-Analysis"})]}),a&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"p-4 rounded-lg border ".concat(s?"bg-blue-900/20 border-blue-700":"bg-blue-50 border-blue-200"),children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,l.jsx)(n.A7C,{className:"text-blue-600"}),(0,l.jsx)("h3",{className:"font-medium",children:"Executive Summary"})]}),(0,l.jsx)("p",{className:"text-sm leading-relaxed",children:a.executiveSummary})]}),a.criticalInsights.length>0&&(0,l.jsxs)("div",{className:"p-4 rounded-lg border ".concat(s?"bg-yellow-900/20 border-yellow-700":"bg-yellow-50 border-yellow-200"),children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,l.jsx)(n.BS8,{className:"text-yellow-600"}),(0,l.jsx)("h3",{className:"font-medium",children:"Critical Insights"})]}),(0,l.jsx)("ul",{className:"space-y-2",children:a.criticalInsights.map((e,t)=>(0,l.jsxs)("li",{className:"text-sm flex items-start gap-2",children:[(0,l.jsx)("span",{className:"text-yellow-600 mt-1",children:"\u2022"}),(0,l.jsx)("span",{children:e})]},t))})]}),(0,l.jsxs)("div",{className:"p-4 rounded-lg border ".concat(s?"bg-green-900/20 border-green-700":"bg-green-50 border-green-200"),children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,l.jsx)(n.ZPX,{className:"text-green-600"}),(0,l.jsx)("h3",{className:"font-medium",children:"Strategic Recommendations"})]}),(0,l.jsx)("ul",{className:"space-y-2",children:a.recommendations.map((e,t)=>(0,l.jsxs)("li",{className:"text-sm flex items-start gap-2",children:[(0,l.jsx)("span",{className:"text-green-600 mt-1",children:"\u2022"}),(0,l.jsx)("span",{children:e})]},t))})]}),(0,l.jsxs)("div",{className:"p-4 rounded-lg border ".concat(s?"bg-purple-900/20 border-purple-700":"bg-purple-50 border-purple-200"),children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,l.jsx)(n.hYw,{className:"text-purple-600"}),(0,l.jsx)("h3",{className:"font-medium",children:"Next Steps"})]}),(0,l.jsx)("ul",{className:"space-y-2",children:a.nextSteps.map((e,t)=>(0,l.jsxs)("li",{className:"text-sm flex items-start gap-2",children:[(0,l.jsx)("span",{className:"text-purple-600 mt-1",children:"\u2022"}),(0,l.jsx)("span",{children:e})]},t))})]}),(0,l.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,l.jsxs)("button",{onClick:p,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm hover:bg-indigo-700 flex items-center gap-2",children:[(0,l.jsx)(n.KuA,{size:14}),"Regenerate ULTRA-Analysis"]}),(0,l.jsx)("button",{onClick:y,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm hover:bg-gray-50 dark:hover:bg-gray-800",children:"Export Report"}),(0,l.jsx)("button",{onClick:()=>{try{const e=new Date;e.setDate(e.getDate()+30);const t={id:"followup_".concat(Date.now()),title:"ULTRA Analysis Follow-up",date:e.toISOString(),type:"ultra-analysis",orgId:"current-org",createdAt:(new Date).toISOString()},s=JSON.parse(localStorage.getItem("conseqx_followups_v1")||"[]");s.push(t),localStorage.setItem("conseqx_followups_v1",JSON.stringify(s)),b(e),u(!0)}catch(m){console.error("Scheduling failed:",m),x("Failed to schedule follow-up. Please try again.")}},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm hover:bg-gray-50 dark:hover:bg-gray-800",children:"Schedule Follow-up"})]})]})]}),g&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"max-w-md w-full rounded-2xl shadow-2xl ".concat(s?"bg-gray-800 border border-gray-600":"bg-white border border-gray-100"," transform transition-all duration-300 scale-100"),children:[(0,l.jsxs)("div",{className:"p-6 text-center border-b ".concat(s?"border-gray-700":"border-gray-100"),children:[(0,l.jsx)("div",{className:"mx-auto w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/20 flex items-center justify-center mb-4",children:(0,l.jsx)(n.gUT,{className:"text-green-600 text-2xl"})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-green-600 mb-2",children:"Follow-up Scheduled Successfully!"}),(0,l.jsx)("p",{className:"text-sm ".concat(s?"text-gray-300":"text-gray-600"),children:"Your next ULTRA Analysis has been scheduled"})]}),(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"p-4 rounded-lg ".concat(s?"bg-green-900/10 border border-green-700":"bg-green-50 border border-green-200"," mb-6"),children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,l.jsx)(n.A7C,{className:"text-green-600 flex-shrink-0"}),(0,l.jsxs)("div",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:["Reminder Set for ",null===h||void 0===h?void 0:h.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),(0,l.jsxs)("div",{className:"text-xs ".concat(s?"text-green-300":"text-green-700"),children:["\u2022 Automated reminder will be sent 3 days before",(0,l.jsx)("br",{}),"\u2022 Full organizational health reassessment scheduled",(0,l.jsx)("br",{}),"\u2022 ULTRA Analysis report will be generated automatically"]})]}),(0,l.jsxs)("div",{className:"p-4 rounded-lg ".concat(s?"bg-blue-900/10 border border-blue-700":"bg-blue-50 border border-blue-200"," mb-6"),children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,l.jsx)(n.ZPX,{className:"text-blue-600 flex-shrink-0"}),(0,l.jsx)("div",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"What happens next?"})]}),(0,l.jsx)("div",{className:"text-xs ".concat(s?"text-blue-300":"text-blue-700"),children:"Continue implementing the current recommendations. We'll track progress and provide updated insights during your next analysis."})]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsxs)("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[(0,l.jsx)(n.A7C,{size:14}),"Perfect, Got It!"]}),(0,l.jsx)("button",{onClick:()=>{u(!1),y()},className:"px-4 py-3 rounded-lg font-medium border transition-colors ".concat(s?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:"Export Current Report"})]})]}),(0,l.jsx)("button",{onClick:()=>u(!1),className:"absolute top-4 right-4 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ".concat(s?"text-gray-400":"text-gray-500"),children:(0,l.jsx)(n.QCr,{size:16})})]})})]})}function i(){var e,t,s;const c=(0,a.KC)(),i=null!==(e=null===c||void 0===c?void 0:c.darkMode)&&void 0!==e&&e,d=(null===c||void 0===c||null===(t=c.org)||void 0===t?void 0:t.id)||(null===c||void 0===c||null===(s=c.org)||void 0===s?void 0:s.orgId)||"anon",m="conseqx_partner_dashboard_widgets_v1",x="conseqx_dashboard_mode_v1",[g,u]=r.useState(()=>{try{return localStorage.getItem(x)||"manual"}catch(e){return"manual"}});r.useMemo(()=>{try{const e=localStorage.getItem(m),t=e?JSON.parse(e):null;return t&&!t.includes("data-management")?null:t}catch(e){return null}},[]);r.useEffect(()=>{const e=["overview","data-management","deep-dive","forecast","recommendations","benchmarking"];try{localStorage.setItem(m,JSON.stringify(e))}catch(t){console.warn("Could not update navigation order:",t)}},[]),r.useEffect(()=>{const e=()=>{try{const e=localStorage.getItem(x);e&&e!==g&&u(e)}catch(e){}};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[g]);const h=(e,t)=>{const s="/ceo/partner-dashboard/".concat(e);return(0,l.jsx)(a.k2,{to:s,className:e=>{let{isActive:t}=e;return"px-3 py-2 rounded-md text-sm transition-colors ".concat(t?"bg-blue-600 text-white":i?"text-gray-200 hover:bg-gray-800/30":"text-gray-700 hover:bg-gray-100")},children:t},e)},{connected:b}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ws://localhost:4002";const t=(0,r.useRef)(null),[s,a]=(0,r.useState)(!1),n=(0,r.useRef)(1e3);return(0,r.useEffect)(()=>{let s=!0;return function r(){try{const l=new WebSocket(e);t.current=l,l.addEventListener("open",()=>{s&&(a(!0),n.current=1e3)}),l.addEventListener("message",e=>{try{const t=JSON.parse(e.data);window.dispatchEvent(new CustomEvent("conseqx:live:update",{detail:t}))}catch(t){window.dispatchEvent(new CustomEvent("conseqx:live:update",{detail:{raw:e.data}}))}}),l.addEventListener("close",()=>{s&&(a(!1),setTimeout(()=>{n.current=Math.min(3e4,1.5*n.current),r()},n.current))}),l.addEventListener("error",()=>{})}catch(l){a(!1),setTimeout(r,n.current)}}(),()=>{s=!1;try{t.current&&t.current.close()}catch(e){}}},[e]),{connected:s,send:function(e){try{t.current&&t.current.readyState===WebSocket.OPEN&&t.current.send(JSON.stringify(e))}catch(s){}},socket:t.current}}("ws://localhost:4002"),[p,y]=r.useState(!1),[v,j]=r.useState(()=>{try{const e=localStorage.getItem("conseqx_uploads_v1"),t=e?JSON.parse(e):[];return t&&t.length?t[0]:null}catch(e){return null}});return r.useEffect(()=>{function e(e){if(!e.key||"conseqx_uploads_v1"===e.key)try{const e=localStorage.getItem("conseqx_uploads_v1"),t=e?JSON.parse(e):[];j(t&&t.length?t[0]:null)}catch(t){}}window.addEventListener("storage",e);let t=null;try{t=new BroadcastChannel("conseqx_assessments"),t.addEventListener("message",t=>{var s;"assessments:update"===(null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.type)&&e({key:"conseqx_uploads_v1"})})}catch(s){t=null}return()=>{if(window.removeEventListener("storage",e),t)try{t.close()}catch(s){}}},[]),(0,l.jsxs)("div",{className:"min-h-[60vh]",children:[(0,l.jsxs)("div",{className:"flex items-start gap-4 mb-6",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold ".concat(i?"text-gray-100":"text-gray-900"),children:"C-Suite"}),(0,l.jsx)("p",{className:"text-sm ".concat(i?"text-gray-300":"text-gray-600"),children:"Comprehensive organizational health monitoring and analysis"})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg text-xs ".concat(b?"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400 border border-green-200 dark:border-green-700":"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-400 border border-red-200 dark:border-red-700"),children:[(0,l.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(b?"bg-green-500":"bg-red-500"," ").concat(b?"animate-pulse":"")}),(0,l.jsx)("span",{className:"font-medium whitespace-nowrap",children:b?"Real-time Data Connected":"Data Connection Offline"})]}),(0,l.jsxs)("button",{onClick:()=>y(e=>!e),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-indigo-600 text-white text-sm hover:bg-indigo-700 transition-colors whitespace-nowrap",children:[(0,l.jsx)(n.KuA,{size:14}),"ULTRA Analysis"]})]})]}),(0,l.jsxs)("div",{className:"mb-6",children:[!b&&(0,l.jsx)("div",{className:"p-3 rounded-lg border ".concat(i?"bg-red-900/10 border-red-700":"bg-red-50 border-red-200"),children:(0,l.jsxs)("div",{className:"text-xs text-red-600 dark:text-red-400",children:["\u2022 WebSocket connection to localhost:4002 failed",(0,l.jsx)("br",{}),"\u2022 Live updates and real-time monitoring unavailable",(0,l.jsx)("br",{}),"\u2022 Run ",(0,l.jsx)("code",{className:"px-1 py-0.5 bg-gray-100 dark:bg-gray-800 rounded",children:"node server/mockWsServer.js"})," to enable live data"]})}),b&&(0,l.jsx)("div",{className:"p-3 rounded-lg border ".concat(i?"bg-green-900/10 border-green-700":"bg-green-50 border-green-200"),children:(0,l.jsxs)("div",{className:"text-xs text-green-600 dark:text-green-400",children:["\u2022 Real-time organizational health monitoring active",(0,l.jsx)("br",{}),"\u2022 Live system updates every 5-10 seconds",(0,l.jsx)("br",{}),"\u2022 WebSocket connection stable"]})})]}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsxs)("aside",{className:"hidden md:block w-64 rounded-lg p-4 ".concat(i?"bg-gray-900 border border-gray-700":"bg-white border border-gray-100"),children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h3",{className:"font-semibold text-sm mb-3",children:"Detailed Analysis"}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mb-4",children:"Explore in-depth views and advanced analytics"})]}),(0,l.jsxs)("nav",{className:"flex flex-col gap-2",children:[h("overview","System Overview"),(0,l.jsxs)("div",{className:"relative",children:[h("data-management","Data Management"),(0,l.jsx)("div",{className:"absolute -right-2 -top-1 flex items-center",children:"manual"===g?(0,l.jsxs)("div",{className:"flex items-center gap-1 bg-blue-500 text-white text-xs px-2 py-1 rounded shadow-sm",children:[(0,l.jsx)(n.nBS,{size:8}),(0,l.jsx)("span",{children:"M"})]}):(0,l.jsxs)("div",{className:"flex items-center gap-1 bg-green-500 text-white text-xs px-2 py-1 rounded shadow-sm",children:[(0,l.jsx)(n.cBd,{size:8}),(0,l.jsx)("span",{children:"A"})]})})]}),h("deep-dive","Deep Dive Analysis"),h("forecast","Forecast & Scenarios"),h("recommendations","Action Items"),h("benchmarking","Industry Benchmarks")]})]}),(0,l.jsx)("main",{className:"flex-1",children:(0,l.jsx)(a.sv,{context:{darkMode:i,orgId:d,dashboardMode:g}})})]}),p&&(0,l.jsx)("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,l.jsx)("div",{className:"max-w-2xl w-full rounded-xl ".concat(i?"bg-gray-900 border border-gray-700":"bg-white border border-gray-200"),children:(0,l.jsx)(o,{onClose:()=>y(!1),darkMode:i})})})]})}}}]);
//# sourceMappingURL=336.8ab3307d.chunk.js.map