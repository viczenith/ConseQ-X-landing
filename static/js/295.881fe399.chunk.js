"use strict";(self.webpackChunkceo_assessment_app=self.webpackChunkceo_assessment_app||[]).push([[295],{4295:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var a=s(65043),n=s(23721),r=s(35016),i=s(55255),l=s(41962),c=s(13204),d=s(59570),o=s(67519),x=s(70579);const m="conseqx_uploads_v1";function h(e){let{title:t,value:s,hint:a,darkMode:n}=e;return(0,x.jsxs)("div",{className:"rounded-2xl p-4 border ".concat(n?"bg-gray-900 border-gray-700 text-gray-100":"bg-white border-gray-100 text-gray-900"),children:[(0,x.jsx)("div",{className:"text-xs uppercase ".concat(n?"text-gray-300":"text-gray-500"),children:t}),(0,x.jsx)("div",{className:"text-2xl font-semibold mt-1",children:s}),a&&(0,x.jsx)("div",{className:"".concat(n?"text-gray-400":"text-gray-500"," text-xs mt-1"),children:a})]})}function g(e){let{pct:t=0,darkMode:s=!1}=e;const a=Math.max(0,Math.min(100,Math.round(t||0)));return(0,x.jsx)("div",{className:"w-full",children:(0,x.jsx)("div",{className:"w-full h-2 rounded-full ".concat(s?"bg-gray-700":"bg-gray-200"),children:(0,x.jsx)("div",{style:{width:"".concat(a,"%")},className:"h-full rounded-full transition-all duration-500",children:(0,x.jsx)("div",{style:{width:"100%"},className:"h-full bg-gradient-to-r from-indigo-600 to-blue-500 rounded-full"})})})})}function u(){var e,t,s;const{darkMode:u,org:y}=(0,n.KC)(),v=(0,r.A)(),p=(0,n.Zp)(),[j,f]=a.useState(null),[b,N]=a.useState(null),[w,k]=a.useState({}),[C,M]=a.useState(!1),[O,S]=a.useState(null);a.useEffect(()=>{var e;let t=!0;return(null!==v&&void 0!==v&&null!==(e=v.org)&&void 0!==e&&e.id||null!==y&&void 0!==y&&y.id)&&(async()=>{try{var e;const s=await i.Zx((null===v||void 0===v||null===(e=v.org)||void 0===e?void 0:e.id)||(null===y||void 0===y?void 0:y.id));t&&f(s)}catch(s){t&&f(null)}})(),()=>{t=!1}},[null===v||void 0===v||null===(e=v.org)||void 0===e?void 0:e.id,null===y||void 0===y?void 0:y.id]),a.useEffect(()=>{function e(){try{var e;const t=localStorage.getItem(m),s=t?JSON.parse(t):[];if(!s||!s.length)return N(null),void k({});const a=s[0];N(a);const n=localStorage.getItem("conseqx_assessments_v1"),r=((n?JSON.parse(n):{})[(null===v||void 0===v||null===(e=v.org)||void 0===e?void 0:e.id)||(null===y||void 0===y?void 0:y.id)]||[]).reduce((e,t)=>{const s=(0,l.Os)(t.systemId||t.system||t.systemKey||"");return s?(e[s]=t.score||e[s]||0,e):e},{}),i={};l.CO.forEach(e=>{const t=e.key;"undefined"!==typeof r[t]&&null!==r[t]?i[t]=Math.max(0,Math.min(100,Math.round(r[t]))):a&&Array.isArray(a.analyzedSystems)&&a.analyzedSystems.includes(t)?i[t]=70:i[t]=null}),k(i)}catch(t){N(null),k({})}}function t(t){t.key&&t.key!==m&&"conseqx_assessments_v1"!==t.key||e()}e(),window.addEventListener("storage",t);try{if("BroadcastChannel"in window){new BroadcastChannel("conseqx_assessments").addEventListener("message",t=>{var s;"assessments:update"===(null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.type)&&e()})}}catch(a){}const s=setInterval(e,4e3);return()=>{window.removeEventListener("storage",t),clearInterval(s)}},[null===v||void 0===v||null===(t=v.org)||void 0===t?void 0:t.id,null===y||void 0===y?void 0:y.id]);const A=a.useMemo(()=>{const e=Object.values(w||{}).filter(e=>null!==e&&"undefined"!==typeof e);if(!e.length)return 0;const t=e.reduce((e,t)=>e+(Number(t)||0),0);return Math.round(t/e.length)},[w]);function _(e){try{var t;window.dispatchEvent(new CustomEvent("conseqx:assessment:start",{detail:{systemId:e,orgId:(null===v||void 0===v||null===(t=v.org)||void 0===t?void 0:t.id)||(null===y||void 0===y?void 0:y.id)}}))}catch(s){}p("/ceo/assessments?focus=".concat(encodeURIComponent(e)))}const E="If your organization has changed since the last assessment, retake it to refresh recommendations and improve efficiency.";return(0,x.jsxs)("section",{children:[(0,x.jsx)("div",{className:"mb-4 flex items-center justify-between",children:(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:"".concat(u?"text-gray-300":"text-gray-500"," text-sm mt-1"),children:[(0,x.jsx)("span",{className:"text-yellow-500",children:null===v||void 0===v||null===(s=v.org)||void 0===s?void 0:s.name})," Workspace"]})})}),(0,x.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[(0,x.jsxs)("div",{className:"rounded-2xl p-4 border col-span-1 sm:col-span-2 ".concat(u?"bg-gray-900 border-gray-700":"bg-white border-gray-100"),children:[(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"text-xs ".concat(u?"text-gray-400":"text-gray-600"),children:"Overall Health (quick)"}),(0,x.jsxs)("div",{className:"text-3xl font-bold mt-1",children:[A,"%"]}),(0,x.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Snapshot \u2014 open OrgHealth for full diagnosis"})]}),(0,x.jsx)("div",{className:"w-32 h-32 flex items-center justify-center",children:(0,x.jsxs)("svg",{viewBox:"0 0 36 36",className:"w-28 h-28",children:[(0,x.jsx)("path",{d:"M18 2a16 16 0 1 0 0 32 16 16 0 0 0 0-32",fill:"none",stroke:"#e6e6e6",strokeWidth:"2"}),(0,x.jsx)("path",{d:"M18 2a16 16 0 1 0 0 32",fill:"none",stroke:"#34d399",strokeWidth:"2",strokeDasharray:"".concat(A,",100")}),(0,x.jsxs)("text",{x:"18",y:"20.5",alignmentBaseline:"middle",textAnchor:"middle",fontSize:"5",fill:u?"#fff":"#111",children:[A,"%"]})]})})]}),(0,x.jsxs)("div",{className:"mt-3 text-xs text-gray-400",children:["This is a lightweight snapshot. ",(0,x.jsx)("button",{onClick:()=>p("/ceo/org-health"),className:"ml-1 underline text-indigo-600 text-xs",children:"Open OrgHealth"})]})]}),[{title:"Revenue (TTM)",value:"\u20a6120M"},{title:"EBITDA Margin",value:"18%"}].map(e=>(0,x.jsx)(h,{title:e.title,value:e.value,hint:e.hint,darkMode:u},e.title))]}),(0,x.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,x.jsxs)("div",{className:"md:col-span-2 rounded-2xl p-4 border ".concat(u?"bg-gray-900 border-gray-700 text-gray-100":"bg-white border-gray-100 text-gray-900"),children:[(0,x.jsx)("h3",{className:"".concat(u?"text-gray-100":"text-gray-900"," text-lg font-semibold"),children:"Executive Insights"}),(0,x.jsx)("p",{className:"mt-3 text-sm ".concat(u?"text-gray-300":"text-gray-600"),children:"A short actionable summary based on the latest uploads and assessments. Use OrgHealth for the complete automated diagnosis and per-system recommendations."}),(0,x.jsxs)("div",{className:"mt-6",children:[(0,x.jsxs)("h4",{className:"".concat(u?"text-gray-100":"text-gray-900"," font-semibold flex items-center gap-2"),children:[(0,x.jsx)(c.Pcn,{className:"text-indigo-500"}),"Systems snapshot (quick)"]}),(0,x.jsx)("p",{className:"mt-2 text-sm ".concat(u?"text-gray-300":"text-gray-600"),children:"Compact view \u2014 click the action to retake or start the system assessment."}),(0,x.jsx)("div",{className:"mt-4 space-y-2",children:l.CO.map(e=>{const t=w[e.key],s="number"===typeof t&&null!==t;return(0,x.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-md ".concat(u?"bg-gray-800 border border-gray-700":"bg-white border border-gray-100"),children:[(0,x.jsxs)("div",{className:"flex items-center gap-3",children:[(0,x.jsx)("div",{className:"w-10 h-10 rounded bg-indigo-600 text-white flex items-center justify-center",children:e.icon}),(0,x.jsxs)("div",{className:"min-w-0",children:[(0,x.jsx)("div",{className:u?"text-gray-100":"text-gray-900",children:e.title}),(0,x.jsx)("div",{className:"text-xs text-gray-400 mt-1 truncate",style:{maxWidth:420},children:e.description}),(0,x.jsx)("div",{className:"mt-2 w-48",children:s?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"Answered evidence"}),(0,x.jsx)(g,{pct:t,darkMode:u})]}):(0,x.jsx)("div",{className:"text-xs text-gray-400",children:"Assessment not taken"})})]})]}),(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsx)("div",{className:"px-2 py-1 rounded-full text-xs ".concat(s?t>=80?"bg-green-100 text-green-700":t>=60?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700":"bg-gray-100 text-gray-500"),children:s?"".concat(t,"%"):"\u2014"}),(0,x.jsx)("button",{onClick:()=>{_(e.key)},title:E,className:"px-3 py-1 rounded-md text-xs ".concat(s?"bg-indigo-600 text-white":"border"),children:s?"Retake assessment":"Start assessment"}),(0,x.jsx)("button",{onClick:()=>function(e){const t=l.CO.find(t=>t.key===e)||{title:e,description:""},s=w[e],a={systemKey:e,title:t.title,description:t.description,score:"number"===typeof s?s:null,source:b?"Snapshot: ".concat(b.name||b.id||"upload"):null};S(a),M(!0)}(e.key),className:"p-1 rounded-md ".concat(u?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-700"),title:s?"Quick view \u2014 short report":"Learn about this system",children:(0,x.jsx)(c.Ny1,{className:"w-4 h-4"})})]})]},e.key)})})]})]}),(0,x.jsxs)("aside",{className:"rounded-2xl p-4 border ".concat(u?"bg-gray-900 border-gray-700 text-gray-100":"bg-white border-gray-100 text-gray-900"),children:[(0,x.jsxs)("h3",{className:"".concat(u?"text-gray-100":"text-gray-900"," text-lg font-semibold flex items-center gap-2"),children:[(0,x.jsx)(c.KuA,{className:"text-blue-500"}),"X-Ultra Recommendations"]}),(0,x.jsx)("div",{className:"mt-2 text-xs ".concat(u?"text-gray-400":"text-gray-600"," italic"),children:"Automated intelligence \u2014 prioritized next steps"}),j&&j.top_recommendations?(0,x.jsx)("ul",{className:"mt-3 space-y-3 text-sm",children:j.top_recommendations.slice(0,3).map((e,t)=>(0,x.jsx)("li",{className:"space-y-2",children:(0,x.jsxs)("div",{className:"flex items-start justify-between",children:[(0,x.jsxs)("div",{className:"flex-1",children:[(0,x.jsx)("div",{className:"".concat(u?"text-gray-100":"font-medium"," text-sm"),children:e.action}),(0,x.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["Owner: ",e.owner," \xb7 Priority: ",e.priority]}),e.expected_impact&&(0,x.jsxs)("div",{className:"text-xs mt-1 ".concat(u?"text-blue-400":"text-blue-600"),children:["Expected Impact: ",e.expected_impact]}),e.reasoning&&(0,x.jsx)("div",{className:"text-xs mt-1 italic ".concat("text-gray-500"),children:e.reasoning})]}),(0,x.jsx)("span",{className:"ml-2 px-2 py-1 rounded-full text-xs flex-shrink-0 ".concat("critical"===e.priority?"bg-red-100 text-red-700":"high"===e.priority?"bg-orange-100 text-orange-700":"bg-green-100 text-green-700"),children:e.priority})]})},t))}):(0,x.jsxs)("ul",{className:"mt-3 space-y-2 text-sm",children:[(0,x.jsxs)("li",{className:"flex items-start justify-between",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"".concat(u?"text-gray-100":"font-medium"),children:"Draft offsite agenda"}),(0,x.jsx)("div",{className:"text-xs text-gray-400",children:"Owner: COO"})]}),(0,x.jsx)("button",{className:"px-2 py-1 rounded-md border ".concat(u?"text-gray-100 border-gray-600 bg-transparent":"text-gray-900 border-gray-200 bg-transparent"),children:"Assign"})]}),(0,x.jsxs)("li",{className:"flex items-start justify-between",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"".concat(u?"text-gray-100":"font-medium"),children:"KPI dashboard refresh"}),(0,x.jsx)("div",{className:"text-xs text-gray-400",children:"Owner: Head Analytics"})]}),(0,x.jsx)("button",{className:"px-2 py-1 rounded-md border ".concat(u?"text-gray-100 border-gray-600 bg-transparent":"text-gray-900 border-gray-200 bg-transparent"),children:"Assign"})]})]})]})]}),(0,x.jsx)(d.N,{children:C&&O&&(0,x.jsxs)(o.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,x.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:()=>M(!1)}),(0,x.jsxs)(o.P.div,{initial:{scale:.98},animate:{scale:1},exit:{scale:.98},className:"relative z-10 w-full max-w-2xl rounded-2xl p-4 ".concat(u?"bg-gray-900 border border-gray-700 text-gray-100":"bg-white border border-gray-100 text-gray-900"," shadow-2xl"),children:[(0,x.jsxs)("div",{className:"flex items-start justify-between",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{className:"text-lg font-semibold",children:"The System of ".concat(O.title," \u2014 Report")}),(0,x.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:O.description})]}),(0,x.jsx)("button",{onClick:()=>M(!1),className:"text-gray-400",children:"\u2715"})]}),(0,x.jsx)("div",{className:"mt-4 space-y-4",children:null!==O.score?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"text-xs text-gray-400",children:"Score"}),(0,x.jsxs)("div",{className:"text-2xl font-bold mt-1",children:[O.score,"%"]}),(0,x.jsx)("div",{className:"mt-2",children:(0,x.jsx)(g,{pct:O.score,darkMode:u})})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h4",{className:"text-sm font-semibold",children:"X-Ultra Recommendations (preview)"}),(0,x.jsxs)("ul",{className:"mt-2 list-disc pl-5 text-sm text-gray-500",children:[(0,x.jsx)("li",{children:"Run a focused improvement sprint (2\u20134 weeks) with explicit owners."}),(0,x.jsx)("li",{children:"Establish weekly metrics to track progress on the top 3 pain points."}),(0,x.jsx)("li",{children:"Document a playbook for common cross-team handoffs to reduce friction."})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h4",{className:"text-sm font-semibold",children:"African case example (short)"}),(0,x.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:"Dangote-style central governance + local execution produced measurable delivery improvements when cross-unit orchestration improved."})]}),(0,x.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,x.jsx)("button",{onClick:()=>{!function(e){try{window.dispatchEvent(new CustomEvent("conseqx:orghealth:open",{detail:{systemId:e}}))}catch(t){}p("/ceo/org-health")}(O.systemKey),M(!1)},className:"px-3 py-2 rounded-md bg-gradient-to-r from-indigo-600 to-blue-600 text-white",children:"Open full report"}),(0,x.jsx)("button",{onClick:()=>{_(O.systemKey),M(!1)},title:E,className:"px-3 py-2 rounded-md bg-indigo-600 text-white",children:"Retake assessment"})]})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"text-sm text-gray-400",children:"Assessment not taken"}),(0,x.jsx)("div",{className:"text-lg font-semibold mt-1",children:"Take your Organizational Health Assessment now"}),(0,x.jsx)("div",{className:"text-sm text-gray-500 mt-2",children:"We don't yet have data for this system. A short assessment (~10\u201320 minutes) will populate a full report with X-Ultra recommendations, forecasts and case studies."})]}),(0,x.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,x.jsx)("button",{onClick:()=>{_(O.systemKey),M(!1)},className:"px-3 py-2 rounded-md bg-gradient-to-r from-indigo-600 to-blue-600 text-white",children:"Start assessment"}),(0,x.jsx)("button",{onClick:()=>{M(!1),p("/ceo/org-health")},className:"px-3 py-2 rounded-md border",children:"Learn about this system"})]})]})})]})]})})]})}}}]);
//# sourceMappingURL=295.881fe399.chunk.js.map