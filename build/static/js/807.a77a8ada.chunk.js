"use strict";(self.webpackChunkceo_assessment_app=self.webpackChunkceo_assessment_app||[]).push([[807],{36807:(e,t,s)=>{s.r(t),s.d(t,{default:()=>k});s(53986);var n=s(89379),i=s(65043),r=s(23721),a=s(13204),o=s(41962),c=s(70579);function l(e){return e>=80?"text-green-500":e>=60?"text-yellow-500":"text-red-500"}function d(e){try{return new Date(e).toLocaleTimeString()}catch(t){return""}}const m="conseqx_uploads_v1",u="conseqx_assessments_v1",x="conseqx_saved_scenarios_v1";function h(){return"undefined"!==typeof window&&(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<768)}const p=new class{constructor(){this.isSupported="speechSynthesis"in window,this.voices=[],this.currentUtterance=null,this.isPlaying=!1,this.isSupported&&(this.loadVoices(),window.speechSynthesis.onvoiceschanged=()=>this.loadVoices())}loadVoices(){this.voices=window.speechSynthesis.getVoices()}speak(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isSupported||!e)return;this.stop();const s=new SpeechSynthesisUtterance(e);s.rate=t.rate||.9,s.pitch=t.pitch||1,s.volume=t.volume||.8;const n=this.voices.find(e=>e.name.includes("Google")||e.name.includes("Microsoft")||e.lang.includes("en-US"));n&&(s.voice=n),s.onstart=()=>this.isPlaying=!0,s.onend=()=>this.isPlaying=!1,s.onerror=()=>this.isPlaying=!1,this.currentUtterance=s,window.speechSynthesis.speak(s)}stop(){this.isSupported&&this.isPlaying&&(window.speechSynthesis.cancel(),this.isPlaying=!1)}pause(){this.isSupported&&this.isPlaying&&window.speechSynthesis.pause()}resume(){this.isSupported&&window.speechSynthesis.resume()}};function y(){try{const e=localStorage.getItem(m);return e?JSON.parse(e):[]}catch(e){return[]}}function g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"anon";try{const t=localStorage.getItem(u);return(t?JSON.parse(t):{})[e]||[]}catch(t){return[]}}function v(){try{const e=localStorage.getItem(x);return e?JSON.parse(e):[]}catch(e){return[]}}function f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];try{localStorage.setItem(x,JSON.stringify(e))}catch(t){}}function b(e){const t=Date.now();return e.map((e,s)=>{const n=Array.from(String(e.key||"")).reduce((e,t)=>e+t.charCodeAt(0),0)%40+40+3*s,i=Math.round(12*Math.sin(t/(5e3+1e3*s)+.5*s)),r=Math.max(0,Math.min(100,n+i-10));return{id:"ext-".concat(e.key,"-").concat(Math.floor(t/1e3)),systemKey:e.key,type:["market","regulatory","competitor","macro"][s%4],value:r,importance:r>75?"high":r>55?"medium":"low",description:"".concat(e.title," external signal snapshot"),timestamp:t,source:"external-feed"}})}function w(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[])[0];if(!t)return{impactLevel:"none",expectedDelta:0,reason:"No external signal"};const s="high"===t.importance?1:"medium"===t.importance?.6:.3,n=Math.round((t.value-50)/2),i=Math.round(n*s),r=Math.abs(i);return{impactLevel:r>=12?"high":r>=6?"medium":r>=1?"low":"none",expectedDelta:i,reason:"".concat(t.type," (").concat(t.source,") value ").concat(t.value," \u2192 expected ").concat(i>=0?"+":"").concat(i),signal:t}}function j(e){let{values:t=[],darkMode:s=!1,width:n=120,height:r=64,barCount:a=18,palette:o="crypto",tooltipRef:l}=e;const d=(0,i.useRef)(null),m=(0,i.useRef)(null),u=(0,i.useRef)("undefined"!==typeof window&&window.devicePixelRatio||1),x=(0,i.useRef)((t||[]).slice(-a).concat([]));return x.current.length<a&&(x.current=Array.from({length:a-x.current.length},()=>0).concat(x.current)),(0,i.useEffect)(()=>{const e=d.current;if(!e)return;const i=e.getContext("2d"),c=u.current||1;e.width=Math.round(n*c),e.height=Math.round(r*c),e.style.width="".concat(n,"px"),e.style.height="".concat(r,"px"),i.setTransform(c,0,0,c,0,0);let l=!0;return m.current=requestAnimationFrame(function e(){if(!l)return;const c=(t||[]).slice(-a),d=Array.from({length:Math.max(0,a-c.length)},()=>0).concat(c.map(e=>Number(e||0)));for(let t=0;t<a;t++){const e=null==x.current[t]?0:x.current[t],s=null==d[t]?0:d[t];x.current[t]=e+.18*(s-e)}i.clearRect(0,0,n,r),i.fillStyle=s?"#061226":"#ffffff",i.fillRect(0,0,n,r);const u=n/a,h=Math.max(3,Math.floor(.62*u)),p=(u-h)/2,y=r-16,g=d.filter(e=>"number"===typeof e),v=g.length>=2?g[g.length-2]:g[g.length-1]||0,f=(g.length>=1?g[g.length-1]:0)>=v?"up":"down";let b,w,j;"crypto"===o?(b="up"===f?s?"#34d399":"#10b981":s?"#fb7185":"#ef4444",w="up"===f?s?"#10b981":"#059669":s?"#fb923c":"#f97316",j=s?"#021022":"#ffffff"):(b=s?"#60a5fa":"#3b82f6",w="#2563eb",j=s?"#071025":"#ffffff");for(let t=0;t<a;t++){const e=Math.max(0,Math.min(100,x.current[t]||0)),s=Math.max(2,Math.round(e/100*y)),n=t*u+p,a=r-s-10,o=i.createLinearGradient(0,a,0,a+s);o.addColorStop(0,b),o.addColorStop(.6,w),o.addColorStop(1,j),i.fillStyle=o;const c=Math.min(h/2,4);i.beginPath(),i.moveTo(n+c,a),i.lineTo(n+h-c,a),i.quadraticCurveTo(n+h,a,n+h,a+c),i.lineTo(n+h,a+s-c),i.quadraticCurveTo(n+h,a+s,n+h-c,a+s),i.lineTo(n+c,a+s),i.quadraticCurveTo(n,a+s,n,a+s-c),i.lineTo(n,a+c),i.quadraticCurveTo(n,a,n+c,a),i.closePath(),i.fill()}i.fillStyle=s?"rgba(255,255,255,0.06)":"rgba(0,0,0,0.06)",i.fillRect(0,r-6,n,2),m.current=requestAnimationFrame(e)}),()=>{l=!1,m.current&&cancelAnimationFrame(m.current)}},[t,s,n,r,a,o]),(0,i.useEffect)(()=>{const e=d.current;if(e)return e.addEventListener("mousemove",r),e.addEventListener("mouseleave",o),e.addEventListener("touchstart",r,{passive:!0}),e.addEventListener("touchmove",r,{passive:!0}),e.addEventListener("touchend",o,{passive:!0}),()=>{e.removeEventListener("mousemove",r),e.removeEventListener("mouseleave",o),e.removeEventListener("touchstart",r),e.removeEventListener("touchmove",r),e.removeEventListener("touchend",o)};function s(e){return e.touches&&e.touches[0]?e.touches[0].clientX:e.clientX}function i(e){return e.touches&&e.touches[0]?e.touches[0].clientY:e.clientY}function r(r){const o=e.getBoundingClientRect(),c=s(r)-o.left,d=n/a;let m=Math.floor(c/d);m<0&&(m=0),m>=a&&(m=a-1);const u=(t||[]).slice(-a),x=Array.from({length:Math.max(0,a-u.length)},()=>0).concat(u.map(e=>Number(e||0)))[m]||0,h=Date.now();l&&l.current&&"function"===typeof l.current.show&&l.current.show({index:m,value:x,timestamp:h,pageX:s(r),pageY:i(r)})}function o(){l&&l.current&&"function"===typeof l.current.hide&&l.current.hide()}},[t,a,n,l]),(0,c.jsx)("canvas",{ref:d,width:n,height:r,style:{width:"".concat(n,"px"),height:"".concat(r,"px"),borderRadius:8},"aria-hidden":!0})}const N=i.forwardRef((e,t)=>{let{darkMode:s=!1}=e;const[r,a]=(0,i.useState)({visible:!1,index:0,value:0,timestamp:null,left:0,top:0});if(i.useImperativeHandle(t,()=>({show:function(){let{index:e=0,value:t=0,timestamp:s=null,pageX:n=0,pageY:i=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};let r=n+12,o=i+-36;const c=window.innerWidth,l=window.innerHeight;r+160>c-8&&(r=Math.max(8,n-160-12)),o<8&&(o=Math.min(l-56-8,i+12)),a({visible:!0,index:e,value:Math.round(Number(t)||0),timestamp:s,left:r,top:o})},hide:()=>a(e=>(0,n.A)((0,n.A)({},e),{},{visible:!1}))}),[]),!r.visible)return null;const o=s?"rgba(2,6,23,0.9)":"#fff",l=s?"rgba(255,255,255,0.06)":"rgba(2,6,23,0.06)",m=s?"#E6F0FF":"#071024";return(0,c.jsxs)("div",{role:"tooltip","aria-hidden":!r.visible,style:{position:"fixed",left:r.left,top:r.top,zIndex:9999,pointerEvents:"none",minWidth:140,maxWidth:300,padding:"8px 10px",borderRadius:8,boxShadow:"0 8px 24px rgba(2,6,23,0.4)",background:o,border:"1px solid ".concat(l),color:m,fontSize:13,lineHeight:1.2},children:[(0,c.jsxs)("div",{style:{fontWeight:700,marginBottom:6},children:[r.value,"%"]}),(0,c.jsx)("div",{style:{fontSize:12,opacity:.85},children:r.timestamp?d(r.timestamp):""})]})});function k(e){var t;let{orgId:s=null}=e;const{darkMode:m,org:u}=(0,r.KC)(),x=(0,r.Zp)(),k=s||u&&(u.id||u.orgId)||"anon",S=(0,i.useMemo)(()=>Array.isArray(o.CO)&&o.CO.length?o.CO.map((e,t)=>({key:o.Os?(0,o.Os)(e.key||e.id||e.system||""):String(e.key||e.id||"").toLowerCase(),title:e.title||e.label||e.key||"System ".concat(t+1),desc:e.description||e.blurb||""})):[{key:"interdependency",title:"Interdependency",desc:""},{key:"orchestration",title:"Orchestration",desc:""},{key:"investigation",title:"Investigation",desc:""},{key:"interpretation",title:"Interpretation",desc:""},{key:"illustration",title:"Illustration",desc:""},{key:"inlignment",title:"Inlignment",desc:""}],[]),[C,M]=(0,i.useState)(()=>y()),[A,E]=(0,i.useState)(()=>g(k));(0,i.useEffect)(()=>{function e(){M(y()),E(g(k))}return window.addEventListener("storage",e),window.addEventListener("conseqx:notifications:updated",e),()=>{window.removeEventListener("storage",e),window.removeEventListener("conseqx:notifications:updated",e)}},[k]);const K=(0,i.useMemo)(()=>{const e=new Set;(A||[]).forEach(t=>{var s;const n=t.systemId||t.system||t.systemKey||(null===(s=t.meta)||void 0===s?void 0:s.systemId)||"";if(!n)return;const i=o.Os?(0,o.Os)(n):String(n||"").toLowerCase();i&&e.add(i)});const t=C&&C.length?C[0]:null;return t&&Array.isArray(t.analyzedSystems)&&t.analyzedSystems.forEach(t=>{const s=o.Os?(0,o.Os)(t):String(t||"").toLowerCase();s&&e.add(s)}),e},[A,C]),[D,L]=(0,i.useState)(()=>{const e={};return S.forEach((t,s)=>e[t.key]=function(e,t){const s=String(e||"");let n=0;for(let i=0;i<s.length;i++)n+=s.charCodeAt(i);return Math.max(30,Math.min(95,n%60+30+t%6*2))}(t.key,s)),e}),I=(0,i.useRef)({});S.forEach(e=>{I.current[e.key]=I.current[e.key]||[D[e.key]||50]});const[R,O]=(0,i.useState)({}),[P,z]=(0,i.useState)({});function U(e,t){K.has(e)&&O(s=>(0,n.A)((0,n.A)({},s),{},{[e]:Number(t)}))}function T(e){O(t=>{const s=(0,n.A)({},t);return delete s[e],s}),z(t=>(0,n.A)((0,n.A)({},t),{},{[e]:!1}))}const q=(0,i.useMemo)(()=>{const e=(0,n.A)({},D);return Object.keys(R).forEach(t=>{const s=Number(R[t])||0;"number"===typeof e[t]&&(e[t]=Math.max(0,Math.min(100,Math.round(e[t]+s))))}),e},[D,R]),F=(0,i.useMemo)(()=>{const e=S.filter(e=>K.has(e.key)).map(e=>q[e.key]).filter(e=>"number"===typeof e);return e.length?Math.round(e.reduce((e,t)=>e+t,0)/e.length):0},[q,S,K]),[_,B]=(0,i.useState)([]),[W,J]=(0,i.useState)(!0),[Y,H]=(0,i.useState)(()=>h()),[X,V]=(0,i.useState)(!0),[G,Q]=(0,i.useState)(!1),[Z,$]=(0,i.useState)("excellent"),[ee,te]=(0,i.useState)(Date.now()),se=(0,i.useRef)(null),[ne,ie]=(0,i.useState)(()=>b(S)),[re,ae]=(0,i.useState)({open:!1,systemKey:null}),[oe,ce]=(0,i.useState)("crypto"),le=(0,i.useRef)(null);(0,i.useEffect)(()=>{const e=()=>{H(h())};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);(0,i.useCallback)(function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i={id:Date.now().toString()+Math.random(),title:e,message:t,type:s,timestamp:Date.now(),priority:n.priority||"medium",persistent:n.persistent||!1,actionable:n.actionable||!1,systemKey:n.systemKey||null};return B(e=>[i,...e.slice(0,19)]),G&&"critical"===s&&p.speak("Critical alert: ".concat(e,". ").concat(t)),Y&&"Notification"in window&&"granted"===Notification.permission&&new Notification(e,{body:t,icon:"/logo192.png",badge:"/logo192.png"}),i.id},[G,Y]);const[de,me]=(0,i.useState)(!1),[ue,xe]=(0,i.useState)(""),[he,pe]=(0,i.useState)(()=>v()),[ye,ge]=(0,i.useState)(null),ve=(0,i.useMemo)(()=>{const e=S.filter(e=>K.has(e.key)).map(e=>D[e.key]).filter(e=>"number"===typeof e);return e.length?Math.round(e.reduce((e,t)=>e+t,0)/e.length):0},[D,S,K]);(0,i.useEffect)(()=>{let e=null;function t(){const e=b(S);ie(e);try{window.dispatchEvent(new CustomEvent("conseqx:external:updated",{detail:{signals:e}}))}catch(t){}}return W?(t(),e=setInterval(t,5e3)):t(),()=>{e&&clearInterval(e)}},[W,S]),(0,i.useEffect)(()=>{function e(){L(e=>{const t=(0,n.A)({},e);return S.forEach(e=>{if(!K.has(e.key))return;const s=(n=-2,i=3,Math.round(n+Math.random()*(i-n)));var n,i;t[e.key]=Math.max(10,Math.min(95,(t[e.key]||50)+s)),I.current[e.key]=(I.current[e.key]||[]).concat(t[e.key]).slice(-36)}),t})}return W?(e(),se.current=setInterval(e,3e3)):se.current&&(clearInterval(se.current),se.current=null),()=>{se.current&&(clearInterval(se.current),se.current=null)}},[W,S,K]);const fe=(0,i.useRef)({});function be(e){K.has(e)&&ae({open:!0,systemKey:e})}function we(){ae({open:!1,systemKey:null})}function je(e){var t;const s=null!==(t=D[e])&&void 0!==t?t:0,n=(ne||[]).filter(t=>t.systemKey===e),i=w(s,n||[]),r=[s>=75?"Strong capability demonstrated \u2014 maintain governance and measure velocity.":"Observed gaps in handoffs and ownership; prioritize short sprints.",s<60?"Risk of delays under pressure; assign dedicated owners and SLAs.":"Stable under current conditions; test scale scenarios."];return i.impactLevel&&"none"!==i.impactLevel&&r.push("External signal impact: ".concat(i.impactLevel.toUpperCase()," \u2014 ").concat(i.reason)),r}function Ne(e){x("/ceo/assessments?focus=".concat(encodeURIComponent(e)))}function ke(){pe(v()),me(!0),ge(null),xe("")}function Se(){me(!1),ge(null),xe("")}function Ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Untitled scenario";const t=Object.keys(R).map(e=>({systemKey:e,delta:Number(R[e]||0)}));return{id:"sc-".concat(Date.now()),name:e||"Scenario ".concat((new Date).toLocaleString()),createdAt:Date.now(),items:t}}function Me(){const e=Ce((arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||"Preview "+(new Date).toLocaleTimeString());L(t=>{const s=(0,n.A)({},t);return e.items.forEach(e=>{K.has(e.systemKey)&&(s[e.systemKey]=Math.max(0,Math.min(100,Math.round((s[e.systemKey]||0)+Number(e.delta||0)))),I.current[e.systemKey]=(I.current[e.systemKey]||[]).concat(s[e.systemKey]).slice(-36))}),s}),B(e=>[{id:"S-".concat(Date.now()),level:"info",type:"scenario",title:"Preview scenario applied",text:"Applied preview scenario to working scores.",ts:Date.now()},...e].slice(0,12)),O({}),z({})}(0,i.useEffect)(()=>{!function(){const e=[],t=Date.now();S.forEach(s=>{if(!K.has(s.key))return;const n=fe.current[s.key],i=D[s.key];if("number"===typeof n&&"number"===typeof i){const r=i-n;Math.abs(r)>=8&&e.push({id:"score-".concat(s.key,"-").concat(t),level:Math.abs(r)>=12?"high":"medium",type:"score-shock",systemKey:s.key,title:"".concat(s.title," ").concat(r<0?"dropped":"rose"," ").concat(Math.abs(r)," pts"),text:"".concat(s.title," score ").concat(r<0?"declined":"increased"," by ").concat(r," points since last check."),ts:t,suggestedAction:{label:"Open deep dive",action:()=>be(s.key)}})}}),ne.forEach(t=>{var s;const n=t.systemKey,i=K.has(n),r=w(null!==(s=D[n])&&void 0!==s?s:0,[t]);i?"high"===r.impactLevel&&e.push({id:"ext-".concat(t.id),level:"high",type:"external-impact",systemKey:n,title:"External (".concat(t.type,") impact on ").concat((S.find(e=>e.key===n)||{}).title),text:"".concat(t.type," signal at ").concat(t.value," (importance ").concat(t.importance,") \u2014 expected ").concat(r.expectedDelta>=0?"+"+r.expectedDelta:r.expectedDelta," pts."),ts:t.timestamp,signal:t,suggestedAction:{label:"Open deep dive",action:()=>be(n)}}):t.value>=75&&e.push({id:"assess-missing-".concat(n,"-").concat(t.id),level:"medium",type:"assessment-missing",systemKey:n,title:"Assessment recommended: ".concat((S.find(e=>e.key===n)||{}).title),text:"High external signal (".concat(t.type," ").concat(t.value,"). Consider assessing this system to enable diagnostics."),ts:t.timestamp,suggestedAction:{label:"Take assessment",action:()=>Ne(n)}})}),B(t=>{const s=new Map;t.forEach(e=>{const t="".concat(e.type||e.id,"-").concat(e.systemKey||"");s.set(t,e)}),e.forEach(e=>{const t="".concat(e.type||e.id,"-").concat(e.systemKey||"");s.set(t,e)});return Array.from(s.values()).sort((e,t)=>{const s=e=>({high:3,medium:2,low:1,info:0}[e]||0),n=s(t.level)-s(e.level);return 0!==n?n:t.ts-e.ts}).slice(0,24)}),fe.current=(0,n.A)({},D)}()},[D,ne,S,K]),(0,i.useEffect)(()=>{const e=()=>{const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(e){const t=e.effectiveType;$("4g"===t?"excellent":"3g"===t?"good":"2g"===t?"poor":"unknown")}};e();const t=setInterval(e,3e4);return()=>clearInterval(t)},[]);(0,i.useCallback)((e,t,s)=>{const n={interdependency:["Your interdependency score of ".concat(t,"% suggests ").concat(t>75?"strong":t>60?"moderate":"weak"," team collaboration."),"".concat(s>0?"Improving":"Declining"," interdependency may ").concat(s>0?"boost":"hinder"," cross-functional project success.")],investigation:["Investigation capabilities at ".concat(t,"% indicate ").concat(t>80?"excellent":t>65?"good":"limited"," problem-solving capacity."),"Consider ".concat(t<70?"investing in analytical tools and training":"maintaining current investigative processes",".")]}[e]||["System ".concat(e," is performing at ").concat(t,"%")];return n[Math.floor(Math.random()*n.length)]},[]);const Ae=m?"bg-gray-900":"bg-white",Ee=m?"text-gray-100":"text-gray-900",Ke=m?"text-gray-400":"text-gray-600";return(0,c.jsxs)("section",{children:[(0,c.jsx)("style",{children:".hide-scrollbar{scrollbar-width:none;-ms-overflow-style:none}.hide-scrollbar::-webkit-scrollbar{display:none}"}),(0,c.jsxs)("div",{className:"rounded-2xl p-4 ".concat(m?"bg-gray-900 border border-gray-700 text-gray-100":"bg-white border border-gray-100 text-gray-900"),children:[(0,c.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{className:"text-xl font-semibold",children:"C-Suite Automatic Ingestion"}),(0,c.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"Live evidence feed \u2014 assessed systems update in real time. Use Scenarios to compose multi-system what-if changes."})]}),(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("button",{onClick:ke,className:"px-3 py-1 text-sm rounded hidden sm:inline\n                ".concat(m?"bg-gray-700 text-gray-100":"bg-gray-200 text-gray-900"),children:"Open Scenario Panel"}),(0,c.jsx)("div",{className:"text-xs text-gray-400 hidden sm:block",children:"Palette"}),(0,c.jsxs)("select",{value:oe,onChange:e=>ce(e.target.value),className:"px-2 py-1 rounded text-sm\n                ".concat(m?"bg-gray-800 border border-gray-700 text-gray-100":"bg-white border border-gray-100 text-gray-900"),children:[(0,c.jsx)("option",{value:"crypto",children:"Crypto (green/red)"}),(0,c.jsx)("option",{value:"neutral",children:"Neutral"})]}),(0,c.jsx)("div",{className:"text-xs text-gray-400",children:"Auto"}),(0,c.jsxs)("button",{onClick:()=>J(e=>!e),className:"px-3 py-1 rounded-md border flex items-center gap-2 text-xs ".concat(W?"bg-green-600 text-white":""),title:W?"Live ingestion running":"Live ingestion paused",children:[W?(0,c.jsx)(a.kwt,{}):(0,c.jsx)(a.gSK,{})," ",(0,c.jsx)("span",{children:W?"On":"Off"})]}),(0,c.jsx)("div",{className:"text-xs text-gray-400 hidden sm:block",children:"Composite"}),(0,c.jsxs)("div",{className:"font-semibold text-2xl ".concat(ve>=80?"text-green-400":ve>=60?"text-yellow-400":"text-red-400"),children:[ve,"%"]})]})]}),(0,c.jsx)("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map(e=>{var t,s;const i=null!==(t=D[e.key])&&void 0!==t?t:0,r=null!==(s=q[e.key])&&void 0!==s?s:i,a=Number(R[e.key]||0),o=(I.current[e.key]||[]).slice(-36),d=K.has(e.key),u=d?(ne||[]).find(t=>t.systemKey===e.key):null,x=d?w(r,u?[u]:[]):null;return(0,c.jsxs)("div",{className:"p-3 rounded-md border flex flex-col ".concat(m?"bg-gray-800 border-gray-700":"bg-white border-gray-100"),children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"font-semibold text-sm truncate",children:e.title}),(0,c.jsx)("div",{className:"text-xs ".concat(Ke," mt-1 truncate"),children:e.desc||"".concat(e.title," live score")})]}),d&&u&&(0,c.jsx)("div",{className:"mt-3 p-2 rounded ".concat(m?"bg-gray-900/40 border border-gray-700":"bg-gray-50 border border-gray-100"),children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"text-xs",children:[(0,c.jsx)("span",{className:"font-medium",children:"External:"})," ",(0,c.jsxs)("span",{className:"truncate",children:[u.type," ",u.value," (",u.importance,")"]})]}),(0,c.jsx)("div",{className:"text-xs text-yellow-400",children:x&&x.impactLevel?"".concat(x.impactLevel.toUpperCase()," \u2022 ").concat(x.expectedDelta>=0?"+".concat(x.expectedDelta):x.expectedDelta):"No impact"})]})}),(0,c.jsx)("div",{className:"flex-1 mt-3 flex flex-col justify-end",children:(0,c.jsxs)("div",{className:"flex items-end justify-between gap-3",children:[(0,c.jsx)("div",{className:"flex-shrink-0",children:d?(0,c.jsx)(j,{values:o,darkMode:m,barCount:18,width:140,height:72,palette:oe,tooltipRef:le}):(0,c.jsx)("div",{className:"w-36 h-12 flex items-center justify-center text-xs text-gray-400 rounded border border-dashed",children:"No history"})}),(0,c.jsxs)("div",{className:"flex flex-col items-end gap-2 min-w-[120px]",children:[(0,c.jsxs)("div",{className:"text-right",children:[(0,c.jsx)("div",{className:"text-2xl font-bold ".concat(l(r)),children:d?"".concat(r,"%"):"Not assessed"}),(0,c.jsx)("div",{className:"text-xs text-gray-400",children:d?0!==a?"Preview \u2022 \u0394 ".concat(a>=0?"+".concat(a):a):"Real-time":"No assessment"})]}),(0,c.jsx)("div",{className:"flex items-center gap-2",children:d?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("button",{onClickCapture:t=>{t.stopPropagation(),z(t=>(0,n.A)((0,n.A)({},t),{},{[e.key]:!t[e.key]}))},className:"px-2 py-1 text-xs border rounded",title:"Toggle what-if",children:"What-if"}),(0,c.jsx)("button",{onClick:()=>U(e.key,Number(R[e.key]||0)+5),className:"px-2 py-1 text-xs border rounded",title:"+5 preview",children:"+5"}),(0,c.jsx)("button",{onClick:()=>be(e.key),className:"px-3 py-1 text-xs bg-indigo-600 text-white rounded",children:"Deep dive"})]}):(0,c.jsx)("button",{onClick:()=>Ne(e.key),className:"px-3 py-1 text-xs bg-indigo-600 text-white rounded",children:"Take assessment"})}),d&&P[e.key]&&(0,c.jsxs)("div",{className:"mt-2 w-full bg-transparent",children:[(0,c.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"Adjust scenario (%)"}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("input",{type:"range",min:-20,max:20,step:1,value:Number(R[e.key]||0),onChange:t=>U(e.key,Number(t.target.value)),className:"w-full"}),(0,c.jsx)("div",{className:"text-xs w-12 text-right",children:(R[e.key]||0)>=0?"+".concat(R[e.key]||0):R[e.key]||0})]}),(0,c.jsxs)("div",{className:"mt-2 flex gap-2 justify-end",children:[(0,c.jsx)("button",{onClick:()=>T(e.key),className:"px-2 py-1 text-xs border rounded",children:"Reset"}),(0,c.jsx)("button",{onClick:()=>function(e){if(!K.has(e))return;const t=Number(R[e]||0);if(t){L(s=>{const i=(0,n.A)({},s);return i[e]=Math.max(0,Math.min(100,Math.round((i[e]||0)+t))),I.current[e]=(I.current[e]||[]).concat(i[e]).slice(-36),i}),B(s=>[{id:"S-".concat(Date.now()),level:"info",type:"scenario",systemKey:e,title:"Scenario applied: ".concat(e),text:"Applied preview change ".concat(t>=0?"+"+t:t," to ").concat(e),ts:Date.now()},...s].slice(0,12)),T(e);try{window.dispatchEvent(new CustomEvent("conseqx:simulation:applied",{detail:{systemKey:e,delta:t,appliedAt:Date.now()}}))}catch(s){}}}(e.key),className:"px-2 py-1 text-xs bg-green-600 text-white rounded",children:"Apply"})]})]})]})]})})]},e.key)})}),(0,c.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{className:"p-4 rounded-md border ".concat(m?"bg-gray-800 border-gray-700":"bg-white border-gray-100"),children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"font-semibold flex items-center gap-2",children:[(0,c.jsx)(a.lHQ,{})," Alerts"]}),(0,c.jsx)("div",{className:"text-xs text-gray-400",children:"Prioritized"})]}),(0,c.jsxs)("ul",{className:"mt-3 text-sm space-y-2",children:[0===_.length&&(0,c.jsx)("li",{className:"text-xs text-gray-500",children:"No alerts"}),_.map(e=>(0,c.jsx)("li",{className:"p-2 rounded ".concat("high"===e.level?"bg-red-900/10 border border-red-700":"medium"===e.level?"bg-yellow-900/10 border border-yellow-700":"bg-gray-100/10 border border-gray-200"),children:(0,c.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,c.jsxs)("div",{className:"min-w-0",children:[(0,c.jsx)("div",{className:"font-medium truncate",children:e.title||e.text}),(0,c.jsx)("div",{className:"text-xs text-gray-400 mt-1 truncate",children:e.text}),(0,c.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["Type: ",e.type||"info"," \u2022 ",e.systemKey||"system"]})]}),(0,c.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,c.jsx)("div",{className:"text-xs text-gray-400",children:d(e.ts)}),(0,c.jsxs)("div",{className:"flex gap-2",children:[e.suggestedAction&&e.suggestedAction.action?(0,c.jsx)("button",{onClick:()=>e.suggestedAction.action(),className:"px-2 py-1 text-xs border rounded",children:e.suggestedAction.label}):null,(0,c.jsx)("button",{onClick:()=>{return t=e.id,void B(e=>e.filter(e=>e.id!==t));var t},className:"px-2 py-1 text-xs border rounded",children:"Acknowledge"})]})]})]})},e.id))]})]}),(0,c.jsxs)("div",{className:"p-4 rounded-md border ".concat(m?"bg-gray-800 border-gray-700":"bg-white border-gray-100"),children:[(0,c.jsx)("div",{className:"font-semibold",children:"Notes"}),(0,c.jsx)("div",{className:"text-xs text-gray-400 mt-2",children:"Live updates and external correlation are shown only for systems that have a recorded assessment (Assessment results \u2192 Diagnose vs external signals). Use the Assessments tab to add missing system data."}),(0,c.jsxs)("div",{className:"text-xs text-gray-400 mt-3",children:["Composite (preview): ",(0,c.jsxs)("span",{className:"font-semibold",children:[F,"%"]})]}),(0,c.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,c.jsx)("button",{onClick:()=>{O({}),z({})},className:"px-3 py-1 border rounded text-xs",children:"Clear Preview"}),(0,c.jsx)("button",{onClick:()=>Me(),className:"px-3 py-1 bg-indigo-600 text-white rounded text-xs",children:"Apply Preview"}),(0,c.jsx)("button",{onClick:ke,className:"px-3 py-1 rounded text-sm hidden sm:inline\n                  ".concat(m?"bg-gray-800 border border-gray-700 text-gray-100":"bg-white border border-gray-100 text-gray-900"),children:"Scenario Panel"})]})]})]})]}),de&&(0,c.jsxs)("div",{className:"fixed inset-0 z-60 flex items-end md:items-center justify-center p-4",children:[(0,c.jsx)("div",{className:"absolute inset-0",style:{backgroundColor:m?"rgba(2,6,23,0.6)":"rgba(0,0,0,0.45)"},onClick:Se}),(0,c.jsxs)("div",{className:"relative z-10 w-full max-w-4xl max-h-[90vh] overflow-auto rounded-t-xl md:rounded-2xl p-4 ".concat(Ae," ").concat(Ee," border shadow-lg hide-scrollbar"),role:"dialog","aria-modal":"true",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-lg font-semibold",children:"Scenario Panel"}),(0,c.jsx)("div",{className:"text-xs text-gray-400",children:"Compose multi-system scenarios, preview, save, and apply."})]}),(0,c.jsx)("div",{className:"flex items-center gap-2",children:(0,c.jsx)("button",{onClick:Se,className:"px-3 py-1 rounded-md border text-sm",children:(0,c.jsx)(a.QCr,{})})})]}),(0,c.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{className:"p-3 rounded-md border ".concat(m?"bg-gray-800 border-gray-700":"bg-white border-gray-100"),children:[(0,c.jsx)("div",{className:"text-sm font-semibold",children:"Current scenario (preview)"}),(0,c.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"Adjust sliders for assessed systems to compose a scenario. Use Save to store it, Apply to commit to this session."}),(0,c.jsx)("div",{className:"mt-3 space-y-3",children:S.filter(e=>K.has(e.key)).map(e=>(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("div",{className:"w-28 text-sm truncate",children:e.title}),(0,c.jsx)("input",{type:"range",min:-30,max:30,step:1,value:Number(R[e.key]||0),onChange:t=>U(e.key,Number(t.target.value)),className:"flex-1"}),(0,c.jsx)("div",{className:"w-12 text-right text-xs",children:(R[e.key]||0)>=0?"+".concat(R[e.key]||0):R[e.key]||0})]},e.key))}),(0,c.jsxs)("div",{className:"mt-4 flex items-center gap-2",children:[(0,c.jsx)("input",{placeholder:"Scenario name",value:ue,onChange:e=>xe(e.target.value),className:"px-2 py-1 rounded text-sm w-full\n                      ".concat(m?"bg-gray-800 border border-gray-700 text-gray-100 placeholder-gray-400":"bg-white border border-gray-100 text-gray-900 placeholder-gray-500")}),(0,c.jsx)("button",{onClick:()=>function(){const e=Ce((arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||ue||"Scenario ".concat((new Date).toLocaleString())),t=v();t.unshift(e),f(t),pe(t),xe(""),ge(null)}(),className:"px-3 py-1 bg-indigo-600 text-white rounded text-sm",children:"Save"}),(0,c.jsx)("button",{onClick:()=>{O({}),z({})},className:"px-3 py-1 border rounded text-sm",children:"Reset"}),(0,c.jsx)("button",{onClick:()=>Me(),className:"px-3 py-1 bg-green-600 text-white rounded text-sm",children:"Apply"})]}),(0,c.jsxs)("div",{className:"mt-3 text-xs text-gray-400",children:["Preview composite: ",(0,c.jsxs)("span",{className:"font-semibold",children:[F,"%"]})]})]}),(0,c.jsxs)("div",{className:"p-3 rounded-md border ".concat(m?"bg-gray-800 border-gray-700":"bg-white border-gray-100"),children:[(0,c.jsx)("div",{className:"flex items-center justify-between",children:(0,c.jsx)("div",{className:"text-sm font-semibold",children:"Saved scenarios"})}),(0,c.jsxs)("div",{className:"mt-3 space-y-2 max-h-64 overflow-auto",children:[0===he.length&&(0,c.jsx)("div",{className:"text-xs text-gray-400",children:"No saved scenarios"}),he.map(e=>(0,c.jsxs)("div",{className:"p-2 rounded border flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"min-w-0",children:[(0,c.jsx)("div",{className:"font-medium truncate",children:e.name}),(0,c.jsxs)("div",{className:"text-xs text-gray-400 truncate",children:[new Date(e.createdAt).toLocaleString()," \u2022 ",e.items.length," systems"]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("button",{onClick:()=>function(e){const t=v().find(t=>t.id===e);if(!t)return;const s={};t.items.forEach(e=>{s[e.systemKey]=e.delta}),O(s),me(!1)}(e.id),className:"px-2 py-1 text-xs border rounded",children:"Load"}),(0,c.jsx)("button",{onClick:()=>function(e){const t=v().find(t=>t.id===e);t&&(L(e=>{const s=(0,n.A)({},e);return t.items.forEach(e=>{K.has(e.systemKey)&&(s[e.systemKey]=Math.max(0,Math.min(100,Math.round((s[e.systemKey]||0)+Number(e.delta||0)))),I.current[e.systemKey]=(I.current[e.systemKey]||[]).concat(s[e.systemKey]).slice(-36))}),s}),B(e=>[{id:"S-".concat(Date.now()),level:"info",type:"scenario",title:"Scenario applied: ".concat(t.name),text:"Applied scenario to working scores.",ts:Date.now()},...e].slice(0,12)),me(!1))}(e.id),className:"px-2 py-1 text-xs bg-green-600 text-white rounded",children:"Apply"}),(0,c.jsx)("button",{onClick:()=>function(e){const t=v().filter(t=>t.id!==e);f(t),pe(t)}(e.id),className:"px-2 py-1 text-xs border rounded",children:"Delete"})]})]},e.id))]})]})]})]})]}),re.open&&(0,c.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,c.jsx)("div",{className:"absolute inset-0",style:{backgroundColor:m?"rgba(2,6,23,0.6)":"rgba(0,0,0,0.45)"},onClick:we}),(0,c.jsxs)("div",{className:"relative z-10 w-full max-w-4xl max-h-[90vh] overflow-auto rounded-2xl p-6 ".concat(Ae," ").concat(Ee," border shadow-2xl hide-scrollbar"),children:[(0,c.jsxs)("div",{className:"flex items-start justify-between gap-3 sticky top-0 bg-transparent",children:[(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-indigo-600 to-blue-500 flex items-center justify-center text-white text-xl font-bold",children:(0,c.jsx)(a.YYR,{})}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("h3",{className:"text-xl font-bold",children:[(S.find(e=>e.key===re.systemKey)||{}).title," \u2014 Deep Dive"]}),(0,c.jsx)("div",{className:"text-sm ".concat(Ke),children:"In-place analysis and recommendations for this system"})]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsxs)("button",{onClick:()=>function(e){try{const t={systemKey:e,title:(S.find(t=>t.key===e)||{}).title,current:D[e],preview:q[e],history:I.current[e]||[],external:(ne||[]).find(t=>t.systemKey===e)||null,exportedAt:Date.now()},s=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),n=URL.createObjectURL(s),i=document.createElement("a");i.href=n,i.download="".concat(t.title||e,"_deepdive.json"),document.body.appendChild(i),i.click(),i.remove(),setTimeout(()=>URL.revokeObjectURL(n),1500)}catch(t){}}(re.systemKey),className:"px-3 py-1 rounded-md border text-sm",title:"Export JSON",children:[(0,c.jsx)(a.WCW,{className:"inline mr-2"}),"Export"]}),(0,c.jsx)("button",{onClick:()=>function(e){var t,s;const n=S.find(t=>t.key===e)||{title:e},i=(I.current[e]||[]).slice(-24),r=(ne||[]).find(t=>t.systemKey===e),a='<!doctype html><html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>'.concat(n.title,' \u2014 Deep Dive</title><style>\n      @page{margin:20mm}body{font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;color:#111;margin:0;padding:0;background:#fff}\n      .wrap{max-width:820px;margin:18px auto;padding:18px}header{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px}\n      header h1{font-size:20px;margin:0}.meta{color:#555;font-size:13px}.panel{border-radius:10px;padding:12px;margin-bottom:12px;background:#fff;border:1px solid #e6e6e6}\n      .score{font-size:34px;font-weight:700}.muted{color:#666;font-size:13px}.row{display:flex;justify-content:space-between;gap:12px;align-items:center}.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:8px}\n      pre{white-space:pre-wrap;word-break:break-word;font-size:12px;color:#222;background:transparent;padding:0;border:none}footer{margin-top:18px;color:#666;font-size:12px;text-align:right}\n      @media print{body{-webkit-print-color-adjust:exact}.wrap{box-shadow:none}}</style></head><body>\n      <div class="wrap"><header><div><h1>').concat(n.title,' \u2014 Deep Dive</h1><div class="meta">').concat((new Date).toLocaleString(),'</div></div>\n      <div style="text-align:right"><div class="score">').concat(null!==(t=q[e])&&void 0!==t?t:"\u2014",'%</div><div class="muted">Current: ').concat(null!==(s=D[e])&&void 0!==s?s:"\u2014",'%</div></div></header>\n      <div class="panel"><div class="row"><div><div style="font-weight:600">Insights</div><div class="muted">').concat(je(e).join(" \u2022 "),'</div></div>\n      <div style="width:38%"><div style="font-weight:600">External signal</div><div class="muted">').concat(r?"".concat(r.type," ").concat(r.value," (").concat(r.importance,") \u2014 ").concat(r.source):"None",'</div></div></div></div>\n      <div class="panel"><div style="font-weight:600;margin-bottom:8px">Recent history (last ').concat(i.length," points)</div><pre>").concat(JSON.stringify(i,null,2),'</pre></div>\n      <div class="panel grid"><div><div style="font-weight:600">Forecast (4 weeks)</div><div class="muted">').concat("Small stabilization expected with focused sprints.",'</div></div>\n      <div><div style="font-weight:600">Recommendations</div><div class="muted">').concat(["Assign triage owner for top blockers","Start 2-week improvement sprint"].join("; "),'</div></div>\n      <div><div style="font-weight:600">Export</div><div class="muted">Use browser Print -> Save as PDF to create a PDF report.</div></div></div>\n      <footer>Generated by Conseq-X \u2022 ').concat((new Date).toLocaleString(),"</footer></div><script>setTimeout(()=>{window.print();},500);<\/script></body></html>"),o=window.open("","_blank","noopener,noreferrer");o&&(o.document.open(),o.document.write(a),o.document.close(),o.focus())}(re.systemKey),className:"px-3 py-1 rounded-md border text-sm",children:"Print"}),(0,c.jsx)("button",{onClick:we,className:"p-2 rounded-md text-gray-400","aria-label":"Close deep dive",children:(0,c.jsx)(a.QCr,{})})]})]}),(0,c.jsxs)("div",{className:"mt-4 space-y-5",children:[(0,c.jsx)("div",{className:"rounded-xl p-4 ".concat(m?"bg-gray-800 border border-gray-700":"bg-gray-50 border border-gray-100"),children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-xs text-gray-400",children:"Overall score"}),(0,c.jsxs)("div",{className:"text-3xl font-bold ".concat(l(D[re.systemKey])),children:[null!==(t=D[re.systemKey])&&void 0!==t?t:"\u2014","%"]}),(0,c.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"Current"})]}),(0,c.jsxs)("div",{className:"w-56",children:[(0,c.jsx)("div",{className:"text-xs text-gray-400 mb-2",children:"Recent history"}),(0,c.jsx)("div",{style:{height:48},children:(0,c.jsx)(j,{values:(I.current[re.systemKey]||[]).slice(-36),darkMode:m,barCount:24,width:196,height:56,palette:oe,tooltipRef:le})})]})]})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"font-semibold",children:"External Signals"}),(0,c.jsx)("div",{className:"mt-2 space-y-2",children:(()=>{const e=(ne||[]).filter(e=>e.systemKey===re.systemKey);return e&&0!==e.length?e.map(e=>(0,c.jsx)("div",{className:"p-3 rounded-md ".concat(m?"bg-gray-800 border border-gray-700":"bg-gray-50 border border-gray-100"),children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"font-medium",children:[e.type," \u2022 ",e.source]}),(0,c.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:e.description})]}),(0,c.jsxs)("div",{className:"text-right",children:[(0,c.jsx)("div",{className:"font-semibold ".concat(e.value>=75?"text-red-500":e.value>=55?"text-yellow-500":"text-green-500"),children:e.value}),(0,c.jsx)("div",{className:"text-xs text-gray-400",children:e.importance})]})]})},e.id)):(0,c.jsx)("div",{className:"p-3 rounded-md ".concat(m?"bg-gray-800 border border-gray-700":"bg-gray-50 border border-gray-100"),children:"No external signals available"})})()})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"font-semibold",children:"Insights"}),(0,c.jsx)("div",{className:"mt-2 space-y-2",children:je(re.systemKey).map((e,t)=>(0,c.jsx)("div",{className:"p-3 rounded-md ".concat(m?"bg-gray-800 border border-gray-700":"bg-gray-50 border border-gray-100"),children:(0,c.jsx)("div",{className:"text-sm",children:e})},t))})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"font-semibold",children:"Forecasts"}),(0,c.jsx)("div",{className:"mt-2 grid grid-cols-1 sm:grid-cols-3 gap-2",children:(re.systemKey,[{horizon:"4 weeks",text:"Small stabilization expected with focused sprints."},{horizon:"3 months",text:"Measurable lift if owners and KPIs are enforced."},{horizon:"12 months",text:"Sustained improvement requires capability uplift and playbooks."}]).map((e,t)=>(0,c.jsxs)("div",{className:"p-3 rounded-md ".concat(m?"bg-gray-800 border border-gray-700":"bg-gray-50 border border-gray-100"),children:[(0,c.jsx)("div",{className:"font-medium",children:e.horizon}),(0,c.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:e.text})]},t))})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"font-semibold",children:"Recommendations"}),(0,c.jsx)("div",{className:"mt-2 space-y-2",children:(re.systemKey,[{title:"Short",items:["Assign triage owner for top blockers","Start 2-week improvement sprint"]},{title:"Mid",items:["Set weekly KPIs","Document common handoffs"]},{title:"Long",items:["Embed playbooks","Run capability uplift program"]}]).map((e,t)=>(0,c.jsxs)("div",{className:"p-3 rounded-md ".concat(m?"bg-blue-900/6 border border-blue-800":"bg-blue-50 border border-blue-100"),children:[(0,c.jsx)("div",{className:"font-medium",children:e.title}),(0,c.jsx)("ul",{className:"list-disc pl-5 mt-2 text-sm",children:e.items.map((e,t)=>(0,c.jsx)("li",{children:e},t))})]},t))})]}),(0,c.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between items-start gap-2",children:[(0,c.jsx)("div",{className:"text-xs text-gray-400",children:"Use Retake to begin a new assessment (assessment flow will open). Use the Assessments tab to include unassessed systems."}),(0,c.jsx)("div",{className:"flex items-center gap-2 mt-2 sm:mt-0",children:(0,c.jsx)("button",{onClick:()=>{try{window.dispatchEvent(new CustomEvent("conseqx:assessment:start",{detail:{systemId:re.systemKey,orgId:k}}))}catch(e){}x("/ceo/assessments?focus=".concat(encodeURIComponent(re.systemKey)))},className:"px-3 py-2 rounded-md border text-sm",children:"Retake"})})]})]})]})]}),(0,c.jsx)("div",{style:{position:"fixed",left:0,top:0,pointerEvents:"none",zIndex:80},children:(0,c.jsx)(N,{ref:le,darkMode:m})})]})}},41962:(e,t,s)=>{s.d(t,{CO:()=>n,Os:()=>r,y6:()=>a});const n=[{key:"interdependency",title:"Interdependency",description:"Cross-functional collaboration and dependency management",icon:"\ud83d\udd17",color:"#3B82F6",order:1},{key:"orchestration",title:"Orchestration",description:"Development cycles, sprint planning, and continuous improvement",icon:"\ud83d\udd04",color:"#10B981",order:2},{key:"investigation",title:"Investigation",description:"Data analysis, research, and discovery processes",icon:"\ud83d\udd0e",color:"#F59E0B",order:3},{key:"interpretation",title:"Interpretation",description:"Insight generation, decision-making, and strategic analysis",icon:"\ud83d\udca1",color:"#8B5CF6",order:4},{key:"illustration",title:"Illustration",description:"Communication, visualization, and knowledge sharing",icon:"\ud83d\udd04",color:"#EF4444",order:5},{key:"inlignment",title:"Inlignment",description:"Strategic coordination, goal setting, and organizational coherence",icon:"\ud83c\udfaf",color:"#06B6D4",order:6}],i={orchestration:"orchestration",inlignment:"inlignment",interdependency:"interdependency",orchestration:"orchestration",investigation:"investigation",interpretation:"interpretation",illustration:"illustration",inlignment:"inlignment",dependency:"interdependency",dependencies:"interdependency",analysis:"investigation",research:"investigation",insights:"interpretation",reporting:"illustration",visualization:"illustration",coordination:"inlignment",strategy:"inlignment"};function r(e){if(!e||"string"!==typeof e)return"investigation";const t=e.toLowerCase().trim();return i[t]||t}function a(){return n.sort((e,t)=>e.order-t.order).map(e=>({id:e.key,key:e.key,title:e.title,description:e.description,icon:e.icon,color:e.color}))}const o=Object.values({interdependency:.18,orchestration:.2,investigation:.16,interpretation:.18,illustration:.14,inlignment:.14}).reduce((e,t)=>e+t,0);Math.abs(o-1)>.001&&console.warn("[systems.js] System weights sum to ".concat(o.toFixed(3),", should be 1.0"))}}]);
//# sourceMappingURL=807.a77a8ada.chunk.js.map